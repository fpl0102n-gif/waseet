var Mx=e=>{throw TypeError(e)};var Oh=(e,t,r)=>t.has(e)||Mx("Cannot "+r);var W=(e,t,r)=>(Oh(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?Mx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Te=(e,t,r,n)=>(Oh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ht=(e,t,r)=>(Oh(e,t,"access private method"),r);var Sc=(e,t,r,n)=>({set _(a){Te(e,t,a,r)},get _(){return W(e,t,n)}});function a0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var i0={exports:{}},Su={},o0={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),Uk=Symbol.for("react.portal"),zk=Symbol.for("react.fragment"),Bk=Symbol.for("react.strict_mode"),Vk=Symbol.for("react.profiler"),Wk=Symbol.for("react.provider"),Hk=Symbol.for("react.context"),Kk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),Yk=Symbol.for("react.memo"),Jk=Symbol.for("react.lazy"),Fx=Symbol.iterator;function Qk(e){return e===null||typeof e!="object"?null:(e=Fx&&e[Fx]||e["@@iterator"],typeof e=="function"?e:null)}var l0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c0=Object.assign,d0={};function _o(e,t,r){this.props=e,this.context=t,this.refs=d0,this.updater=r||l0}_o.prototype.isReactComponent={};_o.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u0(){}u0.prototype=_o.prototype;function Ef(e,t,r){this.props=e,this.context=t,this.refs=d0,this.updater=r||l0}var Pf=Ef.prototype=new u0;Pf.constructor=Ef;c0(Pf,_o.prototype);Pf.isPureReactComponent=!0;var $x=Array.isArray,h0=Object.prototype.hasOwnProperty,Tf={current:null},m0={key:!0,ref:!0,__self:!0,__source:!0};function p0(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)h0.call(t,n)&&!m0.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:oc,type:e,key:i,ref:o,props:a,_owner:Tf.current}}function Xk(e,t){return{$$typeof:oc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Af(e){return typeof e=="object"&&e!==null&&e.$$typeof===oc}function Zk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qx=/\/+/g;function Dh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zk(""+e.key):t.toString(36)}function ld(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case oc:case Uk:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Dh(o,0):n,$x(a)?(r="",e!=null&&(r=e.replace(qx,"$&/")+"/"),ld(a,t,r,"",function(d){return d})):a!=null&&(Af(a)&&(a=Xk(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(qx,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",$x(e))for(var c=0;c<e.length;c++){i=e[c];var l=n+Dh(i,c);o+=ld(i,t,r,l,a)}else if(l=Qk(e),typeof l=="function")for(e=l.call(e),c=0;!(i=e.next()).done;)i=i.value,l=n+Dh(i,c++),o+=ld(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kc(e,t,r){if(e==null)return e;var n=[],a=0;return ld(e,n,"","",function(i){return t.call(r,i,a++)}),n}function eC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var os={current:null},cd={transition:null},tC={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:cd,ReactCurrentOwner:Tf};function f0(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:kc,forEach:function(e,t,r){kc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kc(e,function(){t++}),t},toArray:function(e){return kc(e,function(t){return t})||[]},only:function(e){if(!Af(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=_o;Le.Fragment=zk;Le.Profiler=Vk;Le.PureComponent=Ef;Le.StrictMode=Bk;Le.Suspense=Gk;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;Le.act=f0;Le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=c0({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Tf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)h0.call(t,l)&&!m0.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:oc,type:e.type,key:a,ref:i,props:n,_owner:o}};Le.createContext=function(e){return e={$$typeof:Hk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wk,_context:e},e.Consumer=e};Le.createElement=p0;Le.createFactory=function(e){var t=p0.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Kk,render:e}};Le.isValidElement=Af;Le.lazy=function(e){return{$$typeof:Jk,_payload:{_status:-1,_result:e},_init:eC}};Le.memo=function(e,t){return{$$typeof:Yk,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=cd.transition;cd.transition={};try{e()}finally{cd.transition=t}};Le.unstable_act=f0;Le.useCallback=function(e,t){return os.current.useCallback(e,t)};Le.useContext=function(e){return os.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return os.current.useDeferredValue(e)};Le.useEffect=function(e,t){return os.current.useEffect(e,t)};Le.useId=function(){return os.current.useId()};Le.useImperativeHandle=function(e,t,r){return os.current.useImperativeHandle(e,t,r)};Le.useInsertionEffect=function(e,t){return os.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return os.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return os.current.useMemo(e,t)};Le.useReducer=function(e,t,r){return os.current.useReducer(e,t,r)};Le.useRef=function(e){return os.current.useRef(e)};Le.useState=function(e){return os.current.useState(e)};Le.useSyncExternalStore=function(e,t,r){return os.current.useSyncExternalStore(e,t,r)};Le.useTransition=function(){return os.current.useTransition()};Le.version="18.3.1";o0.exports=Le;var f=o0.exports;const Y=Cf(f),Rf=a0({__proto__:null,default:Y},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=f,rC=Symbol.for("react.element"),nC=Symbol.for("react.fragment"),aC=Object.prototype.hasOwnProperty,iC=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oC={key:!0,ref:!0,__self:!0,__source:!0};function g0(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)aC.call(t,n)&&!oC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:rC,type:e,key:i,ref:o,props:a,_owner:iC.current}}Su.Fragment=nC;Su.jsx=g0;Su.jsxs=g0;i0.exports=Su;var s=i0.exports,x0={exports:{}},Ms={},y0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var H=O.length;O.push($);e:for(;0<H;){var ne=H-1>>>1,ae=O[ne];if(0<a(ae,$))O[ne]=$,O[H]=ae,H=ne;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],H=O.pop();if(H!==$){O[0]=H;e:for(var ne=0,ae=O.length,pe=ae>>>1;ne<pe;){var me=2*(ne+1)-1,Oe=O[me],Fe=me+1,ee=O[Fe];if(0>a(Oe,H))Fe<ae&&0>a(ee,Oe)?(O[ne]=ee,O[Fe]=H,ne=Fe):(O[ne]=Oe,O[me]=H,ne=me);else if(Fe<ae&&0>a(ee,H))O[ne]=ee,O[Fe]=H,ne=Fe;else break e}}return $}function a(O,$){var H=O.sortIndex-$.sortIndex;return H!==0?H:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],d=[],u=1,p=null,m=3,h=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(O){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=O)n(d),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(d)}}function w(O){if(x=!1,j(O),!y)if(r(l)!==null)y=!0,U(N);else{var $=r(d);$!==null&&F(w,$.startTime-O)}}function N(O,$){y=!1,x&&(x=!1,g(C),C=-1),h=!0;var H=m;try{for(j($),p=r(l);p!==null&&(!(p.expirationTime>$)||O&&!S());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,m=p.priorityLevel;var ae=ne(p.expirationTime<=$);$=e.unstable_now(),typeof ae=="function"?p.callback=ae:p===r(l)&&n(l),j($)}else n(l);p=r(l)}if(p!==null)var pe=!0;else{var me=r(d);me!==null&&F(w,me.startTime-$),pe=!1}return pe}finally{p=null,m=H,h=!1}}var k=!1,_=null,C=-1,A=5,E=-1;function S(){return!(e.unstable_now()-E<A)}function T(){if(_!==null){var O=e.unstable_now();E=O;var $=!0;try{$=_(!0,O)}finally{$?R():(k=!1,_=null)}}else k=!1}var R;if(typeof v=="function")R=function(){v(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=T,R=function(){z.postMessage(null)}}else R=function(){b(T,0)};function U(O){_=O,k||(k=!0,R())}function F(O,$){C=b(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,U(N))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var H=m;m=$;try{return O()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=m;m=O;try{return $()}finally{m=H}},e.unstable_scheduleCallback=function(O,$,H){var ne=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=H+ae,O={id:u++,callback:$,priorityLevel:O,startTime:H,expirationTime:ae,sortIndex:-1},H>ne?(O.sortIndex=H,t(d,O),r(l)===null&&O===r(d)&&(x?(g(C),C=-1):x=!0,F(w,H-ne))):(O.sortIndex=ae,t(l,O),y||h||(y=!0,U(N))),O},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(O){var $=m;return function(){var H=m;m=$;try{return O.apply(this,arguments)}finally{m=H}}}})(v0);y0.exports=v0;var lC=y0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=f,Rs=lC;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b0=new Set,wl={};function li(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(wl[e]=t,e=0;e<t.length;e++)b0.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=Object.prototype.hasOwnProperty,dC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ux={},zx={};function uC(e){return Mm.call(zx,e)?!0:Mm.call(Ux,e)?!1:dC.test(e)?zx[e]=!0:(Ux[e]=!0,!1)}function hC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mC(e,t,r,n){if(t===null||typeof t>"u"||hC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ls(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var Of=/[\-:]([a-z])/g;function Df(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Of,Df);Wt[t]=new ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Of,Df);Wt[t]=new ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Of,Df);Wt[t]=new ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new ls(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function If(e,t,r,n){var a=Wt.hasOwnProperty(t)?Wt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mC(t,r,a,n)&&(r=null),n||a===null?uC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xn=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cc=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ai=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),j0=Symbol.for("react.provider"),w0=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),_0=Symbol.for("react.offscreen"),Bx=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=Bx&&e[Bx]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,Ih;function el(e){if(Ih===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ih=t&&t[1]||""}return`
`+Ih+e}var Lh=!1;function Mh(e,t){if(!e||Lh)return"";Lh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,c=i.length-1;1<=o&&0<=c&&a[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==i[c]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{Lh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?el(e):""}function pC(e){switch(e.tag){case 5:return el(e.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return e=Mh(e.type,!1),e;case 11:return e=Mh(e.type.render,!1),e;case 1:return e=Mh(e.type,!0),e;default:return""}}function Um(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ai:return"Fragment";case Ti:return"Portal";case Fm:return"Profiler";case Lf:return"StrictMode";case $m:return"Suspense";case qm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w0:return(e.displayName||"Context")+".Consumer";case j0:return(e._context.displayName||"Context")+".Provider";case Mf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ff:return t=e.displayName||null,t!==null?t:Um(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return Um(e(t))}catch{}}return null}function fC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Um(t);case 8:return t===Lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ca(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gC(e){var t=N0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ec(e){e._valueTracker||(e._valueTracker=gC(e))}function S0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zm(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ca(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k0(e,t){t=t.checked,t!=null&&If(e,"checked",t,!1)}function Bm(e,t){k0(e,t);var r=ca(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vm(e,t.type,ca(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vm(e,t,r){(t!=="number"||kd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tl=Array.isArray;function Bi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ca(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Wm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(tl(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ca(r)}}function C0(e,t){var r=ca(t.value),n=ca(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Kx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pc,P0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pc=Pc||document.createElement("div"),Pc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _l(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xC=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(e){xC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ol[t]=ol[e]})});function T0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ol.hasOwnProperty(e)&&ol[e]?(""+t).trim():t+"px"}function A0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=T0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var yC=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Km(e,t){if(t){if(yC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Gm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ym=null;function $f(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jm=null,Vi=null,Wi=null;function Gx(e){if(e=dc(e)){if(typeof Jm!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Tu(t),Jm(e.stateNode,e.type,t))}}function R0(e){Vi?Wi?Wi.push(e):Wi=[e]:Vi=e}function O0(){if(Vi){var e=Vi,t=Wi;if(Wi=Vi=null,Gx(e),t)for(e=0;e<t.length;e++)Gx(t[e])}}function D0(e,t){return e(t)}function I0(){}var Fh=!1;function L0(e,t,r){if(Fh)return e(t,r);Fh=!0;try{return D0(e,t,r)}finally{Fh=!1,(Vi!==null||Wi!==null)&&(I0(),O0())}}function Nl(e,t){var r=e.stateNode;if(r===null)return null;var n=Tu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var Qm=!1;if(cn)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Qm=!1}function vC(e,t,r,n,a,i,o,c,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ll=!1,Cd=null,Ed=!1,Xm=null,bC={onError:function(e){ll=!0,Cd=e}};function jC(e,t,r,n,a,i,o,c,l){ll=!1,Cd=null,vC.apply(bC,arguments)}function wC(e,t,r,n,a,i,o,c,l){if(jC.apply(this,arguments),ll){if(ll){var d=Cd;ll=!1,Cd=null}else throw Error(Z(198));Ed||(Ed=!0,Xm=d)}}function ci(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function M0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yx(e){if(ci(e)!==e)throw Error(Z(188))}function _C(e){var t=e.alternate;if(!t){if(t=ci(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Yx(a),e;if(i===n)return Yx(a),t;i=i.sibling}throw Error(Z(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=i;break}if(c===n){o=!0,n=a,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=a;break}if(c===n){o=!0,n=i,r=a;break}c=c.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function F0(e){return e=_C(e),e!==null?$0(e):null}function $0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$0(e);if(t!==null)return t;e=e.sibling}return null}var q0=Rs.unstable_scheduleCallback,Jx=Rs.unstable_cancelCallback,NC=Rs.unstable_shouldYield,SC=Rs.unstable_requestPaint,jt=Rs.unstable_now,kC=Rs.unstable_getCurrentPriorityLevel,qf=Rs.unstable_ImmediatePriority,U0=Rs.unstable_UserBlockingPriority,Pd=Rs.unstable_NormalPriority,CC=Rs.unstable_LowPriority,z0=Rs.unstable_IdlePriority,ku=null,Mr=null;function EC(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(ku,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:AC,PC=Math.log,TC=Math.LN2;function AC(e){return e>>>=0,e===0?32:31-(PC(e)/TC|0)|0}var Tc=64,Ac=4194304;function sl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Td(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?n=sl(c):(i&=o,i!==0&&(n=sl(i)))}else o=r&~a,o!==0?n=sl(o):i!==0&&(n=sl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gr(t),a=1<<r,n|=e[r],t&=~a;return n}function RC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gr(i),c=1<<o,l=a[o];l===-1?(!(c&r)||c&n)&&(a[o]=RC(c,t)):l<=t&&(e.expiredLanes|=c),i&=~c}}function Zm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B0(){var e=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),e}function $h(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function lc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=r}function DC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-gr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Uf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var We=0;function V0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var W0,zf,H0,K0,G0,ep=!1,Rc=[],Qn=null,Xn=null,Zn=null,Sl=new Map,kl=new Map,Mn=[],IC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qx(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function Bo(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=dc(t),t!==null&&zf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function LC(e,t,r,n,a){switch(t){case"focusin":return Qn=Bo(Qn,e,t,r,n,a),!0;case"dragenter":return Xn=Bo(Xn,e,t,r,n,a),!0;case"mouseover":return Zn=Bo(Zn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Sl.set(i,Bo(Sl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,kl.set(i,Bo(kl.get(i)||null,e,t,r,n,a)),!0}return!1}function Y0(e){var t=Da(e.target);if(t!==null){var r=ci(t);if(r!==null){if(t=r.tag,t===13){if(t=M0(r),t!==null){e.blockedOn=t,G0(e.priority,function(){H0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ym=n,r.target.dispatchEvent(n),Ym=null}else return t=dc(r),t!==null&&zf(t),e.blockedOn=r,!1;t.shift()}return!0}function Xx(e,t,r){dd(e)&&r.delete(t)}function MC(){ep=!1,Qn!==null&&dd(Qn)&&(Qn=null),Xn!==null&&dd(Xn)&&(Xn=null),Zn!==null&&dd(Zn)&&(Zn=null),Sl.forEach(Xx),kl.forEach(Xx)}function Vo(e,t){e.blockedOn===t&&(e.blockedOn=null,ep||(ep=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,MC)))}function Cl(e){function t(a){return Vo(a,e)}if(0<Rc.length){Vo(Rc[0],e);for(var r=1;r<Rc.length;r++){var n=Rc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qn!==null&&Vo(Qn,e),Xn!==null&&Vo(Xn,e),Zn!==null&&Vo(Zn,e),Sl.forEach(t),kl.forEach(t),r=0;r<Mn.length;r++)n=Mn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)Y0(r),r.blockedOn===null&&Mn.shift()}var Hi=xn.ReactCurrentBatchConfig,Ad=!0;function FC(e,t,r,n){var a=We,i=Hi.transition;Hi.transition=null;try{We=1,Bf(e,t,r,n)}finally{We=a,Hi.transition=i}}function $C(e,t,r,n){var a=We,i=Hi.transition;Hi.transition=null;try{We=4,Bf(e,t,r,n)}finally{We=a,Hi.transition=i}}function Bf(e,t,r,n){if(Ad){var a=tp(e,t,r,n);if(a===null)Yh(e,t,n,Rd,r),Qx(e,n);else if(LC(a,e,t,r,n))n.stopPropagation();else if(Qx(e,n),t&4&&-1<IC.indexOf(e)){for(;a!==null;){var i=dc(a);if(i!==null&&W0(i),i=tp(e,t,r,n),i===null&&Yh(e,t,n,Rd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Yh(e,t,n,null,r)}}var Rd=null;function tp(e,t,r,n){if(Rd=null,e=$f(n),e=Da(e),e!==null)if(t=ci(e),t===null)e=null;else if(r=t.tag,r===13){if(e=M0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rd=e,null}function J0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kC()){case qf:return 1;case U0:return 4;case Pd:case CC:return 16;case z0:return 536870912;default:return 16}default:return 16}}var Wn=null,Vf=null,ud=null;function Q0(){if(ud)return ud;var e,t=Vf,r=t.length,n,a="value"in Wn?Wn.value:Wn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return ud=a.slice(e,1<n?1-n:void 0)}function hd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oc(){return!0}function Zx(){return!1}function Fs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oc:Zx,this.isPropagationStopped=Zx,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),t}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wf=Fs(No),cc=mt({},No,{view:0,detail:0}),qC=Fs(cc),qh,Uh,Wo,Cu=mt({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wo&&(Wo&&e.type==="mousemove"?(qh=e.screenX-Wo.screenX,Uh=e.screenY-Wo.screenY):Uh=qh=0,Wo=e),qh)},movementY:function(e){return"movementY"in e?e.movementY:Uh}}),ey=Fs(Cu),UC=mt({},Cu,{dataTransfer:0}),zC=Fs(UC),BC=mt({},cc,{relatedTarget:0}),zh=Fs(BC),VC=mt({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=Fs(VC),HC=mt({},No,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KC=Fs(HC),GC=mt({},No,{data:0}),ty=Fs(GC),YC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QC[e])?!!t[e]:!1}function Hf(){return XC}var ZC=mt({},cc,{key:function(e){if(e.key){var t=YC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(e){return e.type==="keypress"?hd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eE=Fs(ZC),tE=mt({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=Fs(tE),sE=mt({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),rE=Fs(sE),nE=mt({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),aE=Fs(nE),iE=mt({},Cu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oE=Fs(iE),lE=[9,13,27,32],Kf=cn&&"CompositionEvent"in window,cl=null;cn&&"documentMode"in document&&(cl=document.documentMode);var cE=cn&&"TextEvent"in window&&!cl,X0=cn&&(!Kf||cl&&8<cl&&11>=cl),ry=" ",ny=!1;function Z0(e,t){switch(e){case"keyup":return lE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ej(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function dE(e,t){switch(e){case"compositionend":return ej(t);case"keypress":return t.which!==32?null:(ny=!0,ry);case"textInput":return e=t.data,e===ry&&ny?null:e;default:return null}}function uE(e,t){if(Ri)return e==="compositionend"||!Kf&&Z0(e,t)?(e=Q0(),ud=Vf=Wn=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X0&&t.locale!=="ko"?null:t.data;default:return null}}var hE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hE[e.type]:t==="textarea"}function tj(e,t,r,n){R0(n),t=Od(t,"onChange"),0<t.length&&(r=new Wf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dl=null,El=null;function mE(e){hj(e,0)}function Eu(e){var t=Ii(e);if(S0(t))return e}function pE(e,t){if(e==="change")return t}var sj=!1;if(cn){var Bh;if(cn){var Vh="oninput"in document;if(!Vh){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Vh=typeof iy.oninput=="function"}Bh=Vh}else Bh=!1;sj=Bh&&(!document.documentMode||9<document.documentMode)}function oy(){dl&&(dl.detachEvent("onpropertychange",rj),El=dl=null)}function rj(e){if(e.propertyName==="value"&&Eu(El)){var t=[];tj(t,El,e,$f(e)),L0(mE,t)}}function fE(e,t,r){e==="focusin"?(oy(),dl=t,El=r,dl.attachEvent("onpropertychange",rj)):e==="focusout"&&oy()}function gE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(El)}function xE(e,t){if(e==="click")return Eu(t)}function yE(e,t){if(e==="input"||e==="change")return Eu(t)}function vE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:vE;function Pl(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Mm.call(t,a)||!br(e[a],t[a]))return!1}return!0}function ly(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cy(e,t){var r=ly(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ly(r)}}function nj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aj(){for(var e=window,t=kd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kd(e.document)}return t}function Gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bE(e){var t=aj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nj(r.ownerDocument.documentElement,r)){if(n!==null&&Gf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=cy(r,i);var o=cy(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jE=cn&&"documentMode"in document&&11>=document.documentMode,Oi=null,sp=null,ul=null,rp=!1;function dy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rp||Oi==null||Oi!==kd(n)||(n=Oi,"selectionStart"in n&&Gf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ul&&Pl(ul,n)||(ul=n,n=Od(sp,"onSelect"),0<n.length&&(t=new Wf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Oi)))}function Dc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Di={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Wh={},ij={};cn&&(ij=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Pu(e){if(Wh[e])return Wh[e];if(!Di[e])return e;var t=Di[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ij)return Wh[e]=t[r];return e}var oj=Pu("animationend"),lj=Pu("animationiteration"),cj=Pu("animationstart"),dj=Pu("transitionend"),uj=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(e,t){uj.set(e,t),li(t,[e])}for(var Hh=0;Hh<uy.length;Hh++){var Kh=uy[Hh],wE=Kh.toLowerCase(),_E=Kh[0].toUpperCase()+Kh.slice(1);fa(wE,"on"+_E)}fa(oj,"onAnimationEnd");fa(lj,"onAnimationIteration");fa(cj,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(dj,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function hy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wC(n,t,void 0,e),e.currentTarget=null}function hj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,d=c.currentTarget;if(c=c.listener,l!==i&&a.isPropagationStopped())break e;hy(a,c,d),i=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,d=c.currentTarget,c=c.listener,l!==i&&a.isPropagationStopped())break e;hy(a,c,d),i=l}}}if(Ed)throw e=Xm,Ed=!1,Xm=null,e}function Ze(e,t){var r=t[lp];r===void 0&&(r=t[lp]=new Set);var n=e+"__bubble";r.has(n)||(mj(t,e,2,!1),r.add(n))}function Gh(e,t,r){var n=0;t&&(n|=4),mj(r,e,n,t)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Tl(e){if(!e[Ic]){e[Ic]=!0,b0.forEach(function(r){r!=="selectionchange"&&(NE.has(r)||Gh(r,!1,e),Gh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ic]||(t[Ic]=!0,Gh("selectionchange",!1,t))}}function mj(e,t,r,n){switch(J0(t)){case 1:var a=FC;break;case 4:a=$C;break;default:a=Bf}r=a.bind(null,t,r,e),a=void 0,!Qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Yh(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;c!==null;){if(o=Da(c),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}c=c.parentNode}}n=n.return}L0(function(){var d=i,u=$f(r),p=[];e:{var m=uj.get(e);if(m!==void 0){var h=Wf,y=e;switch(e){case"keypress":if(hd(r)===0)break e;case"keydown":case"keyup":h=eE;break;case"focusin":y="focus",h=zh;break;case"focusout":y="blur",h=zh;break;case"beforeblur":case"afterblur":h=zh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=zC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rE;break;case oj:case lj:case cj:h=WC;break;case dj:h=aE;break;case"scroll":h=qC;break;case"wheel":h=oE;break;case"copy":case"cut":case"paste":h=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=sy}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var v=d,j;v!==null;){j=v;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,g!==null&&(w=Nl(v,g),w!=null&&x.push(Al(v,w,j)))),b)break;v=v.return}0<x.length&&(m=new h(m,y,null,r,u),p.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==Ym&&(y=r.relatedTarget||r.fromElement)&&(Da(y)||y[dn]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=d,y=y?Da(y):null,y!==null&&(b=ci(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=d),h!==y)){if(x=ey,w="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=sy,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=h==null?m:Ii(h),j=y==null?m:Ii(y),m=new x(w,v+"leave",h,r,u),m.target=b,m.relatedTarget=j,w=null,Da(u)===d&&(x=new x(g,v+"enter",y,r,u),x.target=j,x.relatedTarget=b,w=x),b=w,h&&y)t:{for(x=h,g=y,v=0,j=x;j;j=mi(j))v++;for(j=0,w=g;w;w=mi(w))j++;for(;0<v-j;)x=mi(x),v--;for(;0<j-v;)g=mi(g),j--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=mi(x),g=mi(g)}x=null}else x=null;h!==null&&my(p,m,h,x,!1),y!==null&&b!==null&&my(p,b,y,x,!0)}}e:{if(m=d?Ii(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=pE;else if(ay(m))if(sj)N=yE;else{N=gE;var k=fE}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=xE);if(N&&(N=N(e,d))){tj(p,N,r,u);break e}k&&k(e,m,d),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Vm(m,"number",m.value)}switch(k=d?Ii(d):window,e){case"focusin":(ay(k)||k.contentEditable==="true")&&(Oi=k,sp=d,ul=null);break;case"focusout":ul=sp=Oi=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,dy(p,r,u);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":dy(p,r,u)}var _;if(Kf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ri?Z0(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(X0&&r.locale!=="ko"&&(Ri||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ri&&(_=Q0()):(Wn=u,Vf="value"in Wn?Wn.value:Wn.textContent,Ri=!0)),k=Od(d,C),0<k.length&&(C=new ty(C,e,null,r,u),p.push({event:C,listeners:k}),_?C.data=_:(_=ej(r),_!==null&&(C.data=_)))),(_=cE?dE(e,r):uE(e,r))&&(d=Od(d,"onBeforeInput"),0<d.length&&(u=new ty("onBeforeInput","beforeinput",null,r,u),p.push({event:u,listeners:d}),u.data=_))}hj(p,t)})}function Al(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Od(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Nl(e,r),i!=null&&n.unshift(Al(e,i,a)),i=Nl(e,t),i!=null&&n.push(Al(e,i,a))),e=e.return}return n}function mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function my(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var c=r,l=c.alternate,d=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&d!==null&&(c=d,a?(l=Nl(r,i),l!=null&&o.unshift(Al(r,l,c))):a||(l=Nl(r,i),l!=null&&o.push(Al(r,l,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var SE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(SE,`
`).replace(kE,"")}function Lc(e,t,r){if(t=py(t),py(e)!==t&&r)throw Error(Z(425))}function Dd(){}var np=null,ap=null;function ip(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(e){return fy.resolve(null).then(e).catch(PE)}:op;function PE(e){setTimeout(function(){throw e})}function Jh(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Cl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cl(t)}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var So=Math.random().toString(36).slice(2),Dr="__reactFiber$"+So,Rl="__reactProps$"+So,dn="__reactContainer$"+So,lp="__reactEvents$"+So,TE="__reactListeners$"+So,AE="__reactHandles$"+So;function Da(e){var t=e[Dr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[dn]||r[Dr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gy(e);e!==null;){if(r=e[Dr])return r;e=gy(e)}return t}e=r,r=e.parentNode}return null}function dc(e){return e=e[Dr]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Tu(e){return e[Rl]||null}var cp=[],Li=-1;function ga(e){return{current:e}}function et(e){0>Li||(e.current=cp[Li],cp[Li]=null,Li--)}function Qe(e,t){Li++,cp[Li]=e.current,e.current=t}var da={},Qt=ga(da),gs=ga(!1),Ga=da;function lo(e,t){var r=e.type.contextTypes;if(!r)return da;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xs(e){return e=e.childContextTypes,e!=null}function Id(){et(gs),et(Qt)}function xy(e,t,r){if(Qt.current!==da)throw Error(Z(168));Qe(Qt,t),Qe(gs,r)}function pj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Z(108,fC(e)||"Unknown",a));return mt({},r,n)}function Ld(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,Ga=Qt.current,Qe(Qt,e),Qe(gs,gs.current),!0}function yy(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=pj(e,t,Ga),n.__reactInternalMemoizedMergedChildContext=e,et(gs),et(Qt),Qe(Qt,e)):et(gs),Qe(gs,r)}var Qr=null,Au=!1,Qh=!1;function fj(e){Qr===null?Qr=[e]:Qr.push(e)}function RE(e){Au=!0,fj(e)}function xa(){if(!Qh&&Qr!==null){Qh=!0;var e=0,t=We;try{var r=Qr;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qr=null,Au=!1}catch(a){throw Qr!==null&&(Qr=Qr.slice(e+1)),q0(qf,xa),a}finally{We=t,Qh=!1}}return null}var Mi=[],Fi=0,Md=null,Fd=0,zs=[],Bs=0,Ya=null,en=1,tn="";function Ca(e,t){Mi[Fi++]=Fd,Mi[Fi++]=Md,Md=e,Fd=t}function gj(e,t,r){zs[Bs++]=en,zs[Bs++]=tn,zs[Bs++]=Ya,Ya=e;var n=en;e=tn;var a=32-gr(n)-1;n&=~(1<<a),r+=1;var i=32-gr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,en=1<<32-gr(t)+a|r<<a|n,tn=i+e}else en=1<<i|r<<a|n,tn=e}function Yf(e){e.return!==null&&(Ca(e,1),gj(e,1,0))}function Jf(e){for(;e===Md;)Md=Mi[--Fi],Mi[Fi]=null,Fd=Mi[--Fi],Mi[Fi]=null;for(;e===Ya;)Ya=zs[--Bs],zs[Bs]=null,tn=zs[--Bs],zs[Bs]=null,en=zs[--Bs],zs[Bs]=null}var Ts=null,Ps=null,rt=!1,fr=null;function xj(e,t){var r=Ws(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ts=e,Ps=ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ts=e,Ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ya!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ws(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ts=e,Ps=null,!0):!1;default:return!1}}function dp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function up(e){if(rt){var t=Ps;if(t){var r=t;if(!vy(e,t)){if(dp(e))throw Error(Z(418));t=ea(r.nextSibling);var n=Ts;t&&vy(e,t)?xj(n,r):(e.flags=e.flags&-4097|2,rt=!1,Ts=e)}}else{if(dp(e))throw Error(Z(418));e.flags=e.flags&-4097|2,rt=!1,Ts=e}}}function by(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ts=e}function Mc(e){if(e!==Ts)return!1;if(!rt)return by(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ip(e.type,e.memoizedProps)),t&&(t=Ps)){if(dp(e))throw yj(),Error(Z(418));for(;t;)xj(e,t),t=ea(t.nextSibling)}if(by(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ps=ea(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ps=null}}else Ps=Ts?ea(e.stateNode.nextSibling):null;return!0}function yj(){for(var e=Ps;e;)e=ea(e.nextSibling)}function co(){Ps=Ts=null,rt=!1}function Qf(e){fr===null?fr=[e]:fr.push(e)}var OE=xn.ReactCurrentBatchConfig;function Ho(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var c=a.refs;o===null?delete c[i]:c[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function Fc(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jy(e){var t=e._init;return t(e._payload)}function vj(e){function t(g,v){if(e){var j=g.deletions;j===null?(g.deletions=[v],g.flags|=16):j.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(g,v){return g=na(g,v),g.index=0,g.sibling=null,g}function i(g,v,j){return g.index=j,e?(j=g.alternate,j!==null?(j=j.index,j<v?(g.flags|=2,v):j):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function c(g,v,j,w){return v===null||v.tag!==6?(v=nm(j,g.mode,w),v.return=g,v):(v=a(v,j),v.return=g,v)}function l(g,v,j,w){var N=j.type;return N===Ai?u(g,v,j.props.children,w,j.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===In&&jy(N)===v.type)?(w=a(v,j.props),w.ref=Ho(g,v,j),w.return=g,w):(w=vd(j.type,j.key,j.props,null,g.mode,w),w.ref=Ho(g,v,j),w.return=g,w)}function d(g,v,j,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=am(j,g.mode,w),v.return=g,v):(v=a(v,j.children||[]),v.return=g,v)}function u(g,v,j,w,N){return v===null||v.tag!==7?(v=Ha(j,g.mode,w,N),v.return=g,v):(v=a(v,j),v.return=g,v)}function p(g,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nm(""+v,g.mode,j),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cc:return j=vd(v.type,v.key,v.props,null,g.mode,j),j.ref=Ho(g,null,v),j.return=g,j;case Ti:return v=am(v,g.mode,j),v.return=g,v;case In:var w=v._init;return p(g,w(v._payload),j)}if(tl(v)||Uo(v))return v=Ha(v,g.mode,j,null),v.return=g,v;Fc(g,v)}return null}function m(g,v,j,w){var N=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:c(g,v,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Cc:return j.key===N?l(g,v,j,w):null;case Ti:return j.key===N?d(g,v,j,w):null;case In:return N=j._init,m(g,v,N(j._payload),w)}if(tl(j)||Uo(j))return N!==null?null:u(g,v,j,w,null);Fc(g,j)}return null}function h(g,v,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(j)||null,c(v,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cc:return g=g.get(w.key===null?j:w.key)||null,l(v,g,w,N);case Ti:return g=g.get(w.key===null?j:w.key)||null,d(v,g,w,N);case In:var k=w._init;return h(g,v,j,k(w._payload),N)}if(tl(w)||Uo(w))return g=g.get(j)||null,u(v,g,w,N,null);Fc(v,w)}return null}function y(g,v,j,w){for(var N=null,k=null,_=v,C=v=0,A=null;_!==null&&C<j.length;C++){_.index>C?(A=_,_=null):A=_.sibling;var E=m(g,_,j[C],w);if(E===null){_===null&&(_=A);break}e&&_&&E.alternate===null&&t(g,_),v=i(E,v,C),k===null?N=E:k.sibling=E,k=E,_=A}if(C===j.length)return r(g,_),rt&&Ca(g,C),N;if(_===null){for(;C<j.length;C++)_=p(g,j[C],w),_!==null&&(v=i(_,v,C),k===null?N=_:k.sibling=_,k=_);return rt&&Ca(g,C),N}for(_=n(g,_);C<j.length;C++)A=h(_,g,C,j[C],w),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?C:A.key),v=i(A,v,C),k===null?N=A:k.sibling=A,k=A);return e&&_.forEach(function(S){return t(g,S)}),rt&&Ca(g,C),N}function x(g,v,j,w){var N=Uo(j);if(typeof N!="function")throw Error(Z(150));if(j=N.call(j),j==null)throw Error(Z(151));for(var k=N=null,_=v,C=v=0,A=null,E=j.next();_!==null&&!E.done;C++,E=j.next()){_.index>C?(A=_,_=null):A=_.sibling;var S=m(g,_,E.value,w);if(S===null){_===null&&(_=A);break}e&&_&&S.alternate===null&&t(g,_),v=i(S,v,C),k===null?N=S:k.sibling=S,k=S,_=A}if(E.done)return r(g,_),rt&&Ca(g,C),N;if(_===null){for(;!E.done;C++,E=j.next())E=p(g,E.value,w),E!==null&&(v=i(E,v,C),k===null?N=E:k.sibling=E,k=E);return rt&&Ca(g,C),N}for(_=n(g,_);!E.done;C++,E=j.next())E=h(_,g,C,E.value,w),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?C:E.key),v=i(E,v,C),k===null?N=E:k.sibling=E,k=E);return e&&_.forEach(function(T){return t(g,T)}),rt&&Ca(g,C),N}function b(g,v,j,w){if(typeof j=="object"&&j!==null&&j.type===Ai&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Cc:e:{for(var N=j.key,k=v;k!==null;){if(k.key===N){if(N=j.type,N===Ai){if(k.tag===7){r(g,k.sibling),v=a(k,j.props.children),v.return=g,g=v;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===In&&jy(N)===k.type){r(g,k.sibling),v=a(k,j.props),v.ref=Ho(g,k,j),v.return=g,g=v;break e}r(g,k);break}else t(g,k);k=k.sibling}j.type===Ai?(v=Ha(j.props.children,g.mode,w,j.key),v.return=g,g=v):(w=vd(j.type,j.key,j.props,null,g.mode,w),w.ref=Ho(g,v,j),w.return=g,g=w)}return o(g);case Ti:e:{for(k=j.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(g,v.sibling),v=a(v,j.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=am(j,g.mode,w),v.return=g,g=v}return o(g);case In:return k=j._init,b(g,v,k(j._payload),w)}if(tl(j))return y(g,v,j,w);if(Uo(j))return x(g,v,j,w);Fc(g,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(g,v.sibling),v=a(v,j),v.return=g,g=v):(r(g,v),v=nm(j,g.mode,w),v.return=g,g=v),o(g)):r(g,v)}return b}var uo=vj(!0),bj=vj(!1),$d=ga(null),qd=null,$i=null,Xf=null;function Zf(){Xf=$i=qd=null}function eg(e){var t=$d.current;et($d),e._currentValue=t}function hp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ki(e,t){qd=e,Xf=$i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fs=!0),e.firstContext=null)}function Gs(e){var t=e._currentValue;if(Xf!==e)if(e={context:e,memoizedValue:t,next:null},$i===null){if(qd===null)throw Error(Z(308));$i=e,qd.dependencies={lanes:0,firstContext:e}}else $i=$i.next=e;return t}var Ia=null;function tg(e){Ia===null?Ia=[e]:Ia.push(e)}function jj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,tg(t)):(r.next=a.next,a.next=r),t.interleaved=r,un(e,n)}function un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function sg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ta(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,un(e,r)}return a=n.interleaved,a===null?(t.next=t,tg(n)):(t.next=a.next,a.next=t),n.interleaved=t,un(e,r)}function md(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uf(e,r)}}function wy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ud(e,t,r,n){var a=e.updateQueue;Ln=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var l=c,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==o&&(c===null?u.firstBaseUpdate=d:c.next=d,u.lastBaseUpdate=l))}if(i!==null){var p=a.baseState;o=0,u=d=l=null,c=i;do{var m=c.lane,h=c.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,x=c;switch(m=t,h=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){p=y.call(h,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(h,p,m):y,m==null)break e;p=mt({},p,m);break e;case 2:Ln=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[c]:m.push(c))}else h={eventTime:h,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(d=u=h,l=p):u=u.next=h,o|=m;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;m=c,c=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(l=p),a.baseState=l,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Qa|=o,e.lanes=o,e.memoizedState=p}}function _y(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Z(191,a));a.call(n)}}}var uc={},Fr=ga(uc),Ol=ga(uc),Dl=ga(uc);function La(e){if(e===uc)throw Error(Z(174));return e}function rg(e,t){switch(Qe(Dl,t),Qe(Ol,e),Qe(Fr,uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hm(t,e)}et(Fr),Qe(Fr,t)}function ho(){et(Fr),et(Ol),et(Dl)}function _j(e){La(Dl.current);var t=La(Fr.current),r=Hm(t,e.type);t!==r&&(Qe(Ol,e),Qe(Fr,r))}function ng(e){Ol.current===e&&(et(Fr),et(Ol))}var ct=ga(0);function zd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xh=[];function ag(){for(var e=0;e<Xh.length;e++)Xh[e]._workInProgressVersionPrimary=null;Xh.length=0}var pd=xn.ReactCurrentDispatcher,Zh=xn.ReactCurrentBatchConfig,Ja=0,ht=null,Tt=null,Mt=null,Bd=!1,hl=!1,Il=0,DE=0;function Kt(){throw Error(Z(321))}function ig(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!br(e[r],t[r]))return!1;return!0}function og(e,t,r,n,a,i){if(Ja=i,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pd.current=e===null||e.memoizedState===null?FE:$E,e=r(n,a),hl){i=0;do{if(hl=!1,Il=0,25<=i)throw Error(Z(301));i+=1,Mt=Tt=null,t.updateQueue=null,pd.current=qE,e=r(n,a)}while(hl)}if(pd.current=Vd,t=Tt!==null&&Tt.next!==null,Ja=0,Mt=Tt=ht=null,Bd=!1,t)throw Error(Z(300));return e}function lg(){var e=Il!==0;return Il=0,e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ht.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Ys(){if(Tt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Mt===null?ht.memoizedState:Mt.next;if(t!==null)Mt=t,Tt=e;else{if(e===null)throw Error(Z(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Mt===null?ht.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Ll(e,t){return typeof t=="function"?t(e):t}function em(e){var t=Ys(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=Tt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var c=o=null,l=null,d=i;do{var u=d.lane;if((Ja&u)===u)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(c=l=p,o=n):l=l.next=p,ht.lanes|=u,Qa|=u}d=d.next}while(d!==null&&d!==i);l===null?o=n:l.next=c,br(n,t.memoizedState)||(fs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ht.lanes|=i,Qa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tm(e){var t=Ys(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);br(i,t.memoizedState)||(fs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Nj(){}function Sj(e,t){var r=ht,n=Ys(),a=t(),i=!br(n.memoizedState,a);if(i&&(n.memoizedState=a,fs=!0),n=n.queue,cg(Ej.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Mt!==null&&Mt.memoizedState.tag&1){if(r.flags|=2048,Ml(9,Cj.bind(null,r,n,a,t),void 0,null),Ft===null)throw Error(Z(349));Ja&30||kj(r,t,a)}return a}function kj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Cj(e,t,r,n){t.value=r,t.getSnapshot=n,Pj(t)&&Tj(e)}function Ej(e,t,r){return r(function(){Pj(t)&&Tj(e)})}function Pj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!br(e,r)}catch{return!0}}function Tj(e){var t=un(e,1);t!==null&&xr(t,e,1,-1)}function Ny(e){var t=Tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=ME.bind(null,ht,e),[t.memoizedState,e]}function Ml(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Aj(){return Ys().memoizedState}function fd(e,t,r,n){var a=Tr();ht.flags|=e,a.memoizedState=Ml(1|t,r,void 0,n===void 0?null:n)}function Ru(e,t,r,n){var a=Ys();n=n===void 0?null:n;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,n!==null&&ig(n,o.deps)){a.memoizedState=Ml(t,r,i,n);return}}ht.flags|=e,a.memoizedState=Ml(1|t,r,i,n)}function Sy(e,t){return fd(8390656,8,e,t)}function cg(e,t){return Ru(2048,8,e,t)}function Rj(e,t){return Ru(4,2,e,t)}function Oj(e,t){return Ru(4,4,e,t)}function Dj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ij(e,t,r){return r=r!=null?r.concat([e]):null,Ru(4,4,Dj.bind(null,t,e),r)}function dg(){}function Lj(e,t){var r=Ys();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ig(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Mj(e,t){var r=Ys();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ig(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fj(e,t,r){return Ja&21?(br(r,t)||(r=B0(),ht.lanes|=r,Qa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fs=!0),e.memoizedState=r)}function IE(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=Zh.transition;Zh.transition={};try{e(!1),t()}finally{We=r,Zh.transition=n}}function $j(){return Ys().memoizedState}function LE(e,t,r){var n=ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qj(e))Uj(t,r);else if(r=jj(e,t,r,n),r!==null){var a=ns();xr(r,e,n,a),zj(r,t,n)}}function ME(e,t,r){var n=ra(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qj(e))Uj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,r);if(a.hasEagerState=!0,a.eagerState=c,br(c,o)){var l=t.interleaved;l===null?(a.next=a,tg(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=jj(e,t,a,n),r!==null&&(a=ns(),xr(r,e,n,a),zj(r,t,n))}}function qj(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function Uj(e,t){hl=Bd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uf(e,r)}}var Vd={readContext:Gs,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},FE={readContext:Gs,useCallback:function(e,t){return Tr().memoizedState=[e,t===void 0?null:t],e},useContext:Gs,useEffect:Sy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fd(4194308,4,Dj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fd(4194308,4,e,t)},useInsertionEffect:function(e,t){return fd(4,2,e,t)},useMemo:function(e,t){var r=Tr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Tr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LE.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=Tr();return e={current:e},t.memoizedState=e},useState:Ny,useDebugValue:dg,useDeferredValue:function(e){return Tr().memoizedState=e},useTransition:function(){var e=Ny(!1),t=e[0];return e=IE.bind(null,e[1]),Tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,a=Tr();if(rt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),Ft===null)throw Error(Z(349));Ja&30||kj(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Sy(Ej.bind(null,n,i,e),[e]),n.flags|=2048,Ml(9,Cj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Tr(),t=Ft.identifierPrefix;if(rt){var r=tn,n=en;r=(n&~(1<<32-gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Il++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=DE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$E={readContext:Gs,useCallback:Lj,useContext:Gs,useEffect:cg,useImperativeHandle:Ij,useInsertionEffect:Rj,useLayoutEffect:Oj,useMemo:Mj,useReducer:em,useRef:Aj,useState:function(){return em(Ll)},useDebugValue:dg,useDeferredValue:function(e){var t=Ys();return Fj(t,Tt.memoizedState,e)},useTransition:function(){var e=em(Ll)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Sj,useId:$j,unstable_isNewReconciler:!1},qE={readContext:Gs,useCallback:Lj,useContext:Gs,useEffect:cg,useImperativeHandle:Ij,useInsertionEffect:Rj,useLayoutEffect:Oj,useMemo:Mj,useReducer:tm,useRef:Aj,useState:function(){return tm(Ll)},useDebugValue:dg,useDeferredValue:function(e){var t=Ys();return Tt===null?t.memoizedState=e:Fj(t,Tt.memoizedState,e)},useTransition:function(){var e=tm(Ll)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Sj,useId:$j,unstable_isNewReconciler:!1};function cr(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ou={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ns(),a=ra(e),i=rn(n,a);i.payload=t,r!=null&&(i.callback=r),t=ta(e,i,a),t!==null&&(xr(t,e,a,n),md(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ns(),a=ra(e),i=rn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ta(e,i,a),t!==null&&(xr(t,e,a,n),md(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ns(),n=ra(e),a=rn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ta(e,a,n),t!==null&&(xr(t,e,n,r),md(t,e,n))}};function ky(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Pl(r,n)||!Pl(a,i):!0}function Bj(e,t,r){var n=!1,a=da,i=t.contextType;return typeof i=="object"&&i!==null?i=Gs(i):(a=xs(t)?Ga:Qt.current,n=t.contextTypes,i=(n=n!=null)?lo(e,a):da),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ou,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ou.enqueueReplaceState(t,t.state,null)}function pp(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},sg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Gs(i):(i=xs(t)?Ga:Qt.current,a.context=lo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mp(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ou.enqueueReplaceState(a,a.state,null),Ud(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var r="",n=t;do r+=pC(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function sm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var UE=typeof WeakMap=="function"?WeakMap:Map;function Vj(e,t,r){r=rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hd||(Hd=!0,Sp=n),fp(e,t)},r}function Wj(e,t,r){r=rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){fp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fp(e,t),typeof n!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ey(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new UE;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=tP.bind(null,e,t,r),t.then(e,e))}function Py(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ty(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rn(-1,1),t.tag=2,ta(r,t,1))),r.lanes|=1),e)}var zE=xn.ReactCurrentOwner,fs=!1;function ts(e,t,r,n){t.child=e===null?bj(t,null,r,n):uo(t,e.child,r,n)}function Ay(e,t,r,n,a){r=r.render;var i=t.ref;return Ki(t,a),n=og(e,t,r,n,i,a),r=lg(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hn(e,t,a)):(rt&&r&&Yf(t),t.flags|=1,ts(e,t,n,a),t.child)}function Ry(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!yg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Hj(e,t,i,n,a)):(e=vd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(o,n)&&e.ref===t.ref)return hn(e,t,a)}return t.flags|=1,e=na(i,n),e.ref=t.ref,e.return=t,t.child=e}function Hj(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Pl(i,n)&&e.ref===t.ref)if(fs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(fs=!0);else return t.lanes=e.lanes,hn(e,t,a)}return gp(e,t,r,n,a)}function Kj(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ui,Ss),Ss|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Ui,Ss),Ss|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qe(Ui,Ss),Ss|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Qe(Ui,Ss),Ss|=n;return ts(e,t,a,r),t.child}function Gj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gp(e,t,r,n,a){var i=xs(r)?Ga:Qt.current;return i=lo(t,i),Ki(t,a),r=og(e,t,r,n,i,a),n=lg(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hn(e,t,a)):(rt&&n&&Yf(t),t.flags|=1,ts(e,t,r,a),t.child)}function Oy(e,t,r,n,a){if(xs(r)){var i=!0;Ld(t)}else i=!1;if(Ki(t,a),t.stateNode===null)gd(e,t),Bj(t,r,n),pp(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Gs(d):(d=xs(r)?Ga:Qt.current,d=lo(t,d));var u=r.getDerivedStateFromProps,p=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==d)&&Cy(t,o,n,d),Ln=!1;var m=t.memoizedState;o.state=m,Ud(t,n,o,a),l=t.memoizedState,c!==n||m!==l||gs.current||Ln?(typeof u=="function"&&(mp(t,r,u,n),l=t.memoizedState),(c=Ln||ky(t,r,c,n,m,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=d,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,wj(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:cr(t.type,c),o.props=d,p=t.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gs(l):(l=xs(r)?Ga:Qt.current,l=lo(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||m!==l)&&Cy(t,o,n,l),Ln=!1,m=t.memoizedState,o.state=m,Ud(t,n,o,a);var y=t.memoizedState;c!==p||m!==y||gs.current||Ln?(typeof h=="function"&&(mp(t,r,h,n),y=t.memoizedState),(d=Ln||ky(t,r,d,n,m,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return xp(e,t,r,n,i,a)}function xp(e,t,r,n,a,i){Gj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&yy(t,r,!1),hn(e,t,i);n=t.stateNode,zE.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=uo(t,e.child,null,i),t.child=uo(t,null,c,i)):ts(e,t,c,i),t.memoizedState=n.state,a&&yy(t,r,!0),t.child}function Yj(e){var t=e.stateNode;t.pendingContext?xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xy(e,t.context,!1),rg(e,t.containerInfo)}function Dy(e,t,r,n,a){return co(),Qf(a),t.flags|=256,ts(e,t,r,n),t.child}var yp={dehydrated:null,treeContext:null,retryLane:0};function vp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jj(e,t,r){var n=t.pendingProps,a=ct.current,i=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Qe(ct,a&1),e===null)return up(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Lu(o,n,0,null),e=Ha(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vp(r),t.memoizedState=yp,e):ug(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return BE(e,t,o,n,c,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,c=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=na(a,l),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?i=na(c,i):(i=Ha(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?vp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=yp,n}return i=e.child,e=i.sibling,n=na(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ug(e,t){return t=Lu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $c(e,t,r,n){return n!==null&&Qf(n),uo(t,e.child,null,r),e=ug(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BE(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=sm(Error(Z(422))),$c(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Lu({mode:"visible",children:n.children},a,0,null),i=Ha(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&uo(t,e.child,null,o),t.child.memoizedState=vp(o),t.memoizedState=yp,i);if(!(t.mode&1))return $c(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(Z(419)),n=sm(i,n,void 0),$c(e,t,o,n)}if(c=(o&e.childLanes)!==0,fs||c){if(n=Ft,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,un(e,a),xr(n,e,a,-1))}return xg(),n=sm(Error(Z(421))),$c(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=sP.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ps=ea(a.nextSibling),Ts=t,rt=!0,fr=null,e!==null&&(zs[Bs++]=en,zs[Bs++]=tn,zs[Bs++]=Ya,en=e.id,tn=e.overflow,Ya=t),t=ug(t,n.children),t.flags|=4096,t)}function Iy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hp(e.return,t,r)}function rm(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Qj(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ts(e,t,n.children,r),n=ct.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iy(e,r,t);else if(e.tag===19)Iy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(ct,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&zd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&zd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rm(t,!0,r,null,i);break;case"together":rm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function VE(e,t,r){switch(t.tag){case 3:Yj(t),co();break;case 5:_j(t);break;case 1:xs(t.type)&&Ld(t);break;case 4:rg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Qe($d,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ct,ct.current&1),t.flags|=128,null):r&t.child.childLanes?Jj(e,t,r):(Qe(ct,ct.current&1),e=hn(e,t,r),e!==null?e.sibling:null);Qe(ct,ct.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qj(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Qe(ct,ct.current),n)break;return null;case 22:case 23:return t.lanes=0,Kj(e,t,r)}return hn(e,t,r)}var Xj,bp,Zj,ew;Xj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bp=function(){};Zj=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,La(Fr.current);var i=null;switch(r){case"input":a=zm(e,a),n=zm(e,n),i=[];break;case"select":a=mt({},a,{value:void 0}),n=mt({},n,{value:void 0}),i=[];break;case"textarea":a=Wm(e,a),n=Wm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dd)}Km(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var c=a[d];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var l=n[d];if(c=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&l!==c&&(l!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(d,r)),r=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wl.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ze("scroll",e),i||c===l||(i=[])):(i=i||[]).push(d,l))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ew=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ko(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function WE(e,t,r){var n=t.pendingProps;switch(Jf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return xs(t.type)&&Id(),Gt(t),null;case 3:return n=t.stateNode,ho(),et(gs),et(Qt),ag(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fr!==null&&(Ep(fr),fr=null))),bp(e,t),Gt(t),null;case 5:ng(t);var a=La(Dl.current);if(r=t.type,e!==null&&t.stateNode!=null)Zj(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return Gt(t),null}if(e=La(Fr.current),Mc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Dr]=t,n[Rl]=i,e=(t.mode&1)!==0,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(a=0;a<rl.length;a++)Ze(rl[a],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Vx(n,i),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ze("invalid",n);break;case"textarea":Hx(n,i),Ze("invalid",n)}Km(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&Lc(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Lc(n.textContent,c,e),a=["children",""+c]):wl.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Ze("scroll",n)}switch(r){case"input":Ec(n),Wx(n,i,!0);break;case"textarea":Ec(n),Kx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Dd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Dr]=t,e[Rl]=n,Xj(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gm(r,n),r){case"dialog":Ze("cancel",e),Ze("close",e),a=n;break;case"iframe":case"object":case"embed":Ze("load",e),a=n;break;case"video":case"audio":for(a=0;a<rl.length;a++)Ze(rl[a],e);a=n;break;case"source":Ze("error",e),a=n;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),a=n;break;case"details":Ze("toggle",e),a=n;break;case"input":Vx(e,n),a=zm(e,n),Ze("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=mt({},n,{value:void 0}),Ze("invalid",e);break;case"textarea":Hx(e,n),a=Wm(e,n),Ze("invalid",e);break;default:a=n}Km(r,a),c=a;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?A0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P0(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_l(e,l):typeof l=="number"&&_l(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ze("scroll",e):l!=null&&If(e,i,l,o))}switch(r){case"input":Ec(e),Wx(e,n,!1);break;case"textarea":Ec(e),Kx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ca(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Bi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Bi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Dd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)ew(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=La(Dl.current),La(Fr.current),Mc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dr]=t,(i=n.nodeValue!==r)&&(e=Ts,e!==null))switch(e.tag){case 3:Lc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dr]=t,t.stateNode=n}return Gt(t),null;case 13:if(et(ct),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&Ps!==null&&t.mode&1&&!(t.flags&128))yj(),co(),t.flags|=98560,i=!1;else if(i=Mc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Dr]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),i=!1}else fr!==null&&(Ep(fr),fr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Ot===0&&(Ot=3):xg())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return ho(),bp(e,t),e===null&&Tl(t.stateNode.containerInfo),Gt(t),null;case 10:return eg(t.type._context),Gt(t),null;case 17:return xs(t.type)&&Id(),Gt(t),null;case 19:if(et(ct),i=t.memoizedState,i===null)return Gt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ko(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zd(e),o!==null){for(t.flags|=128,Ko(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(ct,ct.current&1|2),t.child}e=e.sibling}i.tail!==null&&jt()>po&&(t.flags|=128,n=!0,Ko(i,!1),t.lanes=4194304)}else{if(!n)if(e=zd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ko(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return Gt(t),null}else 2*jt()-i.renderingStartTime>po&&r!==1073741824&&(t.flags|=128,n=!0,Ko(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,r=ct.current,Qe(ct,n?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return gg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ss&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function HE(e,t){switch(Jf(t),t.tag){case 1:return xs(t.type)&&Id(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),et(gs),et(Qt),ag(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ng(t),null;case 13:if(et(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(ct),null;case 4:return ho(),null;case 10:return eg(t.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var qc=!1,Jt=!1,KE=typeof WeakSet=="function"?WeakSet:Set,oe=null;function qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(e,t,n)}else r.current=null}function jp(e,t,r){try{r()}catch(n){gt(e,t,n)}}var Ly=!1;function GE(e,t){if(np=Ad,e=aj(),Gf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,c=-1,l=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==r||a!==0&&p.nodeType!==3||(c=o+a),p!==i||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(h=p.firstChild)!==null;)m=p,p=h;for(;;){if(p===e)break t;if(m===r&&++d===a&&(c=o),m===i&&++u===n&&(l=o),(h=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=h}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ap={focusedElem:e,selectionRange:r},Ad=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:cr(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(w){gt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return y=Ly,Ly=!1,y}function ml(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&jp(t,r,i)}a=a.next}while(a!==n)}}function Du(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tw(e){var t=e.alternate;t!==null&&(e.alternate=null,tw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dr],delete t[Rl],delete t[lp],delete t[TE],delete t[AE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sw(e){return e.tag===5||e.tag===3||e.tag===4}function My(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _p(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Dd));else if(n!==4&&(e=e.child,e!==null))for(_p(e,t,r),e=e.sibling;e!==null;)_p(e,t,r),e=e.sibling}function Np(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Np(e,t,r),e=e.sibling;e!==null;)Np(e,t,r),e=e.sibling}var Bt=null,pr=!1;function kn(e,t,r){for(r=r.child;r!==null;)rw(e,t,r),r=r.sibling}function rw(e,t,r){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(ku,r)}catch{}switch(r.tag){case 5:Jt||qi(r,t);case 6:var n=Bt,a=pr;Bt=null,kn(e,t,r),Bt=n,pr=a,Bt!==null&&(pr?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(pr?(e=Bt,r=r.stateNode,e.nodeType===8?Jh(e.parentNode,r):e.nodeType===1&&Jh(e,r),Cl(e)):Jh(Bt,r.stateNode));break;case 4:n=Bt,a=pr,Bt=r.stateNode.containerInfo,pr=!0,kn(e,t,r),Bt=n,pr=a;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jp(r,t,o),a=a.next}while(a!==n)}kn(e,t,r);break;case 1:if(!Jt&&(qi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){gt(r,t,c)}kn(e,t,r);break;case 21:kn(e,t,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,kn(e,t,r),Jt=n):kn(e,t,r);break;default:kn(e,t,r)}}function Fy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KE),t.forEach(function(n){var a=rP.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function nr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Bt=c.stateNode,pr=!1;break e;case 3:Bt=c.stateNode.containerInfo,pr=!0;break e;case 4:Bt=c.stateNode.containerInfo,pr=!0;break e}c=c.return}if(Bt===null)throw Error(Z(160));rw(i,o,a),Bt=null,pr=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(d){gt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nw(t,e),t=t.sibling}function nw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),Pr(e),n&4){try{ml(3,e,e.return),Du(3,e)}catch(x){gt(e,e.return,x)}try{ml(5,e,e.return)}catch(x){gt(e,e.return,x)}}break;case 1:nr(t,e),Pr(e),n&512&&r!==null&&qi(r,r.return);break;case 5:if(nr(t,e),Pr(e),n&512&&r!==null&&qi(r,r.return),e.flags&32){var a=e.stateNode;try{_l(a,"")}catch(x){gt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&k0(a,i),Gm(c,o);var d=Gm(c,i);for(o=0;o<l.length;o+=2){var u=l[o],p=l[o+1];u==="style"?A0(a,p):u==="dangerouslySetInnerHTML"?P0(a,p):u==="children"?_l(a,p):If(a,u,p,d)}switch(c){case"input":Bm(a,i);break;case"textarea":C0(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Bi(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?Bi(a,!!i.multiple,i.defaultValue,!0):Bi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Rl]=i}catch(x){gt(e,e.return,x)}}break;case 6:if(nr(t,e),Pr(e),n&4){if(e.stateNode===null)throw Error(Z(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){gt(e,e.return,x)}}break;case 3:if(nr(t,e),Pr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(x){gt(e,e.return,x)}break;case 4:nr(t,e),Pr(e);break;case 13:nr(t,e),Pr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(pg=jt())),n&4&&Fy(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Jt=(d=Jt)||u,nr(t,e),Jt=d):nr(t,e),Pr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(oe=e,u=e.child;u!==null;){for(p=oe=u;oe!==null;){switch(m=oe,h=m.child,m.tag){case 0:case 11:case 14:case 15:ml(4,m,m.return);break;case 1:qi(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){gt(n,r,x)}}break;case 5:qi(m,m.return);break;case 22:if(m.memoizedState!==null){qy(p);continue}}h!==null?(h.return=m,oe=h):qy(p)}u=u.sibling}e:for(u=null,p=e;;){if(p.tag===5){if(u===null){u=p;try{a=p.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=T0("display",o))}catch(x){gt(e,e.return,x)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){gt(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:nr(t,e),Pr(e),n&4&&Fy(e);break;case 21:break;default:nr(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sw(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_l(a,""),n.flags&=-33);var i=My(e);Np(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=My(e);_p(e,c,o);break;default:throw Error(Z(161))}}catch(l){gt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YE(e,t,r){oe=e,aw(e)}function aw(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var a=oe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||qc;if(!o){var c=a.alternate,l=c!==null&&c.memoizedState!==null||Jt;c=qc;var d=Jt;if(qc=o,(Jt=l)&&!d)for(oe=a;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?Uy(a):l!==null?(l.return=o,oe=l):Uy(a);for(;i!==null;)oe=i,aw(i),i=i.sibling;oe=a,qc=c,Jt=d}$y(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,oe=i):$y(e)}}function $y(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jt||Du(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:cr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_y(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_y(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&Cl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Jt||t.flags&512&&wp(t)}catch(m){gt(t,t.return,m)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function qy(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Uy(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Du(4,t)}catch(l){gt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){gt(t,a,l)}}var i=t.return;try{wp(t)}catch(l){gt(t,i,l)}break;case 5:var o=t.return;try{wp(t)}catch(l){gt(t,o,l)}}}catch(l){gt(t,t.return,l)}if(t===e){oe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,oe=c;break}oe=t.return}}var JE=Math.ceil,Wd=xn.ReactCurrentDispatcher,hg=xn.ReactCurrentOwner,Hs=xn.ReactCurrentBatchConfig,qe=0,Ft=null,kt=null,Vt=0,Ss=0,Ui=ga(0),Ot=0,Fl=null,Qa=0,Iu=0,mg=0,pl=null,ps=null,pg=0,po=1/0,Yr=null,Hd=!1,Sp=null,sa=null,Uc=!1,Hn=null,Kd=0,fl=0,kp=null,xd=-1,yd=0;function ns(){return qe&6?jt():xd!==-1?xd:xd=jt()}function ra(e){return e.mode&1?qe&2&&Vt!==0?Vt&-Vt:OE.transition!==null?(yd===0&&(yd=B0()),yd):(e=We,e!==0||(e=window.event,e=e===void 0?16:J0(e.type)),e):1}function xr(e,t,r,n){if(50<fl)throw fl=0,kp=null,Error(Z(185));lc(e,r,n),(!(qe&2)||e!==Ft)&&(e===Ft&&(!(qe&2)&&(Iu|=r),Ot===4&&Fn(e,Vt)),ys(e,n),r===1&&qe===0&&!(t.mode&1)&&(po=jt()+500,Au&&xa()))}function ys(e,t){var r=e.callbackNode;OC(e,t);var n=Td(e,e===Ft?Vt:0);if(n===0)r!==null&&Jx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jx(r),t===1)e.tag===0?RE(zy.bind(null,e)):fj(zy.bind(null,e)),EE(function(){!(qe&6)&&xa()}),r=null;else{switch(V0(n)){case 1:r=qf;break;case 4:r=U0;break;case 16:r=Pd;break;case 536870912:r=z0;break;default:r=Pd}r=mw(r,iw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iw(e,t){if(xd=-1,yd=0,qe&6)throw Error(Z(327));var r=e.callbackNode;if(Gi()&&e.callbackNode!==r)return null;var n=Td(e,e===Ft?Vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gd(e,n);else{t=n;var a=qe;qe|=2;var i=lw();(Ft!==e||Vt!==t)&&(Yr=null,po=jt()+500,Wa(e,t));do try{ZE();break}catch(c){ow(e,c)}while(!0);Zf(),Wd.current=i,qe=a,kt!==null?t=0:(Ft=null,Vt=0,t=Ot)}if(t!==0){if(t===2&&(a=Zm(e),a!==0&&(n=a,t=Cp(e,a))),t===1)throw r=Fl,Wa(e,0),Fn(e,n),ys(e,jt()),r;if(t===6)Fn(e,n);else{if(a=e.current.alternate,!(n&30)&&!QE(a)&&(t=Gd(e,n),t===2&&(i=Zm(e),i!==0&&(n=i,t=Cp(e,i))),t===1))throw r=Fl,Wa(e,0),Fn(e,n),ys(e,jt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:Ea(e,ps,Yr);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=pg+500-jt(),10<t)){if(Td(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ns(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=op(Ea.bind(null,e,ps,Yr),t);break}Ea(e,ps,Yr);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-gr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JE(n/1960))-n,10<n){e.timeoutHandle=op(Ea.bind(null,e,ps,Yr),n);break}Ea(e,ps,Yr);break;case 5:Ea(e,ps,Yr);break;default:throw Error(Z(329))}}}return ys(e,jt()),e.callbackNode===r?iw.bind(null,e):null}function Cp(e,t){var r=pl;return e.current.memoizedState.isDehydrated&&(Wa(e,t).flags|=256),e=Gd(e,t),e!==2&&(t=ps,ps=r,t!==null&&Ep(t)),e}function Ep(e){ps===null?ps=e:ps.push.apply(ps,e)}function QE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!br(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~mg,t&=~Iu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gr(t),n=1<<r;e[r]=-1,t&=~n}}function zy(e){if(qe&6)throw Error(Z(327));Gi();var t=Td(e,0);if(!(t&1))return ys(e,jt()),null;var r=Gd(e,t);if(e.tag!==0&&r===2){var n=Zm(e);n!==0&&(t=n,r=Cp(e,n))}if(r===1)throw r=Fl,Wa(e,0),Fn(e,t),ys(e,jt()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ea(e,ps,Yr),ys(e,jt()),null}function fg(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(po=jt()+500,Au&&xa())}}function Xa(e){Hn!==null&&Hn.tag===0&&!(qe&6)&&Gi();var t=qe;qe|=1;var r=Hs.transition,n=We;try{if(Hs.transition=null,We=1,e)return e()}finally{We=n,Hs.transition=r,qe=t,!(qe&6)&&xa()}}function gg(){Ss=Ui.current,et(Ui)}function Wa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,CE(r)),kt!==null)for(r=kt.return;r!==null;){var n=r;switch(Jf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Id();break;case 3:ho(),et(gs),et(Qt),ag();break;case 5:ng(n);break;case 4:ho();break;case 13:et(ct);break;case 19:et(ct);break;case 10:eg(n.type._context);break;case 22:case 23:gg()}r=r.return}if(Ft=e,kt=e=na(e.current,null),Vt=Ss=t,Ot=0,Fl=null,mg=Iu=Qa=0,ps=pl=null,Ia!==null){for(t=0;t<Ia.length;t++)if(r=Ia[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ia=null}return e}function ow(e,t){do{var r=kt;try{if(Zf(),pd.current=Vd,Bd){for(var n=ht.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Bd=!1}if(Ja=0,Mt=Tt=ht=null,hl=!1,Il=0,hg.current=null,r===null||r.return===null){Ot=1,Fl=t,kt=null;break}e:{var i=e,o=r.return,c=r,l=t;if(t=Vt,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,u=c,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Py(o);if(h!==null){h.flags&=-257,Ty(h,o,c,i,t),h.mode&1&&Ey(i,d,t),t=h,l=d;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){Ey(i,d,t),xg();break e}l=Error(Z(426))}}else if(rt&&c.mode&1){var b=Py(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ty(b,o,c,i,t),Qf(mo(l,c));break e}}i=l=mo(l,c),Ot!==4&&(Ot=2),pl===null?pl=[i]:pl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Vj(i,l,t);wy(i,g);break e;case 1:c=l;var v=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(sa===null||!sa.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Wj(i,c,t);wy(i,w);break e}}i=i.return}while(i!==null)}dw(r)}catch(N){t=N,kt===r&&r!==null&&(kt=r=r.return);continue}break}while(!0)}function lw(){var e=Wd.current;return Wd.current=Vd,e===null?Vd:e}function xg(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ft===null||!(Qa&268435455)&&!(Iu&268435455)||Fn(Ft,Vt)}function Gd(e,t){var r=qe;qe|=2;var n=lw();(Ft!==e||Vt!==t)&&(Yr=null,Wa(e,t));do try{XE();break}catch(a){ow(e,a)}while(!0);if(Zf(),qe=r,Wd.current=n,kt!==null)throw Error(Z(261));return Ft=null,Vt=0,Ot}function XE(){for(;kt!==null;)cw(kt)}function ZE(){for(;kt!==null&&!NC();)cw(kt)}function cw(e){var t=hw(e.alternate,e,Ss);e.memoizedProps=e.pendingProps,t===null?dw(e):kt=t,hg.current=null}function dw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=HE(r,t),r!==null){r.flags&=32767,kt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,kt=null;return}}else if(r=WE(r,t,Ss),r!==null){kt=r;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Ot===0&&(Ot=5)}function Ea(e,t,r){var n=We,a=Hs.transition;try{Hs.transition=null,We=1,eP(e,t,r,n)}finally{Hs.transition=a,We=n}return null}function eP(e,t,r,n){do Gi();while(Hn!==null);if(qe&6)throw Error(Z(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(DC(e,i),e===Ft&&(kt=Ft=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uc||(Uc=!0,mw(Pd,function(){return Gi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Hs.transition,Hs.transition=null;var o=We;We=1;var c=qe;qe|=4,hg.current=null,GE(e,r),nw(r,e),bE(ap),Ad=!!np,ap=np=null,e.current=r,YE(r),SC(),qe=c,We=o,Hs.transition=i}else e.current=r;if(Uc&&(Uc=!1,Hn=e,Kd=a),i=e.pendingLanes,i===0&&(sa=null),EC(r.stateNode),ys(e,jt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hd)throw Hd=!1,e=Sp,Sp=null,e;return Kd&1&&e.tag!==0&&Gi(),i=e.pendingLanes,i&1?e===kp?fl++:(fl=0,kp=e):fl=0,xa(),null}function Gi(){if(Hn!==null){var e=V0(Kd),t=Hs.transition,r=We;try{if(Hs.transition=null,We=16>e?16:e,Hn===null)var n=!1;else{if(e=Hn,Hn=null,Kd=0,qe&6)throw Error(Z(331));var a=qe;for(qe|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var d=c[l];for(oe=d;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:ml(8,u,i)}var p=u.child;if(p!==null)p.return=u,oe=p;else for(;oe!==null;){u=oe;var m=u.sibling,h=u.return;if(tw(u),u===d){oe=null;break}if(m!==null){m.return=h,oe=m;break}oe=h}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ml(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,oe=g;break e}oe=i.return}}var v=e.current;for(oe=v;oe!==null;){o=oe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,oe=j;else e:for(o=v;oe!==null;){if(c=oe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Du(9,c)}}catch(N){gt(c,c.return,N)}if(c===o){oe=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,oe=w;break e}oe=c.return}}if(qe=a,xa(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(ku,e)}catch{}n=!0}return n}finally{We=r,Hs.transition=t}}return!1}function By(e,t,r){t=mo(r,t),t=Vj(e,t,1),e=ta(e,t,1),t=ns(),e!==null&&(lc(e,1,t),ys(e,t))}function gt(e,t,r){if(e.tag===3)By(e,e,r);else for(;t!==null;){if(t.tag===3){By(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sa===null||!sa.has(n))){e=mo(r,e),e=Wj(t,e,1),t=ta(t,e,1),e=ns(),t!==null&&(lc(t,1,e),ys(t,e));break}}t=t.return}}function tP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ns(),e.pingedLanes|=e.suspendedLanes&r,Ft===e&&(Vt&r)===r&&(Ot===4||Ot===3&&(Vt&130023424)===Vt&&500>jt()-pg?Wa(e,0):mg|=r),ys(e,t)}function uw(e,t){t===0&&(e.mode&1?(t=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):t=1);var r=ns();e=un(e,t),e!==null&&(lc(e,t,r),ys(e,r))}function sP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uw(e,r)}function rP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),uw(e,r)}var hw;hw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gs.current)fs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fs=!1,VE(e,t,r);fs=!!(e.flags&131072)}else fs=!1,rt&&t.flags&1048576&&gj(t,Fd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gd(e,t),e=t.pendingProps;var a=lo(t,Qt.current);Ki(t,r),a=og(null,t,n,e,a,r);var i=lg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xs(n)?(i=!0,Ld(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,sg(t),a.updater=Ou,t.stateNode=a,a._reactInternals=t,pp(t,n,e,r),t=xp(null,t,n,!0,i,r)):(t.tag=0,rt&&i&&Yf(t),ts(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=aP(n),e=cr(n,e),a){case 0:t=gp(null,t,n,e,r);break e;case 1:t=Oy(null,t,n,e,r);break e;case 11:t=Ay(null,t,n,e,r);break e;case 14:t=Ry(null,t,n,cr(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cr(n,a),gp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cr(n,a),Oy(e,t,n,a,r);case 3:e:{if(Yj(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,a=i.element,wj(e,t),Ud(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=mo(Error(Z(423)),t),t=Dy(e,t,n,r,a);break e}else if(n!==a){a=mo(Error(Z(424)),t),t=Dy(e,t,n,r,a);break e}else for(Ps=ea(t.stateNode.containerInfo.firstChild),Ts=t,rt=!0,fr=null,r=bj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(co(),n===a){t=hn(e,t,r);break e}ts(e,t,n,r)}t=t.child}return t;case 5:return _j(t),e===null&&up(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,ip(n,a)?o=null:i!==null&&ip(n,i)&&(t.flags|=32),Gj(e,t),ts(e,t,o,r),t.child;case 6:return e===null&&up(t),null;case 13:return Jj(e,t,r);case 4:return rg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uo(t,null,n,r):ts(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cr(n,a),Ay(e,t,n,a,r);case 7:return ts(e,t,t.pendingProps,r),t.child;case 8:return ts(e,t,t.pendingProps.children,r),t.child;case 12:return ts(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Qe($d,n._currentValue),n._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===a.children&&!gs.current){t=hn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=rn(-1,r&-r),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?l.next=l:(l.next=u.next,u.next=l),d.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),hp(i.return,r,t),c.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),hp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ts(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ki(t,r),a=Gs(a),n=n(a),t.flags|=1,ts(e,t,n,r),t.child;case 14:return n=t.type,a=cr(n,t.pendingProps),a=cr(n.type,a),Ry(e,t,n,a,r);case 15:return Hj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cr(n,a),gd(e,t),t.tag=1,xs(n)?(e=!0,Ld(t)):e=!1,Ki(t,r),Bj(t,n,a),pp(t,n,a,r),xp(null,t,n,!0,e,r);case 19:return Qj(e,t,r);case 22:return Kj(e,t,r)}throw Error(Z(156,t.tag))};function mw(e,t){return q0(e,t)}function nP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,r,n){return new nP(e,t,r,n)}function yg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aP(e){if(typeof e=="function")return yg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mf)return 11;if(e===Ff)return 14}return 2}function na(e,t){var r=e.alternate;return r===null?(r=Ws(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vd(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")yg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ai:return Ha(r.children,a,i,t);case Lf:o=8,a|=8;break;case Fm:return e=Ws(12,r,t,a|2),e.elementType=Fm,e.lanes=i,e;case $m:return e=Ws(13,r,t,a),e.elementType=$m,e.lanes=i,e;case qm:return e=Ws(19,r,t,a),e.elementType=qm,e.lanes=i,e;case _0:return Lu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j0:o=10;break e;case w0:o=9;break e;case Mf:o=11;break e;case Ff:o=14;break e;case In:o=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Ws(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ha(e,t,r,n){return e=Ws(7,e,n,t),e.lanes=r,e}function Lu(e,t,r,n){return e=Ws(22,e,n,t),e.elementType=_0,e.lanes=r,e.stateNode={isHidden:!1},e}function nm(e,t,r){return e=Ws(6,e,null,t),e.lanes=r,e}function am(e,t,r){return t=Ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iP(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vg(e,t,r,n,a,i,o,c,l){return e=new iP(e,t,r,c,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ws(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sg(i),e}function oP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pw(e){if(!e)return da;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(xs(r))return pj(e,r,t)}return t}function fw(e,t,r,n,a,i,o,c,l){return e=vg(r,n,!0,e,a,i,o,c,l),e.context=pw(null),r=e.current,n=ns(),a=ra(r),i=rn(n,a),i.callback=t??null,ta(r,i,a),e.current.lanes=a,lc(e,a,n),ys(e,n),e}function Mu(e,t,r,n){var a=t.current,i=ns(),o=ra(a);return r=pw(r),t.context===null?t.context=r:t.pendingContext=r,t=rn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ta(a,t,o),e!==null&&(xr(e,a,o,i),md(e,a,o)),o}function Yd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bg(e,t){Vy(e,t),(e=e.alternate)&&Vy(e,t)}function lP(){return null}var gw=typeof reportError=="function"?reportError:function(e){console.error(e)};function jg(e){this._internalRoot=e}Fu.prototype.render=jg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Mu(e,t,null,null)};Fu.prototype.unmount=jg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xa(function(){Mu(null,e,null,null)}),t[dn]=null}};function Fu(e){this._internalRoot=e}Fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=K0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mn.length&&t!==0&&t<Mn[r].priority;r++);Mn.splice(r,0,e),r===0&&Y0(e)}};function wg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wy(){}function cP(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Yd(o);i.call(d)}}var o=fw(t,n,e,0,null,!1,!1,"",Wy);return e._reactRootContainer=o,e[dn]=o.current,Tl(e.nodeType===8?e.parentNode:e),Xa(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var d=Yd(l);c.call(d)}}var l=vg(e,0,!1,null,null,!1,!1,"",Wy);return e._reactRootContainer=l,e[dn]=l.current,Tl(e.nodeType===8?e.parentNode:e),Xa(function(){Mu(t,l,r,n)}),l}function qu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var c=a;a=function(){var l=Yd(o);c.call(l)}}Mu(t,o,e,a)}else o=cP(r,t,e,a,n);return Yd(o)}W0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sl(t.pendingLanes);r!==0&&(Uf(t,r|1),ys(t,jt()),!(qe&6)&&(po=jt()+500,xa()))}break;case 13:Xa(function(){var n=un(e,1);if(n!==null){var a=ns();xr(n,e,1,a)}}),bg(e,1)}};zf=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var r=ns();xr(t,e,134217728,r)}bg(e,134217728)}};H0=function(e){if(e.tag===13){var t=ra(e),r=un(e,t);if(r!==null){var n=ns();xr(r,e,t,n)}bg(e,t)}};K0=function(){return We};G0=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};Jm=function(e,t,r){switch(t){case"input":if(Bm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Tu(n);if(!a)throw Error(Z(90));S0(n),Bm(n,a)}}}break;case"textarea":C0(e,r);break;case"select":t=r.value,t!=null&&Bi(e,!!r.multiple,t,!1)}};D0=fg;I0=Xa;var dP={usingClientEntryPoint:!1,Events:[dc,Ii,Tu,R0,O0,fg]},Go={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uP={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F0(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||lP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{ku=zc.inject(uP),Mr=zc}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dP;Ms.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(t))throw Error(Z(200));return oP(e,t,null,r)};Ms.createRoot=function(e,t){if(!wg(e))throw Error(Z(299));var r=!1,n="",a=gw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vg(e,1,!1,null,null,r,!1,n,a),e[dn]=t.current,Tl(e.nodeType===8?e.parentNode:e),new jg(t)};Ms.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=F0(t),e=e===null?null:e.stateNode,e};Ms.flushSync=function(e){return Xa(e)};Ms.hydrate=function(e,t,r){if(!$u(t))throw Error(Z(200));return qu(null,e,t,!0,r)};Ms.hydrateRoot=function(e,t,r){if(!wg(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=gw;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fw(t,null,e,1,r??null,a,!1,i,o),e[dn]=t.current,Tl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Fu(t)};Ms.render=function(e,t,r){if(!$u(t))throw Error(Z(200));return qu(null,e,t,!1,r)};Ms.unmountComponentAtNode=function(e){if(!$u(e))throw Error(Z(40));return e._reactRootContainer?(Xa(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};Ms.unstable_batchedUpdates=fg;Ms.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$u(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return qu(e,t,r,!1,n)};Ms.version="18.3.1-next-f1338f8080-20240426";function xw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xw)}catch(e){console.error(e)}}xw(),x0.exports=Ms;var yn=x0.exports;const yw=Cf(yn);var vw,Hy=yn;vw=Hy.createRoot,Hy.hydrateRoot;const hP=1,mP=1e6;let im=0;function pP(){return im=(im+1)%Number.MAX_SAFE_INTEGER,im.toString()}const om=new Map,Ky=e=>{if(om.has(e))return;const t=setTimeout(()=>{om.delete(e),gl({type:"REMOVE_TOAST",toastId:e})},mP);om.set(e,t)},fP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ky(r):e.toasts.forEach(n=>{Ky(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},bd=[];let jd={toasts:[]};function gl(e){jd=fP(jd,e),bd.forEach(t=>{t(jd)})}function gP({...e}){const t=pP(),r=a=>gl({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>gl({type:"DISMISS_TOAST",toastId:t});return gl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ne(){const[e,t]=f.useState(jd);return f.useEffect(()=>(bd.push(t),()=>{const r=bd.indexOf(t);r>-1&&bd.splice(r,1)}),[e]),{...e,toast:gP,dismiss:r=>gl({type:"DISMISS_TOAST",toastId:r})}}function le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Gy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bw(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Gy(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Gy(e[a],null)}}}}function Re(...e){return f.useCallback(bw(...e),e)}function xP(e,t){const r=f.createContext(t),n=i=>{const{children:o,...c}=i,l=f.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function cs(e,t=[]){let r=[];function n(i,o){const c=f.createContext(o),l=r.length;r=[...r,o];const d=p=>{var g;const{scope:m,children:h,...y}=p,x=((g=m==null?void 0:m[e])==null?void 0:g[l])||c,b=f.useMemo(()=>y,Object.values(y));return s.jsx(x.Provider,{value:b,children:h})};d.displayName=i+"Provider";function u(p,m){var x;const h=((x=m==null?void 0:m[e])==null?void 0:x[l])||c,y=f.useContext(h);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return a.scopeName=e,[n,yP(a,...t)]}function yP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...c,...p}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function fo(e){const t=vP(e),r=f.forwardRef((n,a)=>{const{children:i,...o}=n,c=f.Children.toArray(i),l=c.find(jP);if(l){const d=l.props.children,u=c.map(p=>p===l?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:p);return s.jsx(t,{...o,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var ko=fo("Slot");function vP(e){const t=f.forwardRef((r,n)=>{const{children:a,...i}=r;if(f.isValidElement(a)){const o=_P(a),c=wP(i,a.props);return a.type!==f.Fragment&&(c.ref=n?bw(n,o):o),f.cloneElement(a,c)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jw=Symbol("radix.slottable");function bP(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=jw,t}function jP(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jw}function wP(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const l=i(...c);return a(...c),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function _P(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Uu(e){const t=e+"CollectionProvider",[r,n]=cs(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:b,children:g}=x,v=Y.useRef(null),j=Y.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:j,collectionRef:v,children:g})};o.displayName=t;const c=e+"CollectionSlot",l=fo(c),d=Y.forwardRef((x,b)=>{const{scope:g,children:v}=x,j=i(c,g),w=Re(b,j.collectionRef);return s.jsx(l,{ref:w,children:v})});d.displayName=c;const u=e+"CollectionItemSlot",p="data-radix-collection-item",m=fo(u),h=Y.forwardRef((x,b)=>{const{scope:g,children:v,...j}=x,w=Y.useRef(null),N=Re(b,w),k=i(u,g);return Y.useEffect(()=>(k.itemMap.set(w,{ref:w,...j}),()=>void k.itemMap.delete(w))),s.jsx(m,{[p]:"",ref:N,children:v})});h.displayName=u;function y(x){const b=i(e+"CollectionConsumer",x);return Y.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((k,_)=>j.indexOf(k.ref.current)-j.indexOf(_.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},y,n]}var NP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=NP.reduce((e,t)=>{const r=fo(`Primitive.${t}`),n=f.forwardRef((a,i)=>{const{asChild:o,...c}=a,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ww(e,t){e&&yn.flushSync(()=>e.dispatchEvent(t))}function Rt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function SP(e,t=globalThis==null?void 0:globalThis.document){const r=Rt(e);f.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var kP="DismissableLayer",Pp="dismissableLayer.update",CP="dismissableLayer.pointerDownOutside",EP="dismissableLayer.focusOutside",Yy,_w=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hc=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...l}=e,d=f.useContext(_w),[u,p]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=f.useState({}),y=Re(t,_=>p(_)),x=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(b),v=u?x.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=g,N=TP(_=>{const C=_.target,A=[...d.branches].some(E=>E.contains(C));!w||A||(a==null||a(_),o==null||o(_),_.defaultPrevented||c==null||c())},m),k=AP(_=>{const C=_.target;[...d.branches].some(E=>E.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||c==null||c())},m);return SP(_=>{v===d.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Yy=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Jy(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Yy)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Jy())},[u,d]),f.useEffect(()=>{const _=()=>h({});return document.addEventListener(Pp,_),()=>document.removeEventListener(Pp,_)},[]),s.jsx(he.div,{...l,ref:y,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,k.onFocusCapture),onBlurCapture:le(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,N.onPointerDownCapture)})});hc.displayName=kP;var PP="DismissableLayerBranch",Nw=f.forwardRef((e,t)=>{const r=f.useContext(_w),n=f.useRef(null),a=Re(t,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(he.div,{...e,ref:a})});Nw.displayName=PP;function TP(e,t=globalThis==null?void 0:globalThis.document){const r=Rt(e),n=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){Sw(CP,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function AP(e,t=globalThis==null?void 0:globalThis.document){const r=Rt(e),n=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!n.current&&Sw(EP,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jy(){const e=new CustomEvent(Pp);document.dispatchEvent(e)}function Sw(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ww(a,i):a.dispatchEvent(i)}var RP=hc,OP=Nw,Dt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},DP="Portal",zu=f.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[a,i]=f.useState(!1);Dt(()=>i(!0),[]);const o=r||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?yw.createPortal(s.jsx(he.div,{...n,ref:t}),o):null});zu.displayName=DP;function IP(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Ns=e=>{const{present:t,children:r}=e,n=LP(t),a=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=Re(n.ref,MP(a));return typeof r=="function"||n.isPresent?f.cloneElement(a,{ref:i}):null};Ns.displayName="Presence";function LP(e){const[t,r]=f.useState(),n=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[c,l]=IP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Bc(n.current);i.current=c==="mounted"?d:"none"},[c]),Dt(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,h=Bc(d);e?l("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),Dt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,p=h=>{const x=Bc(n.current).includes(h.animationName);if(h.target===t&&x&&(l("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=h=>{h.target===t&&(i.current=Bc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:f.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Bc(e){return(e==null?void 0:e.animationName)||"none"}function MP(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var FP=Rf[" useInsertionEffect ".trim().toString()]||Dt;function Os({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=$P({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const p=u.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=c},[c,n])}const d=f.useCallback(u=>{var p;if(c){const m=qP(u)?u(e):u;m!==e&&((p=o.current)==null||p.call(o,m))}else i(u)},[c,e,i,o]);return[l,d]}function $P({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),a=f.useRef(r),i=f.useRef(t);return FP(()=>{i.current=t},[t]),f.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function qP(e){return typeof e=="function"}var kw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UP="VisuallyHidden",Bu=f.forwardRef((e,t)=>s.jsx(he.span,{...e,ref:t,style:{...kw,...e.style}}));Bu.displayName=UP;var Cw=Bu,_g="ToastProvider",[Ng,zP,BP]=Uu("Toast"),[Ew,Fq]=cs("Toast",[BP]),[VP,Vu]=Ew(_g),Pw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[c,l]=f.useState(null),[d,u]=f.useState(0),p=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_g}\`. Expected non-empty \`string\`.`),s.jsx(Ng.Provider,{scope:t,children:s.jsx(VP,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:f.useCallback(()=>u(h=>h+1),[]),onToastRemove:f.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};Pw.displayName=_g;var Tw="ToastViewport",WP=["F8"],Tp="toast.viewportPause",Ap="toast.viewportResume",Aw=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=WP,label:a="Notifications ({hotkey})",...i}=e,o=Vu(Tw,r),c=zP(r),l=f.useRef(null),d=f.useRef(null),u=f.useRef(null),p=f.useRef(null),m=Re(t,p,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;f.useEffect(()=>{const b=g=>{var j;n.length!==0&&n.every(w=>g[w]||g.code===w)&&((j=p.current)==null||j.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),f.useEffect(()=>{const b=l.current,g=p.current;if(y&&b&&g){const v=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Tp);g.dispatchEvent(k),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Ap);g.dispatchEvent(k),o.isClosePausedRef.current=!1}},w=k=>{!b.contains(k.relatedTarget)&&j()},N=()=>{b.contains(document.activeElement)||j()};return b.addEventListener("focusin",v),b.addEventListener("focusout",w),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",w),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[y,o.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:b})=>{const v=c().map(j=>{const w=j.ref.current,N=[w,...nT(w)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?v.reverse():v).flat()},[c]);return f.useEffect(()=>{const b=p.current;if(b){const g=v=>{var N,k,_;const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const C=document.activeElement,A=v.shiftKey;if(v.target===b&&A){(N=d.current)==null||N.focus();return}const T=x({tabbingDirection:A?"backwards":"forwards"}),R=T.findIndex(I=>I===C);lm(T.slice(R+1))?v.preventDefault():A?(k=d.current)==null||k.focus():(_=u.current)==null||_.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[c,x]),s.jsxs(OP,{ref:l,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(Rp,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});lm(b)}}),s.jsx(Ng.Slot,{scope:r,children:s.jsx(he.ol,{tabIndex:-1,...i,ref:m})}),y&&s.jsx(Rp,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});lm(b)}})]})});Aw.displayName=Tw;var Rw="ToastFocusProxy",Rp=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Vu(Rw,r);return s.jsx(Bu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const c=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(c))&&n()}})});Rp.displayName=Rw;var mc="Toast",HP="toast.swipeStart",KP="toast.swipeMove",GP="toast.swipeCancel",YP="toast.swipeEnd",Ow=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[c,l]=Os({prop:n,defaultProp:a??!0,onChange:i,caller:mc});return s.jsx(Ns,{present:r||c,children:s.jsx(XP,{open:c,...o,ref:t,onClose:()=>l(!1),onPause:Rt(e.onPause),onResume:Rt(e.onResume),onSwipeStart:le(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(e.onSwipeMove,d=>{const{x:u,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:le(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(e.onSwipeEnd,d=>{const{x:u,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});Ow.displayName=mc;var[JP,QP]=Ew(mc,{onClose(){}}),XP=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:c,onPause:l,onResume:d,onSwipeStart:u,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:h,...y}=e,x=Vu(mc,r),[b,g]=f.useState(null),v=Re(t,I=>g(I)),j=f.useRef(null),w=f.useRef(null),N=a||x.duration,k=f.useRef(0),_=f.useRef(N),C=f.useRef(0),{onToastAdd:A,onToastRemove:E}=x,S=Rt(()=>{var z;(b==null?void 0:b.contains(document.activeElement))&&((z=x.viewport)==null||z.focus()),o()}),T=f.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(S,I))},[S]);f.useEffect(()=>{const I=x.viewport;if(I){const z=()=>{T(_.current),d==null||d()},U=()=>{const F=new Date().getTime()-k.current;_.current=_.current-F,window.clearTimeout(C.current),l==null||l()};return I.addEventListener(Tp,U),I.addEventListener(Ap,z),()=>{I.removeEventListener(Tp,U),I.removeEventListener(Ap,z)}}},[x.viewport,N,l,d,T]),f.useEffect(()=>{i&&!x.isClosePausedRef.current&&T(N)},[i,N,x.isClosePausedRef,T]),f.useEffect(()=>(A(),()=>E()),[A,E]);const R=f.useMemo(()=>b?qw(b):null,[b]);return x.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(ZP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(JP,{scope:r,onClose:S,children:yn.createPortal(s.jsx(Ng.ItemSlot,{scope:r,children:s.jsx(RP,{asChild:!0,onEscapeKeyDown:le(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||S(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:le(e.onKeyDown,I=>{I.key==="Escape"&&(c==null||c(I.nativeEvent),I.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:le(e.onPointerDown,I=>{I.button===0&&(j.current={x:I.clientX,y:I.clientY})}),onPointerMove:le(e.onPointerMove,I=>{if(!j.current)return;const z=I.clientX-j.current.x,U=I.clientY-j.current.y,F=!!w.current,O=["left","right"].includes(x.swipeDirection),$=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,H=O?$(0,z):0,ne=O?0:$(0,U),ae=I.pointerType==="touch"?10:2,pe={x:H,y:ne},me={originalEvent:I,delta:pe};F?(w.current=pe,Vc(KP,p,me,{discrete:!1})):Qy(pe,x.swipeDirection,ae)?(w.current=pe,Vc(HP,u,me,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(z)>ae||Math.abs(U)>ae)&&(j.current=null)}),onPointerUp:le(e.onPointerUp,I=>{const z=w.current,U=I.target;if(U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),w.current=null,j.current=null,z){const F=I.currentTarget,O={originalEvent:I,delta:z};Qy(z,x.swipeDirection,x.swipeThreshold)?Vc(YP,h,O,{discrete:!0}):Vc(GP,m,O,{discrete:!0}),F.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),ZP=e=>{const{__scopeToast:t,children:r,...n}=e,a=Vu(mc,t),[i,o]=f.useState(!1),[c,l]=f.useState(!1);return sT(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:s.jsx(zu,{asChild:!0,children:s.jsx(Bu,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},eT="ToastTitle",Dw=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(he.div,{...n,ref:t})});Dw.displayName=eT;var tT="ToastDescription",Iw=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(he.div,{...n,ref:t})});Iw.displayName=tT;var Lw="ToastAction",Mw=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx($w,{altText:r,asChild:!0,children:s.jsx(Sg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Lw}\`. Expected non-empty \`string\`.`),null)});Mw.displayName=Lw;var Fw="ToastClose",Sg=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=QP(Fw,r);return s.jsx($w,{asChild:!0,children:s.jsx(he.button,{type:"button",...n,ref:t,onClick:le(e.onClick,a.onClose)})})});Sg.displayName=Fw;var $w=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function qw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),rT(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...qw(n))}}),t}function Vc(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ww(a,i):a.dispatchEvent(i)}var Qy=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function sT(e=()=>{}){const t=Rt(e);Dt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function rT(e){return e.nodeType===e.ELEMENT_NODE}function nT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var aT=Pw,Uw=Aw,zw=Ow,Bw=Dw,Vw=Iw,Ww=Mw,Hw=Sg;function Kw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Kw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ka(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Kw(e))&&(n&&(n+=" "),n+=t);return n}const Xy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zy=Ka,di=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Zy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],p=i==null?void 0:i[d];if(u===null)return null;const m=Xy(u)||Xy(p);return a[d][m]}),c=r&&Object.entries(r).reduce((d,u)=>{let[p,m]=u;return m===void 0||(d[p]=m),d},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:p,className:m,...h}=u;return Object.entries(h).every(y=>{let[x,b]=y;return Array.isArray(b)?b.includes({...i,...c}[x]):{...i,...c}[x]===b})?[...d,p,m]:d},[]);return Zy(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},l)=>f.createElement("svg",{ref:l,...oT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Gw("lucide",a),...c},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const r=f.forwardRef(({className:n,...a},i)=>f.createElement(lT,{ref:i,iconNode:t,className:Gw(`lucide-${iT(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=X("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=X("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=X("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=X("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=X("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=X("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=X("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=X("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=X("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=X("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=X("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=X("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=X("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=X("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=X("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=X("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=X("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=X("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=X("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=X("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=X("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=X("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=X("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=X("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=X("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=X("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=X("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=X("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=X("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=X("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=X("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=X("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=X("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=X("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=X("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=X("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=X("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=X("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=X("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=X("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=X("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=X("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=X("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=X("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=X("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=X("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=X("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Dg="-",IT=e=>{const t=MT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(Dg);return c[0]===""&&c.length!==1&&c.shift(),s_(c,t)||LT(o)},getConflictingClassGroupIds:(o,c)=>{const l=r[o]||[];return c&&n[o]?[...l,...n[o]]:l}}},s_=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?s_(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Dg);return(o=t.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},iv=/^\[(.+)\]$/,LT=e=>{if(iv.test(e)){const t=iv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},MT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return $T(Object.entries(e.classGroups),r).forEach(([i,o])=>{$p(o,n,i,t)}),n},$p=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:ov(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(FT(a)){$p(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{$p(o,ov(t,i),r,n)})})},ov=(e,t)=>{let r=e;return t.split(Dg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},FT=e=>e.isThemeGetter,$T=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[t+o,c])):i);return[r,a]}):e,qT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},r_="!",UT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=c=>{const l=[];let d=0,u=0,p;for(let b=0;b<c.length;b++){let g=c[b];if(d===0){if(g===a&&(n||c.slice(b,b+i)===t)){l.push(c.slice(u,b)),u=b+i;continue}if(g==="/"){p=b;continue}}g==="["?d++:g==="]"&&d--}const m=l.length===0?c:c.substring(u),h=m.startsWith(r_),y=h?m.substring(1):m,x=p&&p>u?p-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:x}};return r?c=>r({className:c,parseClassName:o}):o},zT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},BT=e=>({cache:qT(e.cacheSize),parseClassName:UT(e),...IT(e)}),VT=/\s+/,WT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(VT);let c="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:u,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:h}=r(d);let y=!!h,x=n(y?m.substring(0,h):m);if(!x){if(!y){c=d+(c.length>0?" "+c:c);continue}if(x=n(m),!x){c=d+(c.length>0?" "+c:c);continue}y=!1}const b=zT(u).join(":"),g=p?b+r_:b,v=g+x;if(i.includes(v))continue;i.push(v);const j=a(x,y);for(let w=0;w<j.length;++w){const N=j[w];i.push(g+N)}c=d+(c.length>0?" "+c:c)}return c};function HT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=n_(t))&&(n&&(n+=" "),n+=r);return n}const n_=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=n_(e[n]))&&(r&&(r+=" "),r+=t);return r};function KT(e,...t){let r,n,a,i=o;function o(l){const d=t.reduce((u,p)=>p(u),e());return r=BT(d),n=r.cache.get,a=r.cache.set,i=c,c(l)}function c(l){const d=n(l);if(d)return d;const u=WT(l,r);return a(l,u),u}return function(){return i(HT.apply(null,arguments))}}const Xe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},a_=/^\[(?:([a-z-]+):)?(.+)\]$/i,GT=/^\d+\/\d+$/,YT=new Set(["px","full","screen"]),JT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kr=e=>Yi(e)||YT.has(e)||GT.test(e),Cn=e=>Eo(e,"length",lA),Yi=e=>!!e&&!Number.isNaN(Number(e)),cm=e=>Eo(e,"number",Yi),Yo=e=>!!e&&Number.isInteger(Number(e)),tA=e=>e.endsWith("%")&&Yi(e.slice(0,-1)),Ae=e=>a_.test(e),En=e=>JT.test(e),sA=new Set(["length","size","percentage"]),rA=e=>Eo(e,sA,i_),nA=e=>Eo(e,"position",i_),aA=new Set(["image","url"]),iA=e=>Eo(e,aA,dA),oA=e=>Eo(e,"",cA),Jo=()=>!0,Eo=(e,t,r)=>{const n=a_.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},lA=e=>QT.test(e)&&!XT.test(e),i_=()=>!1,cA=e=>ZT.test(e),dA=e=>eA.test(e),uA=()=>{const e=Xe("colors"),t=Xe("spacing"),r=Xe("blur"),n=Xe("brightness"),a=Xe("borderColor"),i=Xe("borderRadius"),o=Xe("borderSpacing"),c=Xe("borderWidth"),l=Xe("contrast"),d=Xe("grayscale"),u=Xe("hueRotate"),p=Xe("invert"),m=Xe("gap"),h=Xe("gradientColorStops"),y=Xe("gradientColorStopPositions"),x=Xe("inset"),b=Xe("margin"),g=Xe("opacity"),v=Xe("padding"),j=Xe("saturate"),w=Xe("scale"),N=Xe("sepia"),k=Xe("skew"),_=Xe("space"),C=Xe("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",Ae,t],T=()=>[Ae,t],R=()=>["",Kr,Cn],I=()=>["auto",Yi,Ae],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ae],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Yi,Ae];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[Kr,Cn],blur:["none","",En,Ae],brightness:ne(),borderColor:[e],borderRadius:["none","","full",En,Ae],borderSpacing:T(),borderWidth:R(),contrast:ne(),grayscale:$(),hueRotate:ne(),invert:$(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[tA,Cn],inset:S(),margin:S(),opacity:ne(),padding:T(),saturate:ne(),scale:ne(),sepia:$(),skew:ne(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[En]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ae]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,Ae]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Yo,Ae]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Yo,Ae]},Ae]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Yo,Ae]},Ae]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[En]},En]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",En,Cn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cm]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Yi,cm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr,Cn]}],"underline-offset":[{"underline-offset":["auto",Kr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),nA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Kr,Ae]}],"outline-w":[{outline:[Kr,Cn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Kr,Cn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",En,oA]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",En,Ae]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[p]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Yo,Ae]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kr,Cn,cm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hA=KT(uA);function J(...e){return hA(Ka(e))}const mA=aT,o_=f.forwardRef(({className:e,...t},r)=>s.jsx(Uw,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));o_.displayName=Uw.displayName;const pA=di("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l_=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(zw,{ref:n,className:J(pA({variant:t}),e),...r}));l_.displayName=zw.displayName;const fA=f.forwardRef(({className:e,...t},r)=>s.jsx(Ww,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));fA.displayName=Ww.displayName;const c_=f.forwardRef(({className:e,...t},r)=>s.jsx(Hw,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ct,{className:"h-4 w-4"})}));c_.displayName=Hw.displayName;const d_=f.forwardRef(({className:e,...t},r)=>s.jsx(Bw,{ref:r,className:J("text-sm font-semibold",e),...t}));d_.displayName=Bw.displayName;const u_=f.forwardRef(({className:e,...t},r)=>s.jsx(Vw,{ref:r,className:J("text-sm opacity-90",e),...t}));u_.displayName=Vw.displayName;function h_(){const{toasts:e}=Ne();return s.jsxs(mA,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(l_,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(d_,{children:r}),n&&s.jsx(u_,{children:n})]}),a,s.jsx(c_,{})]},t)}),s.jsx(o_,{})]})}var lv=["light","dark"],gA="(prefers-color-scheme: dark)",xA=f.createContext(void 0),yA={setTheme:e=>{},themes:[]},vA=()=>{var e;return(e=f.useContext(xA))!=null?e:yA};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:c,nonce:l})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=a?lv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,x=!1,b=!0)=>{let g=o?o[y]:y,v=x?y+"|| ''":`'${g}'`,j="";return a&&b&&!x&&lv.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),r==="class"?x||g?j+=`c.add(${v})`:j+="null":g&&(j+=`d[s](n,${v})`),j},h=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${gA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${p}}catch(t){}}();`;return f.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var bA=e=>{switch(e){case"success":return _A;case"info":return SA;case"warning":return NA;case"error":return kA;default:return null}},jA=Array(12).fill(0),wA=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},jA.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),_A=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NA=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SA=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kA=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CA=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),EA=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},qp=1,PA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:qp++,i=this.toasts.find(c=>c.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:r}),{...c,...e,id:a,dismissible:o,title:r}):c):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],Y.isValidElement(l))a=!1,this.create({id:r,type:"default",message:l});else if(AA(l)&&!l.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var l;a&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),c=()=>new Promise((l,d)=>o.then(()=>i[0]==="reject"?d(i[1]):l(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||qp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ms=new PA,TA=(e,t)=>{let r=(t==null?void 0:t.id)||qp++;return ms.addToast({title:e,...t,id:r}),r},AA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",RA=TA,OA=()=>ms.toasts,DA=()=>ms.getActiveToasts();Object.assign(RA,{success:ms.success,info:ms.info,warning:ms.warning,error:ms.error,custom:ms.custom,message:ms.message,promise:ms.promise,dismiss:ms.dismiss,loading:ms.loading},{getHistory:OA,getToasts:DA});function IA(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}IA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wc(e){return e.label!==void 0}var LA=3,MA="32px",FA="16px",cv=4e3,$A=356,qA=14,UA=20,zA=200;function ar(...e){return e.filter(Boolean).join(" ")}function BA(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var VA=e=>{var t,r,n,a,i,o,c,l,d,u,p;let{invert:m,toast:h,unstyled:y,interacting:x,setHeights:b,visibleToasts:g,heights:v,index:j,toasts:w,expanded:N,removeToast:k,defaultRichColors:_,closeButton:C,style:A,cancelButtonStyle:E,actionButtonStyle:S,className:T="",descriptionClassName:R="",duration:I,position:z,gap:U,loadingIcon:F,expandByDefault:O,classNames:$,icons:H,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:ae}=e,[pe,me]=Y.useState(null),[Oe,Fe]=Y.useState(null),[ee,q]=Y.useState(!1),[de,ie]=Y.useState(!1),[se,G]=Y.useState(!1),[be,Ie]=Y.useState(!1),[Ge,ot]=Y.useState(!1),[pt,Lt]=Y.useState(0),[Be,Zt]=Y.useState(0),ds=Y.useRef(h.duration||I||cv),_t=Y.useRef(null),us=Y.useRef(null),bc=j===0,jc=j+1<=g,hs=h.type,Hr=h.dismissible!==!1,Ph=h.className||"",Fo=h.descriptionClassName||"",Zs=Y.useMemo(()=>v.findIndex(_e=>_e.toastId===h.id)||0,[v,h.id]),$o=Y.useMemo(()=>{var _e;return(_e=h.closeButton)!=null?_e:C},[h.closeButton,C]),ui=Y.useMemo(()=>h.duration||I||cv,[h.duration,I]),jn=Y.useRef(0),wn=Y.useRef(0),wc=Y.useRef(0),_n=Y.useRef(null),[Th,Ah]=z.split("-"),qo=Y.useMemo(()=>v.reduce((_e,ze,Ye)=>Ye>=Zs?_e:_e+ze.height,0),[v,Zs]),_c=EA(),Nc=h.invert||m,hi=hs==="loading";wn.current=Y.useMemo(()=>Zs*U+qo,[Zs,qo]),Y.useEffect(()=>{ds.current=ui},[ui]),Y.useEffect(()=>{q(!0)},[]),Y.useEffect(()=>{let _e=us.current;if(_e){let ze=_e.getBoundingClientRect().height;return Zt(ze),b(Ye=>[{toastId:h.id,height:ze,position:h.position},...Ye]),()=>b(Ye=>Ye.filter(tr=>tr.toastId!==h.id))}},[b,h.id]),Y.useLayoutEffect(()=>{if(!ee)return;let _e=us.current,ze=_e.style.height;_e.style.height="auto";let Ye=_e.getBoundingClientRect().height;_e.style.height=ze,Zt(Ye),b(tr=>tr.find(sr=>sr.toastId===h.id)?tr.map(sr=>sr.toastId===h.id?{...sr,height:Ye}:sr):[{toastId:h.id,height:Ye,position:h.position},...tr])},[ee,h.title,h.description,b,h.id]);let er=Y.useCallback(()=>{ie(!0),Lt(wn.current),b(_e=>_e.filter(ze=>ze.toastId!==h.id)),setTimeout(()=>{k(h)},zA)},[h,k,b,wn]);Y.useEffect(()=>{if(h.promise&&hs==="loading"||h.duration===1/0||h.type==="loading")return;let _e;return N||x||ae&&_c?(()=>{if(wc.current<jn.current){let ze=new Date().getTime()-jn.current;ds.current=ds.current-ze}wc.current=new Date().getTime()})():ds.current!==1/0&&(jn.current=new Date().getTime(),_e=setTimeout(()=>{var ze;(ze=h.onAutoClose)==null||ze.call(h,h),er()},ds.current)),()=>clearTimeout(_e)},[N,x,h,hs,ae,_c,er]),Y.useEffect(()=>{h.delete&&er()},[er,h.delete]);function Rh(){var _e,ze,Ye;return H!=null&&H.loading?Y.createElement("div",{className:ar($==null?void 0:$.loader,(_e=h==null?void 0:h.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":hs==="loading"},H.loading):F?Y.createElement("div",{className:ar($==null?void 0:$.loader,(ze=h==null?void 0:h.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":hs==="loading"},F):Y.createElement(wA,{className:ar($==null?void 0:$.loader,(Ye=h==null?void 0:h.classNames)==null?void 0:Ye.loader),visible:hs==="loading"})}return Y.createElement("li",{tabIndex:0,ref:us,className:ar(T,Ph,$==null?void 0:$.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[hs],(r=h==null?void 0:h.classNames)==null?void 0:r[hs]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:_,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":ee,"data-promise":!!h.promise,"data-swiped":Ge,"data-removed":de,"data-visible":jc,"data-y-position":Th,"data-x-position":Ah,"data-index":j,"data-front":bc,"data-swiping":se,"data-dismissible":Hr,"data-type":hs,"data-invert":Nc,"data-swipe-out":be,"data-swipe-direction":Oe,"data-expanded":!!(N||O&&ee),style:{"--index":j,"--toasts-before":j,"--z-index":w.length-j,"--offset":`${de?pt:wn.current}px`,"--initial-height":O?"auto":`${Be}px`,...A,...h.style},onDragEnd:()=>{G(!1),me(null),_n.current=null},onPointerDown:_e=>{hi||!Hr||(_t.current=new Date,Lt(wn.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(G(!0),_n.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,ze,Ye,tr;if(be||!Hr)return;_n.current=null;let sr=Number(((_e=us.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nn=Number(((ze=us.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Na=new Date().getTime()-((Ye=_t.current)==null?void 0:Ye.getTime()),rr=pe==="x"?sr:Nn,Sn=Math.abs(rr)/Na;if(Math.abs(rr)>=UA||Sn>.11){Lt(wn.current),(tr=h.onDismiss)==null||tr.call(h,h),Fe(pe==="x"?sr>0?"right":"left":Nn>0?"down":"up"),er(),Ie(!0),ot(!1);return}G(!1),me(null)},onPointerMove:_e=>{var ze,Ye,tr,sr;if(!_n.current||!Hr||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let Nn=_e.clientY-_n.current.y,Na=_e.clientX-_n.current.x,rr=(Ye=e.swipeDirections)!=null?Ye:BA(z);!pe&&(Math.abs(Na)>1||Math.abs(Nn)>1)&&me(Math.abs(Na)>Math.abs(Nn)?"x":"y");let Sn={x:0,y:0};pe==="y"?(rr.includes("top")||rr.includes("bottom"))&&(rr.includes("top")&&Nn<0||rr.includes("bottom")&&Nn>0)&&(Sn.y=Nn):pe==="x"&&(rr.includes("left")||rr.includes("right"))&&(rr.includes("left")&&Na<0||rr.includes("right")&&Na>0)&&(Sn.x=Na),(Math.abs(Sn.x)>0||Math.abs(Sn.y)>0)&&ot(!0),(tr=us.current)==null||tr.style.setProperty("--swipe-amount-x",`${Sn.x}px`),(sr=us.current)==null||sr.style.setProperty("--swipe-amount-y",`${Sn.y}px`)}},$o&&!h.jsx?Y.createElement("button",{"aria-label":ne,"data-disabled":hi,"data-close-button":!0,onClick:hi||!Hr?()=>{}:()=>{var _e;er(),(_e=h.onDismiss)==null||_e.call(h,h)},className:ar($==null?void 0:$.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(i=H==null?void 0:H.close)!=null?i:CA):null,h.jsx||f.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:Y.createElement(Y.Fragment,null,hs||h.icon||h.promise?Y.createElement("div",{"data-icon":"",className:ar($==null?void 0:$.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Rh():null,h.type!=="loading"?h.icon||(H==null?void 0:H[hs])||bA(hs):null):null,Y.createElement("div",{"data-content":"",className:ar($==null?void 0:$.content,(c=h==null?void 0:h.classNames)==null?void 0:c.content)},Y.createElement("div",{"data-title":"",className:ar($==null?void 0:$.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?Y.createElement("div",{"data-description":"",className:ar(R,Fo,$==null?void 0:$.description,(d=h==null?void 0:h.classNames)==null?void 0:d.description)},typeof h.description=="function"?h.description():h.description):null),f.isValidElement(h.cancel)?h.cancel:h.cancel&&Wc(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:_e=>{var ze,Ye;Wc(h.cancel)&&Hr&&((Ye=(ze=h.cancel).onClick)==null||Ye.call(ze,_e),er())},className:ar($==null?void 0:$.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,f.isValidElement(h.action)?h.action:h.action&&Wc(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||S,onClick:_e=>{var ze,Ye;Wc(h.action)&&((Ye=(ze=h.action).onClick)==null||Ye.call(ze,_e),!_e.defaultPrevented&&er())},className:ar($==null?void 0:$.actionButton,(p=h==null?void 0:h.classNames)==null?void 0:p.actionButton)},h.action.label):null))};function dv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function WA(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",c=i?FA:MA;function l(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=c:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):l(c)}),r}var HA=f.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:c,offset:l,mobileOffset:d,theme:u="light",richColors:p,duration:m,style:h,visibleToasts:y=LA,toastOptions:x,dir:b=dv(),gap:g=qA,loadingIcon:v,icons:j,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=e,[k,_]=Y.useState([]),C=Y.useMemo(()=>Array.from(new Set([n].concat(k.filter(ae=>ae.position).map(ae=>ae.position)))),[k,n]),[A,E]=Y.useState([]),[S,T]=Y.useState(!1),[R,I]=Y.useState(!1),[z,U]=Y.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=Y.useRef(null),O=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=Y.useRef(null),H=Y.useRef(!1),ne=Y.useCallback(ae=>{_(pe=>{var me;return(me=pe.find(Oe=>Oe.id===ae.id))!=null&&me.delete||ms.dismiss(ae.id),pe.filter(({id:Oe})=>Oe!==ae.id)})},[]);return Y.useEffect(()=>ms.subscribe(ae=>{if(ae.dismiss){_(pe=>pe.map(me=>me.id===ae.id?{...me,delete:!0}:me));return}setTimeout(()=>{yw.flushSync(()=>{_(pe=>{let me=pe.findIndex(Oe=>Oe.id===ae.id);return me!==-1?[...pe.slice(0,me),{...pe[me],...ae},...pe.slice(me+1)]:[ae,...pe]})})})}),[]),Y.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let ae=window.matchMedia("(prefers-color-scheme: dark)");try{ae.addEventListener("change",({matches:pe})=>{U(pe?"dark":"light")})}catch{ae.addListener(({matches:me})=>{try{U(me?"dark":"light")}catch(Oe){console.error(Oe)}})}},[u]),Y.useEffect(()=>{k.length<=1&&T(!1)},[k]),Y.useEffect(()=>{let ae=pe=>{var me,Oe;a.every(Fe=>pe[Fe]||pe.code===Fe)&&(T(!0),(me=F.current)==null||me.focus()),pe.code==="Escape"&&(document.activeElement===F.current||(Oe=F.current)!=null&&Oe.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[a]),Y.useEffect(()=>{if(F.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,H.current=!1)}},[F.current]),Y.createElement("section",{ref:t,"aria-label":`${w} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ae,pe)=>{var me;let[Oe,Fe]=ae.split("-");return k.length?Y.createElement("ol",{key:ae,dir:b==="auto"?dv():b,tabIndex:-1,ref:F,className:c,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Oe,"data-lifted":S&&k.length>1&&!i,"data-x-position":Fe,style:{"--front-toast-height":`${((me=A[0])==null?void 0:me.height)||0}px`,"--width":`${$A}px`,"--gap":`${g}px`,...h,...WA(l,d)},onBlur:ee=>{H.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(H.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||H.current||(H.current=!0,$.current=ee.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{R||T(!1)},onDragEnd:()=>T(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},k.filter(ee=>!ee.position&&pe===0||ee.position===ae).map((ee,q)=>{var de,ie;return Y.createElement(VA,{key:ee.id,icons:j,index:q,toast:ee,defaultRichColors:p,duration:(de=x==null?void 0:x.duration)!=null?de:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:y,closeButton:(ie=x==null?void 0:x.closeButton)!=null?ie:o,interacting:R,position:ae,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ne,toasts:k.filter(se=>se.position==ee.position),heights:A.filter(se=>se.position==ee.position),setHeights:E,expandByDefault:i,gap:g,loadingIcon:v,expanded:S,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const m_=({...e})=>{const{theme:t="system"}=vA();return s.jsx(HA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var KA=Rf[" useId ".trim().toString()]||(()=>{}),GA=0;function yr(e){const[t,r]=f.useState(KA());return Dt(()=>{r(n=>n??String(GA++))},[e]),t?`radix-${t}`:""}const YA=["top","right","bottom","left"],ha=Math.min,ks=Math.max,eu=Math.round,Hc=Math.floor,qr=e=>({x:e,y:e}),JA={left:"right",right:"left",bottom:"top",top:"bottom"},QA={start:"end",end:"start"};function Up(e,t,r){return ks(e,ha(t,r))}function fn(e,t){return typeof e=="function"?e(t):e}function gn(e){return e.split("-")[0]}function Po(e){return e.split("-")[1]}function Ig(e){return e==="x"?"y":"x"}function Lg(e){return e==="y"?"height":"width"}const XA=new Set(["top","bottom"]);function Ir(e){return XA.has(gn(e))?"y":"x"}function Mg(e){return Ig(Ir(e))}function ZA(e,t,r){r===void 0&&(r=!1);const n=Po(e),a=Mg(e),i=Lg(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=tu(o)),[o,tu(o)]}function e4(e){const t=tu(e);return[zp(e),t,zp(t)]}function zp(e){return e.replace(/start|end/g,t=>QA[t])}const uv=["left","right"],hv=["right","left"],t4=["top","bottom"],s4=["bottom","top"];function r4(e,t,r){switch(e){case"top":case"bottom":return r?t?hv:uv:t?uv:hv;case"left":case"right":return t?t4:s4;default:return[]}}function n4(e,t,r,n){const a=Po(e);let i=r4(gn(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(zp)))),i}function tu(e){return e.replace(/left|right|bottom|top/g,t=>JA[t])}function a4(e){return{top:0,right:0,bottom:0,left:0,...e}}function p_(e){return typeof e!="number"?a4(e):{top:e,right:e,bottom:e,left:e}}function su(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function mv(e,t,r){let{reference:n,floating:a}=e;const i=Ir(t),o=Mg(t),c=Lg(o),l=gn(t),d=i==="y",u=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,m=n[c]/2-a[c]/2;let h;switch(l){case"top":h={x:u,y:n.y-a.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:p};break;case"left":h={x:n.x-a.width,y:p};break;default:h={x:n.x,y:n.y}}switch(Po(t)){case"start":h[o]-=m*(r&&d?-1:1);break;case"end":h[o]+=m*(r&&d?-1:1);break}return h}const i4=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:p}=mv(d,n,l),m=n,h={},y=0;for(let x=0;x<c.length;x++){const{name:b,fn:g}=c[x],{x:v,y:j,data:w,reset:N}=await g({x:u,y:p,initialPlacement:n,placement:m,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,p=j??p,h={...h,[b]:{...h[b],...w}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:p}=mv(d,m,l)),x=-1)}return{x:u,y:p,placement:m,strategy:a,middlewareData:h}};async function Ul(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:m=!1,padding:h=0}=fn(t,e),y=p_(h),b=c[m?p==="floating"?"reference":"floating":p],g=su(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),v=p==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),w=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=su(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:v,offsetParent:j,strategy:l}):v);return{top:(g.top-N.top+y.top)/w.y,bottom:(N.bottom-g.bottom+y.bottom)/w.y,left:(g.left-N.left+y.left)/w.x,right:(N.right-g.right+y.right)/w.x}}const o4=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=fn(e,t)||{};if(d==null)return{};const p=p_(u),m={x:r,y:n},h=Mg(a),y=Lg(h),x=await o.getDimensions(d),b=h==="y",g=b?"top":"left",v=b?"bottom":"right",j=b?"clientHeight":"clientWidth",w=i.reference[y]+i.reference[h]-m[h]-i.floating[y],N=m[h]-i.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=k?k[j]:0;(!_||!await(o.isElement==null?void 0:o.isElement(k)))&&(_=c.floating[j]||i.floating[y]);const C=w/2-N/2,A=_/2-x[y]/2-1,E=ha(p[g],A),S=ha(p[v],A),T=E,R=_-x[y]-S,I=_/2-x[y]/2+C,z=Up(T,I,R),U=!l.arrow&&Po(a)!=null&&I!==z&&i.reference[y]/2-(I<T?E:S)-x[y]/2<0,F=U?I<T?I-T:I-R:0;return{[h]:m[h]+F,data:{[h]:z,centerOffset:I-z-F,...U&&{alignmentOffset:F}},reset:U}}}),l4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...b}=fn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=gn(a),v=Ir(c),j=gn(c)===c,w=await(l.isRTL==null?void 0:l.isRTL(d.floating)),N=m||(j||!x?[tu(c)]:e4(c)),k=y!=="none";!m&&k&&N.push(...n4(c,x,y,w));const _=[c,...N],C=await Ul(t,b),A=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&A.push(C[g]),p){const I=ZA(a,o,w);A.push(C[I[0]],C[I[1]])}if(E=[...E,{placement:a,overflows:A}],!A.every(I=>I<=0)){var S,T;const I=(((S=i.flip)==null?void 0:S.index)||0)+1,z=_[I];if(z&&(!(p==="alignment"?v!==Ir(z):!1)||E.every(O=>O.overflows[0]>0&&Ir(O.placement)===v)))return{data:{index:I,overflows:E},reset:{placement:z}};let U=(T=E.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:T.placement;if(!U)switch(h){case"bestFit":{var R;const F=(R=E.filter(O=>{if(k){const $=Ir(O.placement);return $===v||$==="y"}return!0}).map(O=>[O.placement,O.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((O,$)=>O[1]-$[1])[0])==null?void 0:R[0];F&&(U=F);break}case"initialPlacement":U=c;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function pv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fv(e){return YA.some(t=>e[t]>=0)}const c4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=fn(e,t);switch(n){case"referenceHidden":{const i=await Ul(t,{...a,elementContext:"reference"}),o=pv(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fv(o)}}}case"escaped":{const i=await Ul(t,{...a,altBoundary:!0}),o=pv(i,r.floating);return{data:{escapedOffsets:o,escaped:fv(o)}}}default:return{}}}}},f_=new Set(["left","top"]);async function d4(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=gn(r),c=Po(r),l=Ir(r)==="y",d=f_.has(o)?-1:1,u=i&&l?-1:1,p=fn(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof y=="number"&&(h=c==="end"?y*-1:y),l?{x:h*u,y:m*d}:{x:m*d,y:h*u}}const u4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:c}=t,l=await d4(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},h4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...l}=fn(e,t),d={x:r,y:n},u=await Ul(t,l),p=Ir(gn(a)),m=Ig(p);let h=d[m],y=d[p];if(i){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=h+u[b],j=h-u[g];h=Up(v,h,j)}if(o){const b=p==="y"?"top":"left",g=p==="y"?"bottom":"right",v=y+u[b],j=y-u[g];y=Up(v,y,j)}const x=c.fn({...t,[m]:h,[p]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:i,[p]:o}}}}}},m4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=fn(e,t),u={x:r,y:n},p=Ir(a),m=Ig(p);let h=u[m],y=u[p];const x=fn(c,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const j=m==="y"?"height":"width",w=i.reference[m]-i.floating[j]+b.mainAxis,N=i.reference[m]+i.reference[j]-b.mainAxis;h<w?h=w:h>N&&(h=N)}if(d){var g,v;const j=m==="y"?"width":"height",w=f_.has(gn(a)),N=i.reference[p]-i.floating[j]+(w&&((g=o.offset)==null?void 0:g[p])||0)+(w?0:b.crossAxis),k=i.reference[p]+i.reference[j]+(w?0:((v=o.offset)==null?void 0:v[p])||0)-(w?b.crossAxis:0);y<N?y=N:y>k&&(y=k)}return{[m]:h,[p]:y}}}},p4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:c}=t,{apply:l=()=>{},...d}=fn(e,t),u=await Ul(t,d),p=gn(a),m=Po(a),h=Ir(a)==="y",{width:y,height:x}=i.floating;let b,g;p==="top"||p==="bottom"?(b=p,g=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(g=p,b=m==="end"?"top":"bottom");const v=x-u.top-u.bottom,j=y-u.left-u.right,w=ha(x-u[b],v),N=ha(y-u[g],j),k=!t.middlewareData.shift;let _=w,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=v),k&&!m){const E=ks(u.left,0),S=ks(u.right,0),T=ks(u.top,0),R=ks(u.bottom,0);h?C=y-2*(E!==0||S!==0?E+S:ks(u.left,u.right)):_=x-2*(T!==0||R!==0?T+R:ks(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:_});const A=await o.getDimensions(c.floating);return y!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Wu(){return typeof window<"u"}function To(e){return g_(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vr(e){var t;return(t=(g_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function g_(e){return Wu()?e instanceof Node||e instanceof As(e).Node:!1}function wr(e){return Wu()?e instanceof Element||e instanceof As(e).Element:!1}function Br(e){return Wu()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function gv(e){return!Wu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}const f4=new Set(["inline","contents"]);function pc(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=_r(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!f4.has(a)}const g4=new Set(["table","td","th"]);function x4(e){return g4.has(To(e))}const y4=[":popover-open",":modal"];function Hu(e){return y4.some(t=>{try{return e.matches(t)}catch{return!1}})}const v4=["transform","translate","scale","rotate","perspective"],b4=["transform","translate","scale","rotate","perspective","filter"],j4=["paint","layout","strict","content"];function Fg(e){const t=$g(),r=wr(e)?_r(e):e;return v4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||b4.some(n=>(r.willChange||"").includes(n))||j4.some(n=>(r.contain||"").includes(n))}function w4(e){let t=ma(e);for(;Br(t)&&!vo(t);){if(Fg(t))return t;if(Hu(t))return null;t=ma(t)}return null}function $g(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _4=new Set(["html","body","#document"]);function vo(e){return _4.has(To(e))}function _r(e){return As(e).getComputedStyle(e)}function Ku(e){return wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ma(e){if(To(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gv(e)&&e.host||Vr(e);return gv(t)?t.host:t}function x_(e){const t=ma(e);return vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Br(t)&&pc(t)?t:x_(t)}function zl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=x_(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=As(a);if(i){const c=Bp(o);return t.concat(o,o.visualViewport||[],pc(a)?a:[],c&&r?zl(c):[])}return t.concat(a,zl(a,[],r))}function Bp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function y_(e){const t=_r(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Br(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,c=eu(r)!==i||eu(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function qg(e){return wr(e)?e:e.contextElement}function Ji(e){const t=qg(e);if(!Br(t))return qr(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=y_(t);let o=(i?eu(r.width):r.width)/n,c=(i?eu(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const N4=qr(0);function v_(e){const t=As(e);return!$g()||!t.visualViewport?N4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function S4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function si(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=qg(e);let o=qr(1);t&&(n?wr(n)&&(o=Ji(n)):o=Ji(e));const c=S4(i,r,n)?v_(i):qr(0);let l=(a.left+c.x)/o.x,d=(a.top+c.y)/o.y,u=a.width/o.x,p=a.height/o.y;if(i){const m=As(i),h=n&&wr(n)?As(n):n;let y=m,x=Bp(y);for(;x&&n&&h!==y;){const b=Ji(x),g=x.getBoundingClientRect(),v=_r(x),j=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,w=g.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,d*=b.y,u*=b.x,p*=b.y,l+=j,d+=w,y=As(x),x=Bp(y)}}return su({width:u,height:p,x:l,y:d})}function Ug(e,t){const r=Ku(e).scrollLeft;return t?t.left+r:si(Vr(e)).left+r}function b_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Ug(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function k4(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Vr(n),c=t?Hu(t.floating):!1;if(n===o||c&&i)return r;let l={scrollLeft:0,scrollTop:0},d=qr(1);const u=qr(0),p=Br(n);if((p||!p&&!i)&&((To(n)!=="body"||pc(o))&&(l=Ku(n)),Br(n))){const h=si(n);d=Ji(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const m=o&&!p&&!i?b_(o,l,!0):qr(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-l.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-l.scrollTop*d.y+u.y+m.y}}function C4(e){return Array.from(e.getClientRects())}function E4(e){const t=Vr(e),r=Ku(e),n=e.ownerDocument.body,a=ks(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ks(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ug(e);const c=-r.scrollTop;return _r(n).direction==="rtl"&&(o+=ks(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:c}}function P4(e,t){const r=As(e),n=Vr(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,l=0;if(a){i=a.width,o=a.height;const d=$g();(!d||d&&t==="fixed")&&(c=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:c,y:l}}const T4=new Set(["absolute","fixed"]);function A4(e,t){const r=si(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Br(e)?Ji(e):qr(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,l=a*i.x,d=n*i.y;return{width:o,height:c,x:l,y:d}}function xv(e,t,r){let n;if(t==="viewport")n=P4(e,r);else if(t==="document")n=E4(Vr(e));else if(wr(t))n=A4(t,r);else{const a=v_(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return su(n)}function j_(e,t){const r=ma(e);return r===t||!wr(r)||vo(r)?!1:_r(r).position==="fixed"||j_(r,t)}function R4(e,t){const r=t.get(e);if(r)return r;let n=zl(e,[],!1).filter(c=>wr(c)&&To(c)!=="body"),a=null;const i=_r(e).position==="fixed";let o=i?ma(e):e;for(;wr(o)&&!vo(o);){const c=_r(o),l=Fg(o);!l&&c.position==="fixed"&&(a=null),(i?!l&&!a:!l&&c.position==="static"&&!!a&&T4.has(a.position)||pc(o)&&!l&&j_(e,o))?n=n.filter(u=>u!==o):a=c,o=ma(o)}return t.set(e,n),n}function O4(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Hu(t)?[]:R4(t,this._c):[].concat(r),n],c=o[0],l=o.reduce((d,u)=>{const p=xv(t,u,a);return d.top=ks(p.top,d.top),d.right=ha(p.right,d.right),d.bottom=ha(p.bottom,d.bottom),d.left=ks(p.left,d.left),d},xv(t,c,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function D4(e){const{width:t,height:r}=y_(e);return{width:t,height:r}}function I4(e,t,r){const n=Br(t),a=Vr(t),i=r==="fixed",o=si(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=qr(0);function d(){l.x=Ug(a)}if(n||!n&&!i)if((To(t)!=="body"||pc(a))&&(c=Ku(t)),n){const h=si(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?b_(a,c):qr(0),p=o.left+c.scrollLeft-l.x-u.x,m=o.top+c.scrollTop-l.y-u.y;return{x:p,y:m,width:o.width,height:o.height}}function dm(e){return _r(e).position==="static"}function yv(e,t){if(!Br(e)||_r(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Vr(e)===r&&(r=r.ownerDocument.body),r}function w_(e,t){const r=As(e);if(Hu(e))return r;if(!Br(e)){let a=ma(e);for(;a&&!vo(a);){if(wr(a)&&!dm(a))return a;a=ma(a)}return r}let n=yv(e,t);for(;n&&x4(n)&&dm(n);)n=yv(n,t);return n&&vo(n)&&dm(n)&&!Fg(n)?r:n||w4(e)||r}const L4=async function(e){const t=this.getOffsetParent||w_,r=this.getDimensions,n=await r(e.floating);return{reference:I4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function M4(e){return _r(e).direction==="rtl"}const F4={convertOffsetParentRelativeRectToViewportRelativeRect:k4,getDocumentElement:Vr,getClippingRect:O4,getOffsetParent:w_,getElementRects:L4,getClientRects:C4,getDimensions:D4,getScale:Ji,isElement:wr,isRTL:M4};function __(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $4(e,t){let r=null,n;const a=Vr(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:u,top:p,width:m,height:h}=d;if(c||t(),!m||!h)return;const y=Hc(p),x=Hc(a.clientWidth-(u+m)),b=Hc(a.clientHeight-(p+h)),g=Hc(u),j={rootMargin:-y+"px "+-x+"px "+-b+"px "+-g+"px",threshold:ks(0,ha(1,l))||1};let w=!0;function N(k){const _=k[0].intersectionRatio;if(_!==l){if(!w)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!__(d,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,j)}r.observe(e)}return o(!0),i}function q4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=qg(e),u=a||i?[...d?zl(d):[],...zl(t)]:[];u.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const p=d&&c?$4(d,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(t)})),r()}),d&&!l&&h.observe(d),h.observe(t));let y,x=l?si(e):null;l&&b();function b(){const g=si(e);x&&!__(x,g)&&r(),x=g,y=requestAnimationFrame(b)}return r(),()=>{var g;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),p==null||p(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(y)}}const U4=u4,z4=h4,B4=l4,V4=p4,W4=c4,vv=o4,H4=m4,K4=(e,t,r)=>{const n=new Map,a={platform:F4,...r},i={...a.platform,_c:n};return i4(e,t,{...a,platform:i})};var G4=typeof document<"u",Y4=function(){},wd=G4?f.useLayoutEffect:Y4;function ru(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ru(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!ru(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function N_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bv(e,t){const r=N_(e);return Math.round(t*r)/r}function um(e){const t=f.useRef(e);return wd(()=>{t.current=e}),t}function J4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[u,p]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=f.useState(n);ru(m,n)||h(n);const[y,x]=f.useState(null),[b,g]=f.useState(null),v=f.useCallback(O=>{O!==k.current&&(k.current=O,x(O))},[]),j=f.useCallback(O=>{O!==_.current&&(_.current=O,g(O))},[]),w=i||y,N=o||b,k=f.useRef(null),_=f.useRef(null),C=f.useRef(u),A=l!=null,E=um(l),S=um(a),T=um(d),R=f.useCallback(()=>{if(!k.current||!_.current)return;const O={placement:t,strategy:r,middleware:m};S.current&&(O.platform=S.current),K4(k.current,_.current,O).then($=>{const H={...$,isPositioned:T.current!==!1};I.current&&!ru(C.current,H)&&(C.current=H,yn.flushSync(()=>{p(H)}))})},[m,t,r,S,T]);wd(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[d]);const I=f.useRef(!1);wd(()=>(I.current=!0,()=>{I.current=!1}),[]),wd(()=>{if(w&&(k.current=w),N&&(_.current=N),w&&N){if(E.current)return E.current(w,N,R);R()}},[w,N,R,E,A]);const z=f.useMemo(()=>({reference:k,floating:_,setReference:v,setFloating:j}),[v,j]),U=f.useMemo(()=>({reference:w,floating:N}),[w,N]),F=f.useMemo(()=>{const O={position:r,left:0,top:0};if(!U.floating)return O;const $=bv(U.floating,u.x),H=bv(U.floating,u.y);return c?{...O,transform:"translate("+$+"px, "+H+"px)",...N_(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:H}},[r,c,U.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:R,refs:z,elements:U,floatingStyles:F}),[u,R,z,U,F])}const Q4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?vv({element:n.current,padding:a}).fn(r):{}:n?vv({element:n,padding:a}).fn(r):{}}}},X4=(e,t)=>({...U4(e),options:[e,t]}),Z4=(e,t)=>({...z4(e),options:[e,t]}),eR=(e,t)=>({...H4(e),options:[e,t]}),tR=(e,t)=>({...B4(e),options:[e,t]}),sR=(e,t)=>({...V4(e),options:[e,t]}),rR=(e,t)=>({...W4(e),options:[e,t]}),nR=(e,t)=>({...Q4(e),options:[e,t]});var aR="Arrow",S_=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(he.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});S_.displayName=aR;var iR=S_;function Gu(e){const[t,r]=f.useState(void 0);return Dt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,c=d.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var zg="Popper",[k_,Yu]=cs(zg),[oR,C_]=k_(zg),E_=e=>{const{__scopePopper:t,children:r}=e,[n,a]=f.useState(null);return s.jsx(oR,{scope:t,anchor:n,onAnchorChange:a,children:r})};E_.displayName=zg;var P_="PopperAnchor",T_=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=C_(P_,r),o=f.useRef(null),c=Re(t,o);return f.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(he.div,{...a,ref:c})});T_.displayName=P_;var Bg="PopperContent",[lR,cR]=k_(Bg),A_=f.forwardRef((e,t)=>{var ee,q,de,ie,se,G;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:y,...x}=e,b=C_(Bg,r),[g,v]=f.useState(null),j=Re(t,be=>v(be)),[w,N]=f.useState(null),k=Gu(w),_=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,A=n+(i!=="center"?"-"+i:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},S=Array.isArray(d)?d:[d],T=S.length>0,R={padding:E,boundary:S.filter(uR),altBoundary:T},{refs:I,floatingStyles:z,placement:U,isPositioned:F,middlewareData:O}=J4({strategy:"fixed",placement:A,whileElementsMounted:(...be)=>q4(...be,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[X4({mainAxis:a+C,alignmentAxis:o}),l&&Z4({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?eR():void 0,...R}),l&&tR({...R}),sR({...R,apply:({elements:be,rects:Ie,availableWidth:Ge,availableHeight:ot})=>{const{width:pt,height:Lt}=Ie.reference,Be=be.floating.style;Be.setProperty("--radix-popper-available-width",`${Ge}px`),Be.setProperty("--radix-popper-available-height",`${ot}px`),Be.setProperty("--radix-popper-anchor-width",`${pt}px`),Be.setProperty("--radix-popper-anchor-height",`${Lt}px`)}}),w&&nR({element:w,padding:c}),hR({arrowWidth:_,arrowHeight:C}),m&&rR({strategy:"referenceHidden",...R})]}),[$,H]=D_(U),ne=Rt(y);Dt(()=>{F&&(ne==null||ne())},[F,ne]);const ae=(ee=O.arrow)==null?void 0:ee.x,pe=(q=O.arrow)==null?void 0:q.y,me=((de=O.arrow)==null?void 0:de.centerOffset)!==0,[Oe,Fe]=f.useState();return Dt(()=>{g&&Fe(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:F?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(ie=O.transformOrigin)==null?void 0:ie.x,(se=O.transformOrigin)==null?void 0:se.y].join(" "),...((G=O.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(lR,{scope:r,placedSide:$,onArrowChange:N,arrowX:ae,arrowY:pe,shouldHideArrow:me,children:s.jsx(he.div,{"data-side":$,"data-align":H,...x,ref:j,style:{...x.style,animation:F?void 0:"none"}})})})});A_.displayName=Bg;var R_="PopperArrow",dR={top:"bottom",right:"left",bottom:"top",left:"right"},O_=f.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=cR(R_,n),o=dR[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(iR,{...a,ref:r,style:{...a.style,display:"block"}})})});O_.displayName=R_;function uR(e){return e!==null}var hR=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:r,rects:n,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[d,u]=D_(r),p={start:"0%",center:"50%",end:"100%"}[u],m=(((g=a.arrow)==null?void 0:g.x)??0)+c/2,h=(((v=a.arrow)==null?void 0:v.y)??0)+l/2;let y="",x="";return d==="bottom"?(y=o?p:`${m}px`,x=`${-l}px`):d==="top"?(y=o?p:`${m}px`,x=`${n.floating.height+l}px`):d==="right"?(y=`${-l}px`,x=o?p:`${h}px`):d==="left"&&(y=`${n.floating.width+l}px`,x=o?p:`${h}px`),{data:{x:y,y:x}}}});function D_(e){const[t,r="center"]=e.split("-");return[t,r]}var I_=E_,L_=T_,M_=A_,F_=O_,[Ju,$q]=cs("Tooltip",[Yu]),Qu=Yu(),$_="TooltipProvider",mR=700,Vp="tooltip.open",[pR,Vg]=Ju($_),q_=e=>{const{__scopeTooltip:t,delayDuration:r=mR,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=f.useRef(!0),c=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),s.jsx(pR,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};q_.displayName=$_;var Bl="Tooltip",[fR,Xu]=Ju(Bl),U_=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=e,l=Vg(Bl,e.__scopeTooltip),d=Qu(t),[u,p]=f.useState(null),m=yr(),h=f.useRef(0),y=o??l.disableHoverableContent,x=c??l.delayDuration,b=f.useRef(!1),[g,v]=Os({prop:n,defaultProp:a??!1,onChange:_=>{_?(l.onOpen(),document.dispatchEvent(new CustomEvent(Vp))):l.onClose(),i==null||i(_)},caller:Bl}),j=f.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),w=f.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b.current=!1,v(!0)},[v]),N=f.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),k=f.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{b.current=!0,v(!0),h.current=0},x)},[x,v]);return f.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(I_,{...d,children:s.jsx(fR,{scope:t,contentId:m,open:g,stateAttribute:j,trigger:u,onTriggerChange:p,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?k():w()},[l.isOpenDelayedRef,k,w]),onTriggerLeave:f.useCallback(()=>{y?N():(window.clearTimeout(h.current),h.current=0)},[N,y]),onOpen:w,onClose:N,disableHoverableContent:y,children:r})})};U_.displayName=Bl;var Wp="TooltipTrigger",z_=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Xu(Wp,r),i=Vg(Wp,r),o=Qu(r),c=f.useRef(null),l=Re(t,c,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),p=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(L_,{asChild:!0,...o,children:s.jsx(he.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:le(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:le(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:le(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:le(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:le(e.onBlur,a.onClose),onClick:le(e.onClick,a.onClose)})})});z_.displayName=Wp;var gR="TooltipPortal",[qq,xR]=Ju(gR,{forceMount:void 0}),bo="TooltipContent",B_=f.forwardRef((e,t)=>{const r=xR(bo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Xu(bo,e.__scopeTooltip);return s.jsx(Ns,{present:n||o.open,children:o.disableHoverableContent?s.jsx(V_,{side:a,...i,ref:t}):s.jsx(yR,{side:a,...i,ref:t})})}),yR=f.forwardRef((e,t)=>{const r=Xu(bo,e.__scopeTooltip),n=Vg(bo,e.__scopeTooltip),a=f.useRef(null),i=Re(t,a),[o,c]=f.useState(null),{trigger:l,onClose:d}=r,u=a.current,{onPointerInTransitChange:p}=n,m=f.useCallback(()=>{c(null),p(!1)},[p]),h=f.useCallback((y,x)=>{const b=y.currentTarget,g={x:y.clientX,y:y.clientY},v=_R(g,b.getBoundingClientRect()),j=NR(g,v),w=SR(x.getBoundingClientRect()),N=CR([...j,...w]);c(N),p(!0)},[p]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(l&&u){const y=b=>h(b,u),x=b=>h(b,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",x)}}},[l,u,h,m]),f.useEffect(()=>{if(o){const y=x=>{const b=x.target,g={x:x.clientX,y:x.clientY},v=(l==null?void 0:l.contains(b))||(u==null?void 0:u.contains(b)),j=!kR(g,o);v?m():j&&(m(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,d,m]),s.jsx(V_,{...e,ref:i})}),[vR,bR]=Ju(Bl,{isInside:!1}),jR=bP("TooltipContent"),V_=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=e,l=Xu(bo,r),d=Qu(r),{onClose:u}=l;return f.useEffect(()=>(document.addEventListener(Vp,u),()=>document.removeEventListener(Vp,u)),[u]),f.useEffect(()=>{if(l.trigger){const p=m=>{const h=m.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,u]),s.jsx(hc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:u,children:s.jsxs(M_,{"data-state":l.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(jR,{children:n}),s.jsx(vR,{scope:r,isInside:!0,children:s.jsx(Cw,{id:l.contentId,role:"tooltip",children:a||n})})]})})});B_.displayName=bo;var W_="TooltipArrow",wR=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Qu(r);return bR(W_,r).isInside?null:s.jsx(F_,{...a,...n,ref:t})});wR.displayName=W_;function _R(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function NR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function SR(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function kR(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],l=t[o],d=c.x,u=c.y,p=l.x,m=l.y;u>n!=m>n&&r<(p-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function CR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ER(t)}function ER(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var PR=q_,TR=U_,AR=z_,H_=B_;const K_=PR,RR=TR,OR=AR,G_=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(H_,{ref:n,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));G_.displayName=H_.displayName;var Zu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eh=typeof window>"u"||"Deno"in globalThis;function dr(){}function DR(e,t){return typeof e=="function"?e(t):e}function IR(e){return typeof e=="number"&&e>=0&&e!==1/0}function LR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hp(e,t){return typeof e=="function"?e(t):e}function MR(e,t){return typeof e=="function"?e(t):e}function jv(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:c}=e;if(o){if(n){if(t.queryHash!==Wg(o,t.options))return!1}else if(!Wl(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function wv(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Vl(t.options.mutationKey)!==Vl(i))return!1}else if(!Wl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Wg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vl)(e)}function Vl(e){return JSON.stringify(e,(t,r)=>Kp(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Wl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Wl(e[r],t[r])):!1}function Y_(e,t){if(e===t)return e;const r=_v(e)&&_v(t);if(r||Kp(e)&&Kp(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,c=r?[]:{},l=new Set(n);let d=0;for(let u=0;u<o;u++){const p=r?u:i[u];(!r&&l.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(c[p]=void 0,d++):(c[p]=Y_(e[p],t[p]),c[p]===e[p]&&e[p]!==void 0&&d++)}return a===o&&d===a?e:c}return t}function _v(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kp(e){if(!Nv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Nv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Nv(e){return Object.prototype.toString.call(e)==="[object Object]"}function FR(e){return new Promise(t=>{setTimeout(t,e)})}function $R(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y_(e,t):t}function qR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function UR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Hg=Symbol();function J_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Hg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $a,qn,Zi,Qb,zR=(Qb=class extends Zu{constructor(){super();Ue(this,$a);Ue(this,qn);Ue(this,Zi);Te(this,Zi,t=>{if(!eh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,qn)||this.setEventListener(W(this,Zi))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,qn))==null||t.call(this),Te(this,qn,void 0))}setEventListener(t){var r;Te(this,Zi,t),(r=W(this,qn))==null||r.call(this),Te(this,qn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,$a)!==t&&(Te(this,$a,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,$a)=="boolean"?W(this,$a):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$a=new WeakMap,qn=new WeakMap,Zi=new WeakMap,Qb),Q_=new zR,eo,Un,to,Xb,BR=(Xb=class extends Zu{constructor(){super();Ue(this,eo,!0);Ue(this,Un);Ue(this,to);Te(this,to,t=>{if(!eh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,Un)||this.setEventListener(W(this,to))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Un))==null||t.call(this),Te(this,Un,void 0))}setEventListener(t){var r;Te(this,to,t),(r=W(this,Un))==null||r.call(this),Te(this,Un,t(this.setOnline.bind(this)))}setOnline(t){W(this,eo)!==t&&(Te(this,eo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,eo)}},eo=new WeakMap,Un=new WeakMap,to=new WeakMap,Xb),nu=new BR;function VR(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function WR(e){return Math.min(1e3*2**e,3e4)}function X_(e){return(e??"online")==="online"?nu.isOnline():!0}var Z_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hm(e){return e instanceof Z_}function eN(e){let t=!1,r=0,n=!1,a;const i=VR(),o=x=>{var b;n||(m(new Z_(x)),(b=e.abort)==null||b.call(e))},c=()=>{t=!0},l=()=>{t=!1},d=()=>Q_.isFocused()&&(e.networkMode==="always"||nu.isOnline())&&e.canRun(),u=()=>X_(e.networkMode)&&e.canRun(),p=x=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,x),a==null||a(),i.resolve(x))},m=x=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,x),a==null||a(),i.reject(x))},h=()=>new Promise(x=>{var b;a=g=>{(n||d())&&x(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;a=void 0,n||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(n)return;let x;const b=r===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(p).catch(g=>{var k;if(n)return;const v=e.retry??(eh?0:3),j=e.retryDelay??WR,w=typeof j=="function"?j(r,g):j,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(t||!N){m(g);return}r++,(k=e.onFail)==null||k.call(e,r,g),FR(w).then(()=>d()?void 0:h()).then(()=>{t?m(g):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:c,continueRetry:l,canStart:u,start:()=>(u()?y():h().then(y),i)}}var HR=e=>setTimeout(e,0);function KR(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=HR;const i=c=>{t?e.push(c):a(()=>{r(c)})},o=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||o()}return l},batchCalls:c=>(...l)=>{i(()=>{c(...l)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var ss=KR(),qa,Zb,tN=(Zb=class{constructor(){Ue(this,qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IR(this.gcTime)&&Te(this,qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(eh?1/0:5*60*1e3))}clearGcTimeout(){W(this,qa)&&(clearTimeout(W(this,qa)),Te(this,qa,void 0))}},qa=new WeakMap,Zb),so,Ua,qs,za,Yt,ac,Ba,hr,Gr,e0,GR=(e0=class extends tN{constructor(t){super();Ue(this,hr);Ue(this,so);Ue(this,Ua);Ue(this,qs);Ue(this,za);Ue(this,Yt);Ue(this,ac);Ue(this,Ba);Te(this,Ba,!1),Te(this,ac,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,za,t.client),Te(this,qs,W(this,za).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,so,JR(this.options)),this.state=t.state??W(this,so),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,Yt))==null?void 0:t.promise}setOptions(t){this.options={...W(this,ac),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,qs).remove(this)}setData(t,r){const n=$R(this.state.data,t,this.options);return Ht(this,hr,Gr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ht(this,hr,Gr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=W(this,Yt))==null?void 0:n.promise;return(a=W(this,Yt))==null||a.cancel(t),r?r.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,so))}isActive(){return this.observers.some(t=>MR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!LR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Yt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Yt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,qs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,Yt)&&(W(this,Ba)?W(this,Yt).cancel({revert:!0}):W(this,Yt).cancelRetry()),this.scheduleGc()),W(this,qs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,hr,Gr).call(this,{type:"invalidate"})}fetch(t,r){var d,u,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Yt))return W(this,Yt).continueRetry(),W(this,Yt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Te(this,Ba,!0),n.signal)})},i=()=>{const m=J_(this.options,r),y=(()=>{const x={client:W(this,za),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return Te(this,Ba,!1),this.options.persister?this.options.persister(m,y,this):m(y)},c=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,za),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),Te(this,Ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=c.fetchOptions)==null?void 0:u.meta))&&Ht(this,hr,Gr).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const l=m=>{var h,y,x,b;hm(m)&&m.silent||Ht(this,hr,Gr).call(this,{type:"error",error:m}),hm(m)||((y=(h=W(this,qs).config).onError)==null||y.call(h,m,this),(b=(x=W(this,qs).config).onSettled)==null||b.call(x,this.state.data,m,this)),this.scheduleGc()};return Te(this,Yt,eN({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var h,y,x,b;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(g){l(g);return}(y=(h=W(this,qs).config).onSuccess)==null||y.call(h,m,this),(b=(x=W(this,qs).config).onSettled)==null||b.call(x,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,h)=>{Ht(this,hr,Gr).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Ht(this,hr,Gr).call(this,{type:"pause"})},onContinue:()=>{Ht(this,hr,Gr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),W(this,Yt).start()}},so=new WeakMap,Ua=new WeakMap,qs=new WeakMap,za=new WeakMap,Yt=new WeakMap,ac=new WeakMap,Ba=new WeakMap,hr=new WeakSet,Gr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...YR(n.data,this.options),fetchMeta:t.meta??null};case"success":return Te(this,Ua,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return hm(a)&&a.revert&&W(this,Ua)?{...W(this,Ua),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ss.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,qs).notify({query:this,type:"updated",action:t})})},e0);function YR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function JR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,t0,QR=(t0=class extends Zu{constructor(t={}){super();Ue(this,Ar);this.config=t,Te(this,Ar,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Wg(a,r);let o=this.get(i);return o||(o=new GR({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){W(this,Ar).has(t.queryHash)||(W(this,Ar).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,Ar).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,Ar).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ss.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Ar).get(t)}getAll(){return[...W(this,Ar).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>jv(t,n)):r}notify(t){ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ss.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ss.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ar=new WeakMap,t0),Rr,es,Va,Or,Rn,s0,XR=(s0=class extends tN{constructor(t){super();Ue(this,Or);Ue(this,Rr);Ue(this,es);Ue(this,Va);this.mutationId=t.mutationId,Te(this,es,t.mutationCache),Te(this,Rr,[]),this.state=t.state||ZR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Rr).includes(t)||(W(this,Rr).push(t),this.clearGcTimeout(),W(this,es).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Rr,W(this,Rr).filter(r=>r!==t)),this.scheduleGc(),W(this,es).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Rr).length||(this.state.status==="pending"?this.scheduleGc():W(this,es).remove(this))}continue(){var t;return((t=W(this,Va))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,c,l,d,u,p,m,h,y,x,b,g,v,j,w,N,k,_,C;const r=()=>{Ht(this,Or,Rn).call(this,{type:"continue"})};Te(this,Va,eN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{Ht(this,Or,Rn).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Ht(this,Or,Rn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,es).canRun(this)}));const n=this.state.status==="pending",a=!W(this,Va).canStart();try{if(n)r();else{Ht(this,Or,Rn).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=W(this,es).config).onMutate)==null?void 0:o.call(i,t,this));const E=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,t));E!==this.state.context&&Ht(this,Or,Rn).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const A=await W(this,Va).start();return await((u=(d=W(this,es).config).onSuccess)==null?void 0:u.call(d,A,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,A,t,this.state.context)),await((y=(h=W(this,es).config).onSettled)==null?void 0:y.call(h,A,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,A,null,t,this.state.context)),Ht(this,Or,Rn).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(g=W(this,es).config).onError)==null?void 0:v.call(g,A,t,this.state.context,this)),await((w=(j=this.options).onError)==null?void 0:w.call(j,A,t,this.state.context)),await((k=(N=W(this,es).config).onSettled)==null?void 0:k.call(N,void 0,A,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,A,t,this.state.context)),A}finally{Ht(this,Or,Rn).call(this,{type:"error",error:A})}}finally{W(this,es).runNext(this)}}},Rr=new WeakMap,es=new WeakMap,Va=new WeakMap,Or=new WeakSet,Rn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ss.batch(()=>{W(this,Rr).forEach(n=>{n.onMutationUpdate(t)}),W(this,es).notify({mutation:this,type:"updated",action:t})})},s0);function ZR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zr,mr,ic,r0,e3=(r0=class extends Zu{constructor(t={}){super();Ue(this,Zr);Ue(this,mr);Ue(this,ic);this.config=t,Te(this,Zr,new Set),Te(this,mr,new Map),Te(this,ic,0)}build(t,r,n){const a=new XR({mutationCache:this,mutationId:++Sc(this,ic)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){W(this,Zr).add(t);const r=Kc(t);if(typeof r=="string"){const n=W(this,mr).get(r);n?n.push(t):W(this,mr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,Zr).delete(t)){const r=Kc(t);if(typeof r=="string"){const n=W(this,mr).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&W(this,mr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kc(t);if(typeof r=="string"){const n=W(this,mr).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Kc(t);if(typeof r=="string"){const a=(n=W(this,mr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ss.batch(()=>{W(this,Zr).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,Zr).clear(),W(this,mr).clear()})}getAll(){return Array.from(W(this,Zr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wv(r,n))}findAll(t={}){return this.getAll().filter(r=>wv(t,r))}notify(t){ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ss.batch(()=>Promise.all(t.map(r=>r.continue().catch(dr))))}},Zr=new WeakMap,mr=new WeakMap,ic=new WeakMap,r0);function Kc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Sv(e){return{onFetch:(t,r)=>{var u,p,m,h,y;const n=t.options,a=(m=(p=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const d=async()=>{let x=!1;const b=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},g=J_(t.options,t.fetchOptions),v=async(j,w,N)=>{if(x)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const _=(()=>{const S={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return b(S),S})(),C=await g(_),{maxPages:A}=t.options,E=N?UR:qR;return{pages:E(j.pages,C,A),pageParams:E(j.pageParams,w,A)}};if(a&&i.length){const j=a==="backward",w=j?t3:kv,N={pages:i,pageParams:o},k=w(n,N);c=await v(N,k,j)}else{const j=e??i.length;do{const w=l===0?o[0]??n.initialPageParam:kv(n,c);if(l>0&&w==null)break;c=await v(c,w),l++}while(l<j)}return c};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function kv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function t3(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ft,zn,Bn,ro,no,Vn,ao,io,n0,s3=(n0=class{constructor(e={}){Ue(this,ft);Ue(this,zn);Ue(this,Bn);Ue(this,ro);Ue(this,no);Ue(this,Vn);Ue(this,ao);Ue(this,io);Te(this,ft,e.queryCache||new QR),Te(this,zn,e.mutationCache||new e3),Te(this,Bn,e.defaultOptions||{}),Te(this,ro,new Map),Te(this,no,new Map),Te(this,Vn,0)}mount(){Sc(this,Vn)._++,W(this,Vn)===1&&(Te(this,ao,Q_.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,ft).onFocus())})),Te(this,io,nu.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,ft).onOnline())})))}unmount(){var e,t;Sc(this,Vn)._--,W(this,Vn)===0&&((e=W(this,ao))==null||e.call(this),Te(this,ao,void 0),(t=W(this,io))==null||t.call(this),Te(this,io,void 0))}isFetching(e){return W(this,ft).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,ft).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=W(this,ft).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Hp(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return W(this,ft).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=W(this,ft).get(n.queryHash),i=a==null?void 0:a.state.data,o=DR(t,i);if(o!==void 0)return W(this,ft).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ss.batch(()=>W(this,ft).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,ft).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,ft);ss.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,ft);return ss.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ss.batch(()=>W(this,ft).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(dr).catch(dr)}invalidateQueries(e,t={}){return ss.batch(()=>(W(this,ft).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ss.batch(()=>W(this,ft).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(dr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,ft).build(this,t);return r.isStaleByTime(Hp(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dr).catch(dr)}fetchInfiniteQuery(e){return e.behavior=Sv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dr).catch(dr)}ensureInfiniteQueryData(e){return e.behavior=Sv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nu.isOnline()?W(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,ft)}getMutationCache(){return W(this,zn)}getDefaultOptions(){return W(this,Bn)}setDefaultOptions(e){Te(this,Bn,e)}setQueryDefaults(e,t){W(this,ro).set(Vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,ro).values()],r={};return t.forEach(n=>{Wl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){W(this,no).set(Vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,no).values()],r={};return t.forEach(n=>{Wl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Bn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Bn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,ft).clear(),W(this,zn).clear()}},ft=new WeakMap,zn=new WeakMap,Bn=new WeakMap,ro=new WeakMap,no=new WeakMap,Vn=new WeakMap,ao=new WeakMap,io=new WeakMap,n0),r3=f.createContext(void 0),n3=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(r3.Provider,{value:e,children:t})),mm="focusScope.autoFocusOnMount",pm="focusScope.autoFocusOnUnmount",Cv={bubbles:!1,cancelable:!0},a3="FocusScope",Kg=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[c,l]=f.useState(null),d=Rt(a),u=Rt(i),p=f.useRef(null),m=Re(t,x=>l(x)),h=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let x=function(j){if(h.paused||!c)return;const w=j.target;c.contains(w)?p.current=w:On(p.current,{select:!0})},b=function(j){if(h.paused||!c)return;const w=j.relatedTarget;w!==null&&(c.contains(w)||On(p.current,{select:!0}))},g=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&On(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(g);return c&&v.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[n,c,h.paused]),f.useEffect(()=>{if(c){Pv.add(h);const x=document.activeElement;if(!c.contains(x)){const g=new CustomEvent(mm,Cv);c.addEventListener(mm,d),c.dispatchEvent(g),g.defaultPrevented||(i3(u3(sN(c)),{select:!0}),document.activeElement===x&&On(c))}return()=>{c.removeEventListener(mm,d),setTimeout(()=>{const g=new CustomEvent(pm,Cv);c.addEventListener(pm,u),c.dispatchEvent(g),g.defaultPrevented||On(x??document.body,{select:!0}),c.removeEventListener(pm,u),Pv.remove(h)},0)}}},[c,d,u,h]);const y=f.useCallback(x=>{if(!r&&!n||h.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(b&&g){const v=x.currentTarget,[j,w]=o3(v);j&&w?!x.shiftKey&&g===w?(x.preventDefault(),r&&On(j,{select:!0})):x.shiftKey&&g===j&&(x.preventDefault(),r&&On(w,{select:!0})):g===v&&x.preventDefault()}},[r,n,h.paused]);return s.jsx(he.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});Kg.displayName=a3;function i3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(On(n,{select:t}),document.activeElement!==r)return}function o3(e){const t=sN(e),r=Ev(t,e),n=Ev(t.reverse(),e);return[r,n]}function sN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ev(e,t){for(const r of e)if(!l3(r,{upTo:t}))return r}function l3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function c3(e){return e instanceof HTMLInputElement&&"select"in e}function On(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&c3(e)&&t&&e.select()}}var Pv=d3();function d3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Tv(e,t),e.unshift(t)},remove(t){var r;e=Tv(e,t),(r=e[0])==null||r.resume()}}}function Tv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function u3(e){return e.filter(t=>t.tagName!=="A")}var fm=0;function rN(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Av()),document.body.insertAdjacentElement("beforeend",e[1]??Av()),fm++,()=>{fm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fm--}},[])}function Av(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gp=function(e,t){return Gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Gp(e,t)};function nN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Vs=function(){return Vs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Vs.apply(this,arguments)};function va(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function aN(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function iN(e,t){return function(r,n){t(r,n,e)}}function oN(e,t,r,n,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,m=!1,h=r.length-1;h>=0;h--){var y={};for(var x in n)y[x]=x==="access"?{}:n[x];for(var x in n.access)y.access[x]=n.access[x];y.addInitializer=function(g){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var b=(0,r[h])(c==="accessor"?{get:u.get,set:u.set}:u[l],y);if(c==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(p=o(b.get))&&(u.get=p),(p=o(b.set))&&(u.set=p),(p=o(b.init))&&a.unshift(p)}else(p=o(b))&&(c==="field"?a.unshift(p):u[l]=p)}d&&Object.defineProperty(d,n.name,u),m=!0}function lN(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function cN(e){return typeof e=="symbol"?e:"".concat(e)}function dN(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function uN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ue(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{d(n.next(u))}catch(p){o(p)}}function l(u){try{d(n.throw(u))}catch(p){o(p)}}function d(u){u.done?i(u.value):a(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})}function hN(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(u){return l([d,u])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var th=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function mN(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&th(t,e,r)}function au(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gg(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function pN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gg(arguments[t]));return e}function fN(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,a++)n[a]=i[o];return n}function Yg(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function jo(e){return this instanceof jo?(this.v=e,this):new jo(e)}function gN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(h){return function(y){return Promise.resolve(y).then(h,p)}}function c(h,y){n[h]&&(a[h]=function(x){return new Promise(function(b,g){i.push([h,x,b,g])>1||l(h,x)})},y&&(a[h]=y(a[h])))}function l(h,y){try{d(n[h](y))}catch(x){m(i[0][3],x)}}function d(h){h.value instanceof jo?Promise.resolve(h.value.v).then(u,p):m(i[0][2],h)}function u(h){l("next",h)}function p(h){l("throw",h)}function m(h,y){h(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function xN(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:jo(e[a](o)),done:!1}:i?i(o):o}:i}}function yN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof au=="function"?au(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(c,l){o=e[i](o),a(c,l,o.done,o.value)})}}function a(i,o,c,l){Promise.resolve(l).then(function(d){i({value:d,done:c})},o)}}function vN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var h3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Yp=function(e){return Yp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Yp(e)};function bN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Yp(e),n=0;n<r.length;n++)r[n]!=="default"&&th(t,e,r[n]);return h3(t,e),t}function jN(e){return e&&e.__esModule?e:{default:e}}function wN(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function _N(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function NN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function SN(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var m3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function kN(e){function t(i){e.error=e.hasError?new m3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function CN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const p3={__extends:nN,__assign:Vs,__rest:va,__decorate:aN,__param:iN,__esDecorate:oN,__runInitializers:lN,__propKey:cN,__setFunctionName:dN,__metadata:uN,__awaiter:ue,__generator:hN,__createBinding:th,__exportStar:mN,__values:au,__read:Gg,__spread:pN,__spreadArrays:fN,__spreadArray:Yg,__await:jo,__asyncGenerator:gN,__asyncDelegator:xN,__asyncValues:yN,__makeTemplateObject:vN,__importStar:bN,__importDefault:jN,__classPrivateFieldGet:wN,__classPrivateFieldSet:_N,__classPrivateFieldIn:NN,__addDisposableResource:SN,__disposeResources:kN,__rewriteRelativeImportExtension:CN},f3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:SN,get __assign(){return Vs},__asyncDelegator:xN,__asyncGenerator:gN,__asyncValues:yN,__await:jo,__awaiter:ue,__classPrivateFieldGet:wN,__classPrivateFieldIn:NN,__classPrivateFieldSet:_N,__createBinding:th,__decorate:aN,__disposeResources:kN,__esDecorate:oN,__exportStar:mN,__extends:nN,__generator:hN,__importDefault:jN,__importStar:bN,__makeTemplateObject:vN,__metadata:uN,__param:iN,__propKey:cN,__read:Gg,__rest:va,__rewriteRelativeImportExtension:CN,__runInitializers:lN,__setFunctionName:dN,__spread:pN,__spreadArray:Yg,__spreadArrays:fN,__values:au,default:p3},Symbol.toStringTag,{value:"Module"}));var _d="right-scroll-bar-position",Nd="width-before-scroll-bar",g3="with-scroll-bars-hidden",x3="--removed-body-scroll-bar-size";function gm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function y3(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var v3=typeof window<"u"?f.useLayoutEffect:f.useEffect,Rv=new WeakMap;function b3(e,t){var r=y3(null,function(n){return e.forEach(function(a){return gm(a,n)})});return v3(function(){var n=Rv.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(c){i.has(c)||gm(c,null)}),i.forEach(function(c){a.has(c)||gm(c,o)})}Rv.set(r,e)},[e]),r}function j3(e){return e}function w3(e,t){t===void 0&&(t=j3);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var l=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function _3(e){e===void 0&&(e={});var t=w3(null);return t.options=Vs({async:!0,ssr:!1},e),t}var EN=function(e){var t=e.sideCar,r=va(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Vs({},r))};EN.isSideCarExport=!0;function N3(e,t){return e.useMedium(t),EN}var PN=_3(),xm=function(){},sh=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:xm,onWheelCapture:xm,onTouchMoveCapture:xm}),a=n[0],i=n[1],o=e.forwardProps,c=e.children,l=e.className,d=e.removeScrollBar,u=e.enabled,p=e.shards,m=e.sideCar,h=e.noRelative,y=e.noIsolation,x=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,j=e.gapMode,w=va(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,k=b3([r,t]),_=Vs(Vs({},w),a);return f.createElement(f.Fragment,null,u&&f.createElement(N,{sideCar:PN,removeScrollBar:d,shards:p,noRelative:h,noIsolation:y,inert:x,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:j}),o?f.cloneElement(f.Children.only(c),Vs(Vs({},_),{ref:k})):f.createElement(v,Vs({},_,{className:l,ref:k}),c))});sh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sh.classNames={fullWidth:Nd,zeroRight:_d};var S3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=S3();return t&&e.setAttribute("nonce",t),e}function C3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function E3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var P3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=k3())&&(C3(t,r),E3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},T3=function(){var e=P3();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},TN=function(){var e=T3(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},A3={left:0,top:0,right:0,gap:0},ym=function(e){return parseInt(e||"",10)||0},R3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ym(r),ym(n),ym(a)]},O3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return A3;var t=R3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},D3=TN(),Qi="data-scroll-locked",I3=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(g3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Qi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_d,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Nd,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qi,`] {
    `).concat(x3,": ").concat(c,`px;
  }
`)},Ov=function(){var e=parseInt(document.body.getAttribute(Qi)||"0",10);return isFinite(e)?e:0},L3=function(){f.useEffect(function(){return document.body.setAttribute(Qi,(Ov()+1).toString()),function(){var e=Ov()-1;e<=0?document.body.removeAttribute(Qi):document.body.setAttribute(Qi,e.toString())}},[])},M3=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;L3();var i=f.useMemo(function(){return O3(a)},[a]);return f.createElement(D3,{styles:I3(i,!t,a,r?"":"!important")})},Jp=!1;if(typeof window<"u")try{var Gc=Object.defineProperty({},"passive",{get:function(){return Jp=!0,!0}});window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{Jp=!1}var pi=Jp?{passive:!1}:!1,F3=function(e){return e.tagName==="TEXTAREA"},AN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!F3(e)&&r[t]==="visible")},$3=function(e){return AN(e,"overflowY")},q3=function(e){return AN(e,"overflowX")},Dv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=RN(e,n);if(a){var i=ON(e,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},U3=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},z3=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},RN=function(e,t){return e==="v"?$3(t):q3(t)},ON=function(e,t){return e==="v"?U3(t):z3(t)},B3=function(e,t){return e==="h"&&t==="rtl"?-1:1},V3=function(e,t,r,n,a){var i=B3(e,window.getComputedStyle(t).direction),o=i*n,c=r.target,l=t.contains(c),d=!1,u=o>0,p=0,m=0;do{if(!c)break;var h=ON(e,c),y=h[0],x=h[1],b=h[2],g=x-b-i*y;(y||g)&&RN(e,c)&&(p+=g,m+=y);var v=c.parentNode;c=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(u&&(Math.abs(p)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Yc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Iv=function(e){return[e.deltaX,e.deltaY]},Lv=function(e){return e&&"current"in e?e.current:e},W3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},H3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},K3=0,fi=[];function G3(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),a=f.useState(K3++)[0],i=f.useState(TN)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Yg([e.lockRef.current],(e.shards||[]).map(Lv),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=Yc(x),v=r.current,j="deltaX"in x?x.deltaX:v[0]-g[0],w="deltaY"in x?x.deltaY:v[1]-g[1],N,k=x.target,_=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in x&&_==="h"&&k.type==="range")return!1;var C=Dv(_,k);if(!C)return!0;if(C?N=_:(N=_==="v"?"h":"v",C=Dv(_,k)),!C)return!1;if(!n.current&&"changedTouches"in x&&(j||w)&&(n.current=N),!N)return!0;var A=n.current||N;return V3(A,b,x,A==="h"?j:w,!0)},[]),l=f.useCallback(function(x){var b=x;if(!(!fi.length||fi[fi.length-1]!==i)){var g="deltaY"in b?Iv(b):Yc(b),v=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&W3(N.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var j=(o.current.shards||[]).map(Lv).filter(Boolean).filter(function(N){return N.contains(b.target)}),w=j.length>0?c(b,j[0]):!o.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),d=f.useCallback(function(x,b,g,v){var j={name:x,delta:b,target:g,should:v,shadowParent:Y3(g)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),u=f.useCallback(function(x){r.current=Yc(x),n.current=void 0},[]),p=f.useCallback(function(x){d(x.type,Iv(x),x.target,c(x,e.lockRef.current))},[]),m=f.useCallback(function(x){d(x.type,Yc(x),x.target,c(x,e.lockRef.current))},[]);f.useEffect(function(){return fi.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,pi),document.addEventListener("touchmove",l,pi),document.addEventListener("touchstart",u,pi),function(){fi=fi.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,pi),document.removeEventListener("touchmove",l,pi),document.removeEventListener("touchstart",u,pi)}},[]);var h=e.removeScrollBar,y=e.inert;return f.createElement(f.Fragment,null,y?f.createElement(i,{styles:H3(a)}):null,h?f.createElement(M3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Y3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const J3=N3(PN,G3);var Jg=f.forwardRef(function(e,t){return f.createElement(sh,Vs({},e,{ref:t,sideCar:J3}))});Jg.classNames=sh.classNames;var Q3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},gi=new WeakMap,Jc=new WeakMap,Qc={},vm=0,DN=function(e){return e&&(e.host||DN(e.parentNode))},X3=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=DN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Z3=function(e,t,r,n){var a=X3(t,Array.isArray(e)?e:[e]);Qc[r]||(Qc[r]=new WeakMap);var i=Qc[r],o=[],c=new Set,l=new Set(a),d=function(p){!p||c.has(p)||(c.add(p),d(p.parentNode))};a.forEach(d);var u=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))u(m);else try{var h=m.getAttribute(n),y=h!==null&&h!=="false",x=(gi.get(m)||0)+1,b=(i.get(m)||0)+1;gi.set(m,x),i.set(m,b),o.push(m),x===1&&y&&Jc.set(m,!0),b===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return u(t),c.clear(),vm++,function(){o.forEach(function(p){var m=gi.get(p)-1,h=i.get(p)-1;gi.set(p,m),i.set(p,h),m||(Jc.has(p)||p.removeAttribute(n),Jc.delete(p)),h||p.removeAttribute(r)}),vm--,vm||(gi=new WeakMap,gi=new WeakMap,Jc=new WeakMap,Qc={})}},IN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Q3(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Z3(n,a,r,"aria-hidden")):function(){return null}},rh="Dialog",[LN,Uq]=cs(rh),[e5,kr]=LN(rh),MN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=f.useRef(null),l=f.useRef(null),[d,u]=Os({prop:n,defaultProp:a??!1,onChange:i,caller:rh});return s.jsx(e5,{scope:t,triggerRef:c,contentRef:l,contentId:yr(),titleId:yr(),descriptionId:yr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(p=>!p),[u]),modal:o,children:r})};MN.displayName=rh;var FN="DialogTrigger",$N=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(FN,r),i=Re(t,a.triggerRef);return s.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zg(a.open),...n,ref:i,onClick:le(e.onClick,a.onOpenToggle)})});$N.displayName=FN;var Qg="DialogPortal",[t5,qN]=LN(Qg,{forceMount:void 0}),UN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=kr(Qg,t);return s.jsx(t5,{scope:t,forceMount:r,children:f.Children.map(n,o=>s.jsx(Ns,{present:r||i.open,children:s.jsx(zu,{asChild:!0,container:a,children:o})}))})};UN.displayName=Qg;var iu="DialogOverlay",zN=f.forwardRef((e,t)=>{const r=qN(iu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kr(iu,e.__scopeDialog);return i.modal?s.jsx(Ns,{present:n||i.open,children:s.jsx(r5,{...a,ref:t})}):null});zN.displayName=iu;var s5=fo("DialogOverlay.RemoveScroll"),r5=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(iu,r);return s.jsx(Jg,{as:s5,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(he.div,{"data-state":Zg(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ri="DialogContent",BN=f.forwardRef((e,t)=>{const r=qN(ri,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kr(ri,e.__scopeDialog);return s.jsx(Ns,{present:n||i.open,children:i.modal?s.jsx(n5,{...a,ref:t}):s.jsx(a5,{...a,ref:t})})});BN.displayName=ri;var n5=f.forwardRef((e,t)=>{const r=kr(ri,e.__scopeDialog),n=f.useRef(null),a=Re(t,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return IN(i)},[]),s.jsx(VN,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault())})}),a5=f.forwardRef((e,t)=>{const r=kr(ri,e.__scopeDialog),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(VN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,d;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),VN=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,c=kr(ri,r),l=f.useRef(null),d=Re(t,l);return rN(),s.jsxs(s.Fragment,{children:[s.jsx(Kg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(hc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Zg(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(i5,{titleId:c.titleId}),s.jsx(l5,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Xg="DialogTitle",WN=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(Xg,r);return s.jsx(he.h2,{id:a.titleId,...n,ref:t})});WN.displayName=Xg;var HN="DialogDescription",KN=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(HN,r);return s.jsx(he.p,{id:a.descriptionId,...n,ref:t})});KN.displayName=HN;var GN="DialogClose",YN=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(GN,r);return s.jsx(he.button,{type:"button",...n,ref:t,onClick:le(e.onClick,()=>a.onOpenChange(!1))})});YN.displayName=GN;function Zg(e){return e?"open":"closed"}var JN="DialogTitleWarning",[zq,QN]=xP(JN,{contentName:ri,titleName:Xg,docsSlug:"dialog"}),i5=({titleId:e})=>{const t=QN(JN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},o5="DialogDescriptionWarning",l5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QN(o5).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},XN=MN,ZN=$N,e1=UN,nh=zN,ah=BN,ih=WN,oh=KN,t1=YN;const at=XN,c5=ZN,d5=e1,s1=f.forwardRef(({className:e,...t},r)=>s.jsx(nh,{ref:r,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));s1.displayName=nh.displayName;const st=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(d5,{children:[s.jsx(s1,{}),s.jsxs(ah,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(t1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));st.displayName=ah.displayName;const vt=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vt.displayName="DialogHeader";const vs=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vs.displayName="DialogFooter";const bt=f.forwardRef(({className:e,...t},r)=>s.jsx(ih,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));bt.displayName=ih.displayName;const Is=f.forwardRef(({className:e,...t},r)=>s.jsx(oh,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Is.displayName=oh.displayName;const u5=di("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-md px-8",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),D=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?ko:"button";return s.jsx(o,{className:J(u5({variant:t,size:r,className:e})),ref:i,...a})});D.displayName="Button";var h5="Label",r1=f.forwardRef((e,t)=>s.jsx(he.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));r1.displayName=h5;var n1=r1;const m5=di("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),P=f.forwardRef(({className:e,...t},r)=>s.jsx(n1,{ref:r,className:J(m5(),e),...t}));P.displayName=n1.displayName;const He=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));He.displayName="Textarea";var p5=f.createContext(void 0);function Ao(e){const t=f.useContext(p5);return e||t||"ltr"}var bm="rovingFocusGroup.onEntryFocus",f5={bubbles:!1,cancelable:!0},fc="RovingFocusGroup",[Qp,a1,g5]=Uu(fc),[x5,lh]=cs(fc,[g5]),[y5,v5]=x5(fc),i1=f.forwardRef((e,t)=>s.jsx(Qp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Qp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(b5,{...e,ref:t})})}));i1.displayName=fc;var b5=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...p}=e,m=f.useRef(null),h=Re(t,m),y=Ao(i),[x,b]=Os({prop:o,defaultProp:c??null,onChange:l,caller:fc}),[g,v]=f.useState(!1),j=Rt(d),w=a1(r),N=f.useRef(!1),[k,_]=f.useState(0);return f.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(bm,j),()=>C.removeEventListener(bm,j)},[j]),s.jsx(y5,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:x,onItemFocus:f.useCallback(C=>b(C),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:f.useCallback(()=>_(C=>C-1),[]),children:s.jsx(he.div,{tabIndex:g||k===0?-1:0,"data-orientation":n,...p,ref:h,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{N.current=!0}),onFocus:le(e.onFocus,C=>{const A=!N.current;if(C.target===C.currentTarget&&A&&!g){const E=new CustomEvent(bm,f5);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const S=w().filter(U=>U.focusable),T=S.find(U=>U.active),R=S.find(U=>U.id===x),z=[T,R,...S].filter(Boolean).map(U=>U.ref.current);c1(z,u)}}N.current=!1}),onBlur:le(e.onBlur,()=>v(!1))})})}),o1="RovingFocusGroupItem",l1=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...c}=e,l=yr(),d=i||l,u=v5(o1,r),p=u.currentTabStopId===d,m=a1(r),{onFocusableItemAdd:h,onFocusableItemRemove:y,currentTabStopId:x}=u;return f.useEffect(()=>{if(n)return h(),()=>y()},[n,h,y]),s.jsx(Qp.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(he.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...c,ref:t,onMouseDown:le(e.onMouseDown,b=>{n?u.onItemFocus(d):b.preventDefault()}),onFocus:le(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:le(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=_5(b,u.orientation,u.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let j=m().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")j.reverse();else if(g==="prev"||g==="next"){g==="prev"&&j.reverse();const w=j.indexOf(b.currentTarget);j=u.loop?N5(j,w+1):j.slice(w+1)}setTimeout(()=>c1(j))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:x!=null}):o})})});l1.displayName=o1;var j5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _5(e,t,r){const n=w5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return j5[n]}function c1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function N5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var d1=i1,u1=l1;function ch(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ex="Radio",[S5,h1]=cs(ex),[k5,C5]=S5(ex),m1=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:c="on",onCheck:l,form:d,...u}=e,[p,m]=f.useState(null),h=Re(t,b=>m(b)),y=f.useRef(!1),x=p?d||!!p.closest("form"):!0;return s.jsxs(k5,{scope:r,checked:a,disabled:o,children:[s.jsx(he.button,{type:"button",role:"radio","aria-checked":a,"data-state":x1(a),"data-disabled":o?"":void 0,disabled:o,value:c,...u,ref:h,onClick:le(e.onClick,b=>{a||l==null||l(),x&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),x&&s.jsx(g1,{control:p,bubbles:!y.current,name:n,value:c,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});m1.displayName=ex;var p1="RadioIndicator",f1=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=C5(p1,r);return s.jsx(Ns,{present:n||i.checked,children:s.jsx(he.span,{"data-state":x1(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});f1.displayName=p1;var E5="RadioBubbleInput",g1=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),c=Re(o,i),l=ch(r),d=Gu(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==r&&h){const y=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(y)}},[l,r,n]),s.jsx(he.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});g1.displayName=E5;function x1(e){return e?"checked":"unchecked"}var P5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dh="RadioGroup",[T5,Bq]=cs(dh,[lh,h1]),y1=lh(),v1=h1(),[A5,R5]=T5(dh),b1=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:c=!1,orientation:l,dir:d,loop:u=!0,onValueChange:p,...m}=e,h=y1(r),y=Ao(d),[x,b]=Os({prop:i,defaultProp:a??null,onChange:p,caller:dh});return s.jsx(A5,{scope:r,name:n,required:o,disabled:c,value:x,onValueChange:b,children:s.jsx(d1,{asChild:!0,...h,orientation:l,dir:y,loop:u,children:s.jsx(he.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":c?"":void 0,dir:y,...m,ref:t})})})});b1.displayName=dh;var j1="RadioGroupItem",w1=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=R5(j1,r),o=i.disabled||n,c=y1(r),l=v1(r),d=f.useRef(null),u=Re(t,d),p=i.value===a.value,m=f.useRef(!1);return f.useEffect(()=>{const h=x=>{P5.includes(x.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",y)}},[]),s.jsx(u1,{asChild:!0,...c,focusable:!o,active:p,children:s.jsx(m1,{disabled:o,required:i.required,checked:p,...l,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:le(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:le(a.onFocus,()=>{var h;m.current&&((h=d.current)==null||h.click())})})})});w1.displayName=j1;var O5="RadioGroupIndicator",_1=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=v1(r);return s.jsx(f1,{...a,...n,ref:t})});_1.displayName=O5;var N1=b1,S1=w1,D5=_1;const ia=f.forwardRef(({className:e,...t},r)=>s.jsx(N1,{className:J("grid gap-2",e),...t,ref:r}));ia.displayName=N1.displayName;const At=f.forwardRef(({className:e,...t},r)=>s.jsx(S1,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(D5,{className:"flex items-center justify-center",children:s.jsx(Lp,{className:"h-2.5 w-2.5 fill-current text-current"})})}));At.displayName=S1.displayName;function Xp(e,[t,r]){return Math.min(r,Math.max(t,e))}var I5=[" ","Enter","ArrowUp","ArrowDown"],L5=[" ","Enter"],ni="Select",[uh,hh,M5]=Uu(ni),[Ro,Vq]=cs(ni,[M5,Yu]),mh=Yu(),[F5,ba]=Ro(ni),[$5,q5]=Ro(ni),k1=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:l,dir:d,name:u,autoComplete:p,disabled:m,required:h,form:y}=e,x=mh(t),[b,g]=f.useState(null),[v,j]=f.useState(null),[w,N]=f.useState(!1),k=Ao(d),[_,C]=Os({prop:n,defaultProp:a??!1,onChange:i,caller:ni}),[A,E]=Os({prop:o,defaultProp:c,onChange:l,caller:ni}),S=f.useRef(null),T=b?y||!!b.closest("form"):!0,[R,I]=f.useState(new Set),z=Array.from(R).map(U=>U.props.value).join(";");return s.jsx(I_,{...x,children:s.jsxs(F5,{required:h,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:yr(),value:A,onValueChange:E,open:_,onOpenChange:C,dir:k,triggerPointerDownPosRef:S,disabled:m,children:[s.jsx(uh.Provider,{scope:t,children:s.jsx($5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(U=>{I(F=>new Set(F).add(U))},[]),onNativeOptionRemove:f.useCallback(U=>{I(F=>{const O=new Set(F);return O.delete(U),O})},[]),children:r})}),T?s.jsxs(J1,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:p,value:A,onChange:U=>E(U.target.value),disabled:m,form:y,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},z):null]})})};k1.displayName=ni;var C1="SelectTrigger",E1=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=mh(r),o=ba(C1,r),c=o.disabled||n,l=Re(t,o.onTriggerChange),d=hh(r),u=f.useRef("touch"),[p,m,h]=X1(x=>{const b=d().filter(j=>!j.disabled),g=b.find(j=>j.value===o.value),v=Z1(b,x,g);v!==void 0&&o.onValueChange(v.value)}),y=x=>{c||(o.onOpenChange(!0),h()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(L_,{asChild:!0,...i,children:s.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Q1(o.value)?"":void 0,...a,ref:l,onClick:le(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&y(x)}),onPointerDown:le(a.onPointerDown,x=>{u.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:le(a.onKeyDown,x=>{const b=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&I5.includes(x.key)&&(y(),x.preventDefault())})})})});E1.displayName=C1;var P1="SelectValue",T1=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...c}=e,l=ba(P1,r),{onValueNodeHasChildrenChange:d}=l,u=i!==void 0,p=Re(t,l.onValueNodeChange);return Dt(()=>{d(u)},[d,u]),s.jsx(he.span,{...c,ref:p,style:{pointerEvents:"none"},children:Q1(l.value)?s.jsx(s.Fragment,{children:o}):i})});T1.displayName=P1;var U5="SelectIcon",A1=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(he.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});A1.displayName=U5;var z5="SelectPortal",R1=e=>s.jsx(zu,{asChild:!0,...e});R1.displayName=z5;var ai="SelectContent",O1=f.forwardRef((e,t)=>{const r=ba(ai,e.__scopeSelect),[n,a]=f.useState();if(Dt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?yn.createPortal(s.jsx(D1,{scope:e.__scopeSelect,children:s.jsx(uh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(I1,{...e,ref:t})});O1.displayName=ai;var lr=10,[D1,ja]=Ro(ai),B5="SelectContentImpl",V5=fo("SelectContent.RemoveScroll"),I1=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:y,hideWhenDetached:x,avoidCollisions:b,...g}=e,v=ba(ai,r),[j,w]=f.useState(null),[N,k]=f.useState(null),_=Re(t,ee=>w(ee)),[C,A]=f.useState(null),[E,S]=f.useState(null),T=hh(r),[R,I]=f.useState(!1),z=f.useRef(!1);f.useEffect(()=>{if(j)return IN(j)},[j]),rN();const U=f.useCallback(ee=>{const[q,...de]=T().map(G=>G.ref.current),[ie]=de.slice(-1),se=document.activeElement;for(const G of ee)if(G===se||(G==null||G.scrollIntoView({block:"nearest"}),G===q&&N&&(N.scrollTop=0),G===ie&&N&&(N.scrollTop=N.scrollHeight),G==null||G.focus(),document.activeElement!==se))return},[T,N]),F=f.useCallback(()=>U([C,j]),[U,C,j]);f.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:O,triggerPointerDownPosRef:$}=v;f.useEffect(()=>{if(j){let ee={x:0,y:0};const q=ie=>{var se,G;ee={x:Math.abs(Math.round(ie.pageX)-(((se=$.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((G=$.current)==null?void 0:G.y)??0))}},de=ie=>{ee.x<=10&&ee.y<=10?ie.preventDefault():j.contains(ie.target)||O(!1),document.removeEventListener("pointermove",q),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",de,{capture:!0})}}},[j,O,$]),f.useEffect(()=>{const ee=()=>O(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[O]);const[H,ne]=X1(ee=>{const q=T().filter(se=>!se.disabled),de=q.find(se=>se.ref.current===document.activeElement),ie=Z1(q,ee,de);ie&&setTimeout(()=>ie.ref.current.focus())}),ae=f.useCallback((ee,q,de)=>{const ie=!z.current&&!de;(v.value!==void 0&&v.value===q||ie)&&(A(ee),ie&&(z.current=!0))},[v.value]),pe=f.useCallback(()=>j==null?void 0:j.focus(),[j]),me=f.useCallback((ee,q,de)=>{const ie=!z.current&&!de;(v.value!==void 0&&v.value===q||ie)&&S(ee)},[v.value]),Oe=n==="popper"?Zp:L1,Fe=Oe===Zp?{side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:y,hideWhenDetached:x,avoidCollisions:b}:{};return s.jsx(D1,{scope:r,content:j,viewport:N,onViewportChange:k,itemRefCallback:ae,selectedItem:C,onItemLeave:pe,itemTextRefCallback:me,focusSelectedItem:F,selectedItemText:E,position:n,isPositioned:R,searchRef:H,children:s.jsx(Jg,{as:V5,allowPinchZoom:!0,children:s.jsx(Kg,{asChild:!0,trapped:v.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:le(a,ee=>{var q;(q=v.trigger)==null||q.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(Oe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ee=>ee.preventDefault(),...g,...Fe,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:le(g.onKeyDown,ee=>{const q=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!q&&ee.key.length===1&&ne(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ie=T().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const se=ee.target,G=ie.indexOf(se);ie=ie.slice(G+1)}setTimeout(()=>U(ie)),ee.preventDefault()}})})})})})})});I1.displayName=B5;var W5="SelectItemAlignedPosition",L1=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ba(ai,r),o=ja(ai,r),[c,l]=f.useState(null),[d,u]=f.useState(null),p=Re(t,_=>u(_)),m=hh(r),h=f.useRef(!1),y=f.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=o,j=f.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&d&&x&&b&&g){const _=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),E=g.getBoundingClientRect();if(i.dir!=="rtl"){const se=E.left-C.left,G=A.left-se,be=_.left-G,Ie=_.width+be,Ge=Math.max(Ie,C.width),ot=window.innerWidth-lr,pt=Xp(G,[lr,Math.max(lr,ot-Ge)]);c.style.minWidth=Ie+"px",c.style.left=pt+"px"}else{const se=C.right-E.right,G=window.innerWidth-A.right-se,be=window.innerWidth-_.right-G,Ie=_.width+be,Ge=Math.max(Ie,C.width),ot=window.innerWidth-lr,pt=Xp(G,[lr,Math.max(lr,ot-Ge)]);c.style.minWidth=Ie+"px",c.style.right=pt+"px"}const S=m(),T=window.innerHeight-lr*2,R=x.scrollHeight,I=window.getComputedStyle(d),z=parseInt(I.borderTopWidth,10),U=parseInt(I.paddingTop,10),F=parseInt(I.borderBottomWidth,10),O=parseInt(I.paddingBottom,10),$=z+U+R+O+F,H=Math.min(b.offsetHeight*5,$),ne=window.getComputedStyle(x),ae=parseInt(ne.paddingTop,10),pe=parseInt(ne.paddingBottom,10),me=_.top+_.height/2-lr,Oe=T-me,Fe=b.offsetHeight/2,ee=b.offsetTop+Fe,q=z+U+ee,de=$-q;if(q<=me){const se=S.length>0&&b===S[S.length-1].ref.current;c.style.bottom="0px";const G=d.clientHeight-x.offsetTop-x.offsetHeight,be=Math.max(Oe,Fe+(se?pe:0)+G+F),Ie=q+be;c.style.height=Ie+"px"}else{const se=S.length>0&&b===S[0].ref.current;c.style.top="0px";const be=Math.max(me,z+x.offsetTop+(se?ae:0)+Fe)+de;c.style.height=be+"px",x.scrollTop=q-me+x.offsetTop}c.style.margin=`${lr}px 0`,c.style.minHeight=H+"px",c.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,c,d,x,b,g,i.dir,n]);Dt(()=>j(),[j]);const[w,N]=f.useState();Dt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const k=f.useCallback(_=>{_&&y.current===!0&&(j(),v==null||v(),y.current=!1)},[j,v]);return s.jsx(K5,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:s.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(he.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});L1.displayName=W5;var H5="SelectPopperPosition",Zp=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=lr,...i}=e,o=mh(r);return s.jsx(M_,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zp.displayName=H5;var[K5,tx]=Ro(ai,{}),ef="SelectViewport",M1=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ja(ef,r),o=tx(ef,r),c=Re(t,i.onViewportChange),l=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(uh.Slot,{scope:r,children:s.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:le(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const h=Math.abs(l.current-u.scrollTop);if(h>0){const y=window.innerHeight-lr*2,x=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),g=Math.max(x,b);if(g<y){const v=g+h,j=Math.min(y,v),w=v-j;p.style.height=j+"px",p.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,p.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});M1.displayName=ef;var F1="SelectGroup",[G5,Y5]=Ro(F1),J5=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=yr();return s.jsx(G5,{scope:r,id:a,children:s.jsx(he.div,{role:"group","aria-labelledby":a,...n,ref:t})})});J5.displayName=F1;var $1="SelectLabel",q1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Y5($1,r);return s.jsx(he.div,{id:a.id,...n,ref:t})});q1.displayName=$1;var ou="SelectItem",[Q5,U1]=Ro(ou),z1=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,c=ba(ou,r),l=ja(ou,r),d=c.value===n,[u,p]=f.useState(i??""),[m,h]=f.useState(!1),y=Re(t,v=>{var j;return(j=l.itemRefCallback)==null?void 0:j.call(l,v,n,a)}),x=yr(),b=f.useRef("touch"),g=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Q5,{scope:r,value:n,disabled:a,textId:x,isSelected:d,onItemTextChange:f.useCallback(v=>{p(j=>j||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(uh.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(he.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:le(o.onFocus,()=>h(!0)),onBlur:le(o.onBlur,()=>h(!1)),onClick:le(o.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:le(o.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:le(o.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:le(o.onPointerMove,v=>{var j;b.current=v.pointerType,a?(j=l.onItemLeave)==null||j.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(o.onPointerLeave,v=>{var j;v.currentTarget===document.activeElement&&((j=l.onItemLeave)==null||j.call(l))}),onKeyDown:le(o.onKeyDown,v=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(L5.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});z1.displayName=ou;var nl="SelectItemText",B1=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ba(nl,r),c=ja(nl,r),l=U1(nl,r),d=q5(nl,r),[u,p]=f.useState(null),m=Re(t,g=>p(g),l.onItemTextChange,g=>{var v;return(v=c.itemTextRefCallback)==null?void 0:v.call(c,g,l.value,l.disabled)}),h=u==null?void 0:u.textContent,y=f.useMemo(()=>s.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=d;return Dt(()=>(x(y),()=>b(y)),[x,b,y]),s.jsxs(s.Fragment,{children:[s.jsx(he.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?yn.createPortal(i.children,o.valueNode):null]})});B1.displayName=nl;var V1="SelectItemIndicator",W1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return U1(V1,r).isSelected?s.jsx(he.span,{"aria-hidden":!0,...n,ref:t}):null});W1.displayName=V1;var tf="SelectScrollUpButton",H1=f.forwardRef((e,t)=>{const r=ja(tf,e.__scopeSelect),n=tx(tf,e.__scopeSelect),[a,i]=f.useState(!1),o=Re(t,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(G1,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});H1.displayName=tf;var sf="SelectScrollDownButton",K1=f.forwardRef((e,t)=>{const r=ja(sf,e.__scopeSelect),n=tx(sf,e.__scopeSelect),[a,i]=f.useState(!1),o=Re(t,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<d;i(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(G1,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});K1.displayName=sf;var G1=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ja("SelectScrollButton",r),o=f.useRef(null),c=hh(r),l=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),Dt(()=>{var u;const d=c().find(p=>p.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),s.jsx(he.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:le(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:le(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:le(a.onPointerLeave,()=>{l()})})}),X5="SelectSeparator",Y1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(he.div,{"aria-hidden":!0,...n,ref:t})});Y1.displayName=X5;var rf="SelectArrow",Z5=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mh(r),i=ba(rf,r),o=ja(rf,r);return i.open&&o.position==="popper"?s.jsx(F_,{...a,...n,ref:t}):null});Z5.displayName=rf;var eO="SelectBubbleInput",J1=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=f.useRef(null),i=Re(n,a),o=ch(t);return f.useEffect(()=>{const c=a.current;if(!c)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const p=new Event("change",{bubbles:!0});u.call(c,t),c.dispatchEvent(p)}},[o,t]),s.jsx(he.select,{...r,style:{...kw,...r.style},ref:i,defaultValue:t})});J1.displayName=eO;function Q1(e){return e===""||e===void 0}function X1(e){const t=Rt(e),r=f.useRef(""),n=f.useRef(0),a=f.useCallback(o=>{const c=r.current+o;t(c),function l(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Z1(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=tO(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const l=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function tO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sO=k1,e2=E1,rO=T1,nO=A1,aO=R1,t2=O1,iO=M1,s2=q1,r2=z1,oO=B1,lO=W1,n2=H1,a2=K1,i2=Y1;const Ee=sO,Pe=rO,ke=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(e2,{ref:n,className:J("flex h-11 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(nO,{asChild:!0,children:s.jsx(Xr,{className:"h-4 w-4 opacity-50"})})]}));ke.displayName=e2.displayName;const o2=f.forwardRef(({className:e,...t},r)=>s.jsx(n2,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(uT,{className:"h-4 w-4"})}));o2.displayName=n2.displayName;const l2=f.forwardRef(({className:e,...t},r)=>s.jsx(a2,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Xr,{className:"h-4 w-4"})}));l2.displayName=a2.displayName;const Ce=f.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(aO,{children:s.jsxs(t2,{ref:a,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(o2,{}),s.jsx(iO,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(l2,{})]})}));Ce.displayName=t2.displayName;const cO=f.forwardRef(({className:e,...t},r)=>s.jsx(s2,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));cO.displayName=s2.displayName;const K=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(r2,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(lO,{children:s.jsx(go,{className:"h-4 w-4"})})}),s.jsx(oO,{children:t})]}));K.displayName=r2.displayName;const dO=f.forwardRef(({className:e,...t},r)=>s.jsx(i2,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));dO.displayName=i2.displayName;const sx=[{code:"1",name:"Adrar"},{code:"2",name:"Chlef"},{code:"3",name:"Laghouat"},{code:"4",name:"Oum El Bouaghi"},{code:"5",name:"Batna"},{code:"6",name:"Bjaa"},{code:"7",name:"Biskra"},{code:"8",name:"Bchar"},{code:"9",name:"Blida"},{code:"10",name:"Bouira"},{code:"11",name:"Tamanrasset"},{code:"12",name:"Tbessa"},{code:"13",name:"Tlemcen"},{code:"14",name:"Tiaret"},{code:"15",name:"Tizi Ouzou"},{code:"16",name:"Alger"},{code:"17",name:"Djelfa"},{code:"18",name:"Jijel"},{code:"19",name:"Stif"},{code:"20",name:"Sada"},{code:"21",name:"Skikda"},{code:"22",name:"Sidi Bel Abbs"},{code:"23",name:"Annaba"},{code:"24",name:"Guelma"},{code:"25",name:"Constantine"},{code:"26",name:"Mda"},{code:"27",name:"Mostaganem"},{code:"28",name:"M'Sila"},{code:"29",name:"Mascara"},{code:"30",name:"Ouargla"},{code:"31",name:"Oran"},{code:"32",name:"El Bayadh"},{code:"33",name:"Illizi"},{code:"34",name:"Bordj Bou Arreridj"},{code:"35",name:"Boumerds"},{code:"36",name:"El Tarf"},{code:"37",name:"Tindouf"},{code:"38",name:"Tissemsilt"},{code:"39",name:"El Oued"},{code:"40",name:"Khenchela"},{code:"41",name:"Souk Ahras"},{code:"42",name:"Tipaza"},{code:"43",name:"Mila"},{code:"44",name:"An Defla"},{code:"45",name:"Nama"},{code:"46",name:"An Tmouchent"},{code:"47",name:"Ghardaa"},{code:"48",name:"Relizane"},{code:"49",name:"El M'Ghair"},{code:"50",name:"El Meniaa"},{code:"51",name:"Ouled Djellal"},{code:"52",name:"Bordj Baji Mokhtar"},{code:"53",name:"Bni Abbs"},{code:"54",name:"Timimoun"},{code:"55",name:"Touggourt"},{code:"56",name:"Djanet"},{code:"57",name:"In Salah"},{code:"58",name:"In Guezzam"}],uO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class rx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hO extends rx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mv extends rx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fv extends rx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nf||(nf={}));class mO{constructor(t,{headers:r={},customFetch:n,region:a=nf.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=uO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ue(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:c,method:l,body:d,signal:u,timeout:p}=n;let m={},{region:h}=n;h||(h=this.region);const y=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let x;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(m["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(m["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;let b=u;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),u?(b=o.signal,u.addEventListener("abort",()=>o.abort())):b=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:x,signal:b}).catch(N=>{throw new hO(N)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Mv(g);if(!g.ok)throw new Fv(g);let j=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return j==="application/json"?w=yield g.json():j==="application/octet-stream"||j==="application/pdf"?w=yield g.blob():j==="text/event-stream"?w=g:j==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(c){return{data:null,error:c,response:c instanceof Fv||c instanceof Mv?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var rs={};const Oo=qk(f3);var Xc={},Zc={},ed={},td={},sd={},rd={},$v;function c2(){if($v)return rd;$v=1,Object.defineProperty(rd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return rd.default=e,rd}var qv;function d2(){if(qv)return sd;qv=1,Object.defineProperty(sd,"__esModule",{value:!0});const t=Oo.__importDefault(c2());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var d,u,p,m;let h=null,y=null,x=null,b=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const N=await l.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=N:y=JSON.parse(N))}const j=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),w=(p=l.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&w&&w.length>1&&(x=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,b=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const j=await l.text();try{h=JSON.parse(j),Array.isArray(h)&&l.status===404&&(y=[],h=null,b=200,g="OK")}catch{l.status===404&&j===""?(b=204,g="No Content"):h={message:j}}if(h&&this.isMaybeSingle&&(!((m=h==null?void 0:h.details)===null||m===void 0)&&m.includes("0 rows"))&&(h=null,b=200,g="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:y,count:x,status:b,statusText:g}});return this.shouldThrowOnError||(c=c.catch(l=>{var d,u,p;return{error:{message:`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(p=l==null?void 0:l.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,i)}returns(){return this}overrideTypes(){return this}}return sd.default=r,sd}var Uv;function u2(){if(Uv)return td;Uv=1,Object.defineProperty(td,"__esModule",{value:!0});const t=Oo.__importDefault(d2());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:l=c}={}){const d=l?`${l}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:c=o}={}){const l=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:l=!1,format:d="text"}={}){var u;const p=[a?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return td.default=r,td}var zv;function nx(){if(zv)return ed;zv=1,Object.defineProperty(ed,"__esModule",{value:!0});const t=Oo.__importDefault(u2()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const u=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const l=c?`${c}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return ed.default=n,ed}var Bv;function h2(){if(Bv)return Zc;Bv=1,Object.defineProperty(Zc,"__esModule",{value:!0});const t=Oo.__importDefault(nx());class r{constructor(a,{headers:i={},schema:o,fetch:c}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(a,i){const{head:o=!1,count:c}=i??{},l=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",u),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var c;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,p)=>u.concat(Object.keys(p)),[]);if(d.length>0){const u=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:l=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(p.length>0){const m=[...new Set(p)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Zc.default=r,Zc}var Vv;function pO(){if(Vv)return Xc;Vv=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=Oo,t=e.__importDefault(h2()),r=e.__importDefault(nx());class n{constructor(i,{headers:o={},schema:c,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:l=!1,count:d}={}){var u;let p;const m=new URL(`${this.url}/rpc/${i}`);let h;c||l?(p=c?"HEAD":"GET",Object.entries(o).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{m.searchParams.append(x,b)})):(p="POST",h=o);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new r.default({method:p,url:m,headers:y,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Xc.default=n,Xc}Object.defineProperty(rs,"__esModule",{value:!0});var m2=rs.PostgrestError=_2=rs.PostgrestBuilder=j2=rs.PostgrestTransformBuilder=v2=rs.PostgrestFilterBuilder=x2=rs.PostgrestQueryBuilder=f2=rs.PostgrestClient=void 0;const Do=Oo,p2=Do.__importDefault(pO());var f2=rs.PostgrestClient=p2.default;const g2=Do.__importDefault(h2());var x2=rs.PostgrestQueryBuilder=g2.default;const y2=Do.__importDefault(nx());var v2=rs.PostgrestFilterBuilder=y2.default;const b2=Do.__importDefault(u2());var j2=rs.PostgrestTransformBuilder=b2.default;const w2=Do.__importDefault(d2());var _2=rs.PostgrestBuilder=w2.default;const N2=Do.__importDefault(c2());m2=rs.PostgrestError=N2.default;var S2=rs.default={PostgrestClient:p2.default,PostgrestQueryBuilder:g2.default,PostgrestFilterBuilder:y2.default,PostgrestTransformBuilder:b2.default,PostgrestBuilder:w2.default,PostgrestError:N2.default};const fO=a0({__proto__:null,get PostgrestBuilder(){return _2},get PostgrestClient(){return f2},get PostgrestError(){return m2},get PostgrestFilterBuilder(){return v2},get PostgrestQueryBuilder(){return x2},get PostgrestTransformBuilder(){return j2},default:S2},[rs]),{PostgrestClient:gO,PostgrestQueryBuilder:Wq,PostgrestFilterBuilder:Hq,PostgrestTransformBuilder:Kq,PostgrestBuilder:Gq,PostgrestError:Yq}=S2||fO;class xO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yO="2.81.1",vO=`realtime-js/${yO}`,k2="1.0.0",bO="2.0.0",Wv=k2,af=1e4,jO=1e3,wO=100;var Aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Aa||(Aa={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var Us;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Us||(Us={}));var of;(function(e){e.websocket="websocket"})(of||(of={}));var Ra;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ra||(Ra={}));class _O{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:a,topic:i,payload:o}=t,c=this.META_LENGTH+r.length+n.length+i.length+a.length,l=new ArrayBuffer(this.HEADER_LENGTH+c);let d=new DataView(l),u=0;d.setUint8(u++,this.KINDS.push),d.setUint8(u++,r.length),d.setUint8(u++,n.length),d.setUint8(u++,i.length),d.setUint8(u++,a.length),Array.from(r,m=>d.setUint8(u++,m.charCodeAt(0))),Array.from(n,m=>d.setUint8(u++,m.charCodeAt(0))),Array.from(i,m=>d.setUint8(u++,m.charCodeAt(0))),Array.from(a,m=>d.setUint8(u++,m.charCodeAt(0)));var p=new Uint8Array(l.byteLength+o.byteLength);return p.set(new Uint8Array(l),0),p.set(new Uint8Array(o),l.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,c=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+c.length,u=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(u),m=0;p.setUint8(m++,this.KINDS.userBroadcastPush),p.setUint8(m++,a.length),p.setUint8(m++,i.length),p.setUint8(m++,o.length),p.setUint8(m++,c.length),p.setUint8(m++,this.BINARY_ENCODING),Array.from(a,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(i,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>p.setUint8(m++,y.charCodeAt(0)));var h=new Uint8Array(u.byteLength+l.byteLength);return h.set(new Uint8Array(u),0),h.set(new Uint8Array(l),u.byteLength),h.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,c=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let h=new DataView(m),y=0;h.setUint8(y++,this.KINDS.userBroadcastPush),h.setUint8(y++,a.length),h.setUint8(y++,i.length),h.setUint8(y++,o.length),h.setUint8(y++,c.length),h.setUint8(y++,this.JSON_ENCODING),Array.from(a,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(i,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>h.setUint8(y++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+u.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(u),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,c,l]=n;return r({join_ref:a,ref:i,topic:o,event:c,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,a);case this.KINDS.reply:return this._decodeReply(t,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodePush(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const u=n.decode(t.slice(c,c+o));c=c+o;const p=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{join_ref:l,ref:null,topic:d,event:u,payload:p}}_decodeReply(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const d=n.decode(t.slice(l,l+a));l=l+a;const u=n.decode(t.slice(l,l+i));l=l+i;const p=n.decode(t.slice(l,l+o));l=l+o;const m=n.decode(t.slice(l,l+c));l=l+c;const h=JSON.parse(n.decode(t.slice(l,t.byteLength))),y={status:m,response:h};return{join_ref:d,ref:u,topic:p,event:Us.reply,payload:y}}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(t.slice(o,o+a));o=o+a;const l=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:c,event:l,payload:d}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let l=this.HEADER_LENGTH+4;const d=n.decode(t.slice(l,l+a));l=l+a;const u=n.decode(t.slice(l,l+i));l=l+i;const p=n.decode(t.slice(l,l+o));l=l+o;const m=t.slice(l,t.byteLength),h=c===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,y={type:this.BROADCAST,event:u,payload:h};return o>0&&(y.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class C2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const Hv=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=NO(o,e,t,a),i),{}):{}},NO=(e,t,r,n)=>{const a=t.find(c=>c.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?E2(i,o):lf(o)},E2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return EO(t,r)}switch(e){case Je.bool:return SO(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return kO(t);case Je.json:case Je.jsonb:return CO(t);case Je.timestamp:return PO(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return lf(t);default:return lf(t)}},lf=e=>e,SO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},EO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>E2(t,c))}return e},PO=e=>typeof e=="string"?e.replace(" ","T"):e,P2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jm{constructor(t,r,n={},a=af){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kv||(Kv={}));class yl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=yl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=yl.syncDiff(this.state,a,i,o),c())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),c={},l={};return this.map(i,(d,u)=>{o[d]||(l[d]=u)}),this.map(o,(d,u)=>{const p=i[d];if(p){const m=u.map(b=>b.presence_ref),h=p.map(b=>b.presence_ref),y=u.filter(b=>h.indexOf(b.presence_ref)<0),x=p.filter(b=>m.indexOf(b.presence_ref)<0);y.length>0&&(c[d]=y),x.length>0&&(l[d]=x)}else c[d]=u}),this.syncDiff(i,{joins:c,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,l)=>{var d;const u=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(l),u.length>0){const p=t[c].map(h=>h.presence_ref),m=u.filter(h=>p.indexOf(h.presence_ref)<0);t[c].unshift(...m)}n(c,u,l)}),this.map(o,(c,l)=>{let d=t[c];if(!d)return;const u=l.map(p=>p.presence_ref);d=d.filter(p=>u.indexOf(p.presence_ref)<0),t[c]=d,a(c,d,l),d.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gv||(Gv={}));var vl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vl||(vl={}));var Jr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jr||(Jr={}));class ax{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jm(this,Us.join,this.params,this.timeout),this.rejoinTimer=new C2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Us.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new yl(this),this.broadcastEndpointURL=P2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:o,presence:c,private:l}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[vl.PRESENCE]&&this.bindings[vl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},m={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:u}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Jr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Jr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){t==null||t(Jr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,g=[];for(let v=0;v<b;v++){const j=x[v],{filter:{event:w,schema:N,table:k,filter:_}}=j,C=h&&h[v];if(C&&C.event===w&&C.schema===N&&C.table===k&&C.filter===_)g.push(Object.assign(Object.assign({},j),{id:C.id}));else{this.unsubscribe(),this.state=Pt.errored,t==null||t(Jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Jr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Pt.errored,t==null||t(Jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pt.joined&&t===vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let l=c.statusText;try{const d=await c.json();l=d.error||d.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,l;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Us.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new jm(this,Us.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new jm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:c,error:l,leave:d,join:u}=Us;if(n&&[c,l,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var y,x,b;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(x=h.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,x,b,g,v,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,N=(y=h.filter)===null||y===void 0?void 0:y.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(v=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return w==="*"||w===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:x,table:b,commit_timestamp:g,type:v,errors:j}=y;m=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:g,eventType:v,new:{},old:{},errors:j}),this._getPayloadRecords(y))}h.callback(m,n)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ax.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Us.close,{},t)}_onError(t){this._on(Us.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hv(t.columns,t.old_record)),r}}const wm=()=>{},nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TO=[1e3,2e3,5e3,1e4],AO=1e4,RO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OO{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=af,this.transport=null,this.heartbeatIntervalMs=nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wm,this.ref=0,this.reconnectTimer=null,this.vsn=Wv,this.logger=wm,this.conn=null,this.sendBuffer=[],this.serializer=new _O,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${of.websocket}`,this.httpEndpoint=P2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return Ra.Connecting;case Aa.open:return Ra.Open;case Aa.closing:return Ra.Closing;default:return Ra.Closed}}isConnected(){return this.connectionState()===Ra.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new ax(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,c=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Aa.open||this.conn.readyState===Aa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Us.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([RO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:vO};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Us.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new C2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,c,l,d,u,p,m,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:af,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:nd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:wm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Wv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:y=>TO[y-1]||AO,this.vsn){case k2:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(y,x)=>x(JSON.stringify(y)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:(y,x)=>x(JSON.parse(y));break;case bO:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ix extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DO extends ix{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cf extends ix{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ox=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IO=()=>Response,df=e=>{if(Array.isArray(e))return e.map(r=>df(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=df(n)}),t},LO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_m=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},MO=(e,t,r)=>ue(void 0,void 0,void 0,function*(){const n=yield IO();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new DO(_m(a),i,o))}).catch(a=>{t(new cf(_m(a),a))}):t(new cf(_m(e),e))}),FO=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(LO(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function gc(e,t,r,n,a,i){return ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,FO(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>MO(l,c,n))})})}function Hl(e,t,r,n){return ue(this,void 0,void 0,function*(){return gc(e,"GET",t,r,n)})}function ur(e,t,r,n,a){return ue(this,void 0,void 0,function*(){return gc(e,"POST",t,n,a,r)})}function uf(e,t,r,n,a){return ue(this,void 0,void 0,function*(){return gc(e,"PUT",t,n,a,r)})}function $O(e,t,r,n){return ue(this,void 0,void 0,function*(){return gc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lx(e,t,r,n,a){return ue(this,void 0,void 0,function*(){return gc(e,"DELETE",t,n,a,r)})}class qO{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var T2;class UO{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[T2]="BlobDownloadBuilder",this.promise=null}asStream(){return new qO(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}T2=Symbol.toStringTag;const zO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BO{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ox(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Yv),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),p=yield(t=="PUT"?uf:ur)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let l;const d=Object.assign({upsert:Yv.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const p=yield uf(this.fetch,c.toString(),l,{headers:u});return{data:{path:i,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new ix("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ue(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ue(this,void 0,void 0,function*(){try{const a=yield ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",c=this._getFinalPath(t),l=()=>Hl(this.fetch,`${this.url}/${a}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new UO(l,this.shouldThrowOnError)}info(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Hl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:df(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $O(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof cf){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${d}`)}}}remove(t){return ue(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ue(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},zO),r),{prefix:t||""});return{data:yield ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listV2(t,r){return ue(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const A2="2.81.1",R2={"X-Client-Info":`storage-js/${A2}`};class VO{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R2),r),this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ue(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Hl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Hl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(t){return ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class WO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R2),r),this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Hl(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}const cx={"X-Client-Info":`storage-js/${A2}`,"Content-Type":"application/json"};class O2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Nm extends O2{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class HO extends O2{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Jv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Jv||(Jv={}));const dx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GO=(e,t,r)=>ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Nm(Qv(o),a,c))}).catch(()=>{const o=a+"",c=i.statusText||`HTTP ${a} error`;t(new Nm(c,a,o))});else{const o=a+"",c=i.statusText||`HTTP ${a} error`;t(new Nm(c,a,o))}}else t(new HO(Qv(e),e))}),YO=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(KO(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function JO(e,t,r,n,a,i){return ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,YO(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const d=l.headers.get("content-type");return!d||!d.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>GO(l,c,n))})})}function Es(e,t,r,n,a){return ue(this,void 0,void 0,function*(){return JO(e,"POST",t,n,a,r)})}class QO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cx),r),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Es(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}})}listIndexes(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:(yield Es(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}})}}class XO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cx),r),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Es(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}getVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}listVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Es(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}queryVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Es(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}}class ZO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cx),r),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Es(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}listBuckets(){return ue(this,arguments,void 0,function*(t={}){try{return{data:yield Es(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Es(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}})}}class eD extends ZO{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new tD(this.url,this.headers,t,this.fetch)}}class tD extends QO{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new sD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class sD extends XO{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class rD extends VO{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new BO(this.url,this.headers,t,this.fetch)}get vectors(){return new eD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WO(this.url+"/iceberg",this.headers,this.fetch)}}const nD="2.81.1";let al="";typeof Deno<"u"?al="deno":typeof document<"u"?al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?al="react-native":al="node";const aD={"X-Client-Info":`supabase-js-${al}/${nD}`},iD={headers:aD},oD={schema:"public"},lD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cD={},dD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uD=()=>Headers,hD=(e,t,r)=>{const n=dD(r),a=uD();return async(i,o)=>{var c;const l=(c=await t())!==null&&c!==void 0?c:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:d}))}};function mD(e){return e.endsWith("/")?e:e+"/"}function pD(e,t){var r,n;const{db:a,auth:i,realtime:o,global:c}=e,{db:l,auth:d,realtime:u,global:p}=t,m={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function fD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D2="2.81.1",Ei=30*1e3,hf=3,Sm=hf*Ei,gD="http://localhost:9999",xD="supabase.auth.token",yD={"X-Client-Info":`gotrue-js/${D2}`},mf="X-Supabase-Api-Version",I2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bD=10*60*1e3;class Kl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jD extends Kl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wD(e){return ge(e)&&e.name==="AuthApiError"}class Oa extends Kl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wa extends Kl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ir extends wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _D(e){return ge(e)&&e.name==="AuthSessionMissingError"}class xi extends wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ad extends wa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class id extends wa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ND(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xv extends wa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pf extends wa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function km(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class Zv extends wa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ff extends wa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eb=` 	
\r=`.split(""),SD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eb.length;t+=1)e[eb[t].charCodeAt(0)]=-2;for(let t=0;t<lu.length;t+=1)e[lu[t].charCodeAt(0)]=t;return e})();function tb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lu[n]),t.queuedBits-=6}}function L2(e,t,r){const n=SD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{ED(o,n,r)};for(let o=0;o<e.length;o+=1)L2(e.charCodeAt(o),a,i);return t.join("")}function kD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}kD(n,t)}}function ED(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Xi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)L2(e.charCodeAt(a),r,n);return new Uint8Array(t)}function PD(e){const t=[];return CD(e,r=>t.push(r)),new Uint8Array(t)}function Fa(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>tb(a,r,n)),tb(null,r,n),t.join("")}function TD(e){return Math.round(Date.now()/1e3)+e}function AD(){return Symbol("auth-callback")}const $t=()=>typeof window<"u"&&typeof document<"u",Sa={tested:!1,writable:!1},M2=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sa.tested)return Sa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sa.tested=!0,Sa.writable=!0}catch{Sa.tested=!0,Sa.writable=!1}return Sa.writable};function RD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const F2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ka=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pn=async(e,t)=>{await e.removeItem(t)};class ph{constructor(){this.promise=new ph.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ph.promiseConstructor=Promise;function Cm(e){const t=e.split(".");if(t.length!==3)throw new ff("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vD.test(t[n]))throw new ff("JWT not in base64url format");return{header:JSON.parse(sb(t[0])),payload:JSON.parse(sb(t[1])),signature:Xi(t[2]),raw:{header:t[0],payload:t[1]}}}async function DD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ID(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function LD(e){return("0"+e.toString(16)).substr(-2)}function MD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,LD).join("")}async function FD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function $D(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await FD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(e,t,r=!1){const n=MD();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Pi(e,`${t}-code-verifier`,a);const i=await $D(n);return[i,n===i?"plain":"s256"]}const qD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UD(e){const t=e.headers.get(mf);if(!t||!t.match(qD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function BD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(e){if(!VD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Em(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WD(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function rb(e){return JSON.parse(JSON.stringify(e))}const Pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HD=[502,503,504];async function nb(e){var t;if(!OD(e))throw new pf(Pa(e),0);if(HD.includes(e.status))throw new pf(Pa(e),e.status);let r;try{r=await e.json()}catch(i){throw new Oa(Pa(i),i)}let n;const a=UD(e);if(a&&a.getTime()>=I2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zv(Pa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ir}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Zv(Pa(r),e.status,r.weak_password.reasons);throw new jD(Pa(r),e.status||500,n)}const KD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function je(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[mf]||(i[mf]=I2["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await GD(e,t,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function GD(e,t,r,n,a,i){const o=KD(t,n,a,i);let c;try{c=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new pf(Pa(l),0)}if(c.ok||await nb(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await nb(l)}}function or(e){var t;let r=null;QD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ab(e){const t=or(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $n(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YD(e){return{data:e,error:null}}function JD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=va(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function ib(e){return e}function QD(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pm=["global","local","others"];class XD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=F2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Pm[0]){if(Pm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pm.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$n})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=va(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:JD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$n})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,c,l;try{const d={nextPage:null,lastPage:0,total:0},u=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ib});if(u.error)throw u.error;const p=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ge(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){vi(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$n})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vi(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:$n})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vi(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:$n})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vi(t.userId);try{const{data:r,error:n}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vi(t.userId),vi(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,c,l;try{const d={nextPage:null,lastPage:0,total:0},u=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ib});if(u.error)throw u.error;const p=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ge(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}}function ob(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const bi={debug:!!(globalThis&&M2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZD extends $2{}async function eI(e,t,r){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function q2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sI(e){return parseInt(e,16)}function rI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function nI(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:l,resources:d,scheme:u,uri:p,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=q2(e.address),y=u?`${u}://${n}`:n,x=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${h}

${x}`;let g=`URI: ${p}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),c&&(g+=`
Not Before: ${c.toISOString()}`),l&&(g+=`
Request ID: ${l}`),d){let v=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);v+=`
- ${j}`}g+=v}return`${b}
${g}`}class St extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class cu extends St{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function aI({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new St({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new St({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new St({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new St({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new St({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new St({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new St({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new St({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(U2(o)){if(i.rp.id!==o)return new St({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new St({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function iI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new St({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new St({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(U2(n)){if(r.rpId!==n)return new St({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class oI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lI=new oI;function cI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=va(e,["challenge","user","excludeCredentials"]),i=Xi(t).buffer,o=Object.assign(Object.assign({},r),{id:Xi(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];c.excludeCredentials[l]=Object.assign(Object.assign({},d),{id:Xi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function dI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=va(e,["challenge","allowCredentials"]),a=Xi(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Xi(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function uI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fa(new Uint8Array(a.authenticatorData)),clientDataJSON:Fa(new Uint8Array(a.clientDataJSON)),signature:Fa(new Uint8Array(a.signature)),userHandle:a.userHandle?Fa(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lb(){var e,t;return!!($t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cu("Browser returned unexpected credential type",t)}:{data:null,error:new cu("Empty credential response",t)}}catch(t){return{data:null,error:aI({error:t,options:e})}}}async function pI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cu("Browser returned unexpected credential type",t)}:{data:null,error:new cu("Empty credential response",t)}}catch(t){return{data:null,error:iI({error:t,options:e})}}}const fI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function du(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const c=n[i];t(c)?n[i]=du(c,o):n[i]=du(o)}else n[i]=o}return n}function xI(e,t){return du(fI,e,t||{})}function yI(e,t){return du(gI,e,t||{})}class vI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:c};const l=a??lI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=xI(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:p}=await mI({publicKey:d,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:p}}case"request":{const d=yI(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:p}=await pI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:p}}}}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new Oa("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Kl("rpId is required for WebAuthn authentication")};try{if(!lb())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:c};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new Oa("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Kl("rpId is required for WebAuthn registration")};try{if(!lb())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var p;return(p=u.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:c};const{data:l,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new Oa("Unexpected error in register",o)}}}}tI();const bI={url:gD,storageKey:xD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cb(e,t,r){return await r()}const ji={};class Gl{get jwks(){var t,r;return(r=(t=ji[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ji[this.storageKey]=Object.assign(Object.assign({},ji[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ji[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ji[this.storageKey]=Object.assign(Object.assign({},ji[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},bI),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Gl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&$t()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new XD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=F2(i.fetch),this.lock=i.lock||cb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:$t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=eI:this.lock=cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:M2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ob(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ob(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${D2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if($t()&&(r=RD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$t()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ND(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?this._returnResult({error:r}):this._returnResult({error:new Oa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:or}),{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:p,options:m}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await yi(this.storage,this.storageKey)),i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:y},xform:or})}else if("phone"in t){const{phone:u,password:p,options:m}=t;i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:or})}else throw new ad("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:c}=t;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ab})}else if("phone"in t){const{phone:i,password:o,options:c}=t;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ab})}else throw new ad("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new xi;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,c,l,d,u,p,m;let h,y;if("message"in t)h=t.message,y=t.signature;else{const{chain:x,wallet:b,statement:g,options:v}=t;let j;if($t())if(typeof b=="object")j=b;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")j=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const w=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),N=await j.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=q2(N[0]);let _=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const A=await j.request({method:"eth_chainId"});_=sI(A)}const C={domain:w.host,address:k,statement:g,uri:w.href,version:"1",chainId:_,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=nI(C),y=await j.request({method:"personal_sign",params:[rI(h),k]})}try{const{data:x,error:b}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:y},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:or});if(b)throw b;if(!x||!x.session||!x.user){const g=new xi;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(ge(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,a,i,o,c,l,d,u,p,m,h;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:b,wallet:g,statement:v,options:j}=t;let w;if($t())if(typeof g=="object")w=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const N=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=j==null?void 0:j.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(u=j==null?void 0:j.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:b,error:g}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Fa(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:or});if(g)throw g;if(!b||!b.session||!b.user){const v=new xi;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(ge(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await ka(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:or});if(await Pn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const c=new xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,c=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:or}),{data:l,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const u=new xi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:d})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:c,options:l}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await yi(this.storage,this.storageKey));const{error:p}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:l}=t,{data:d,error:u}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new ad("You must provide either an email or phone number.")}catch(c){if(ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:or});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await yi(this.storage,this.storageKey));const d=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:YD});return!((i=d.data)===null||i===void 0)&&i.url&&$t()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ir;const{error:a}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:c}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c})}throw new ad("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ka(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ka(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Em()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=WD(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$n}):await this._useSession(async r=>{var n,a,i;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ir}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:$n})})}catch(r){if(ge(r))return _D(r)&&(await this._removeSession(),await Pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ir;const o=a.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await yi(this.storage,this.storageKey));const{data:d,error:u}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:$n});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ir;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Cm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ir;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!$t())throw new id("No browser detected.");if(t.error||t.error_description||t.error_code)throw new id(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new id("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xv("No code detected.");const{data:v,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:c,expires_at:l,token_type:d}=t;if(!i||!c||!o||!d)throw new id("No session defined in URL");const u=Math.round(Date.now()/1e3),p=parseInt(c);let m=u+p;l&&(m=parseInt(l));const h=m-u;h*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${p}s`);const y=m-p;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,u);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:m,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ka(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(wD(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=AD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await yi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,c,l,d,u;const{data:p,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return $t()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ge(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:c,token:l,access_token:d,nonce:u}=t,p=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:or}),{data:m,error:h}=p;return h?this._returnResult({data:{user:null,session:null},error:h}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new xi}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:h}))}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ID(async a=>(a>0&&await DD(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:or})),(a,i)=>{const o=200*Math.pow(2,a);return i&&km(i)&&Date.now()+o-n<Ei})}catch(n){if(this._debug(r,"error",n),ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$t()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ka(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ka(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Pi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Em()}else if(a&&!a.user&&!a.user){const o=await ka(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Pn(this.storage,this.storageKey+"-user"),await Pi(this.storage,this.storageKey,a)):a.user=Em()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Sm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),km(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(a.access_token);!c&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ph;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ir;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),ge(i)){const o={data:null,error:i};return km(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=rb(a);await Pi(this.storage,this.storageKey,i)}else{const a=rb(r);await Pi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Pn(this.storage,this.storageKey),await Pn(this.storage,this.storageKey+"-code-verifier"),await Pn(this.storage,this.storageKey+"-user"),this.userStorage&&await Pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ei}ms, refresh threshold is ${hf} ticks`),a<=hf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await yi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:d}=await je(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?uI(t.webauthn.credential_response):hI(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:cI(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:dI(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cm(n.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ir})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ir});const o=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&$t()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ir});const o=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&$t()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+bD>a)return n;const{data:i,error:o}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:y}=await this.getSession();if(y||!h.session)return this._returnResult({data:null,error:y});n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:c,payload:l}}=Cm(n);r!=null&&r.allowExpired||zD(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const u=BD(a.alg),p=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,o,PD(`${c}.${l}`)))throw new ff("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}}Gl.nextInstanceID={};const jI=Gl;class wI extends jI{constructor(t){super(t)}}class _I{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const c=fD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:oD,realtime:cD,auth:Object.assign(Object.assign({},lD),{storageKey:l}),global:iD},u=pD(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=hD(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new gO(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new rD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new mO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:c,lock:l,debug:d,throwOnError:u},p,m){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wI({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),p),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:c,lock:l,debug:d,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new OO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NI=(e,t,r)=>new _I(e,t,r);function SI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}SI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kI="https://ocwlkljrjhgqejetgfgw.supabase.co",CI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9jd2xrbGpyamhncWVqZXRnZmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNjYwNTEsImV4cCI6MjA3ODk0MjA1MX0.hMW0hB8RUEXCEoCS88H2YvOlDBeyz9oEhEPJeF38jRE",L=NI(kI,CI,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function EI(){const{isAddressModalOpen:e,setIsAddressModalOpen:t,setShippingInfo:r,shippingInfo:n,processPendingItem:a}=xc(),[i,o]=f.useState(n.address||""),[c,l]=f.useState(n.wilayaCode||""),[d,u]=f.useState(n.deliveryType),[p,m]=f.useState(!1),[h,y]=f.useState(!1),[x,b]=f.useState(""),[g,v]=f.useState({});f.useEffect(()=>{e&&j()},[e]);const j=async()=>{y(!0);try{const{data:_}=await L.from("settings").select("value").eq("key","shipping_rates").single();_!=null&&_.value&&v(JSON.parse(_.value))}catch(_){console.error("Error loading shipping rates",_)}finally{y(!1)}},w=()=>{if(!c||!i.trim()){b("Please fill in address and wilaya.");return}if(!d){b("Please select a delivery method.");return}m(!0),setTimeout(()=>{r({address:i,wilayaCode:c,deliveryType:d}),a(),t(!1),m(!1)},500)},k=(()=>{if(!c)return null;const _=g[c]||{};let C=!0,A=!0,E=0,S=0;return typeof _=="number"?(E=_,S=_):(C=_.isHomeEnabled!==!1,A=_.isDeskEnabled!==!1,E=parseFloat(_.homePrice)||0,S=parseFloat(_.deskPrice)||0),{homeEnabled:C,deskEnabled:A,homePrice:E,deskPrice:S}})();return s.jsx(at,{open:e,onOpenChange:t,children:s.jsxs(st,{className:"sm:max-w-[500px]",children:[s.jsxs(vt,{children:[s.jsx(bt,{children:"Shipping Details Required"}),s.jsx(Is,{children:"Select your location and preferred delivery method for accurate pricing."})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"wilaya",children:"Wilaya"}),s.jsxs(Ee,{value:c,onValueChange:_=>{l(_),u(void 0),b("")},children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:"Select a Wilaya"})}),s.jsx(Ce,{className:"max-h-[250px]",children:sx.map(_=>s.jsxs(K,{value:_.code,children:[_.code," - ",_.name]},_.code))})]})]}),c&&k&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(P,{children:"Delivery Method"}),h?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(we,{className:"h-3 w-3 animate-spin"})," Loading rates..."]}):s.jsxs(ia,{value:d,onValueChange:_=>{u(_),b("")},children:[k.homeEnabled&&s.jsxs("div",{className:`flex items-center justify-between space-x-2 border p-3 rounded-md cursor-pointer transition-colors ${d==="home"?"border-primary bg-primary/5":"hover:bg-muted/50"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{value:"home",id:"r-home"}),s.jsxs(P,{htmlFor:"r-home",className:"cursor-pointer flex items-center gap-2 font-medium",children:[s.jsx(Xw,{className:"h-4 w-4 text-muted-foreground"}),"Home Delivery"]})]}),s.jsxs("span",{className:"font-bold text-primary",children:[k.homePrice," DZD"]})]}),k.deskEnabled&&s.jsxs("div",{className:`flex items-center justify-between space-x-2 border p-3 rounded-md cursor-pointer transition-colors ${d==="desk"?"border-primary bg-primary/5":"hover:bg-muted/50"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{value:"desk",id:"r-desk"}),s.jsxs(P,{htmlFor:"r-desk",className:"cursor-pointer flex items-center gap-2 font-medium",children:[s.jsx(dT,{className:"h-4 w-4 text-muted-foreground"}),"Stopdesk (Office)"]})]}),s.jsxs("span",{className:"font-bold text-primary",children:[k.deskPrice," DZD"]})]}),!k.homeEnabled&&!k.deskEnabled&&s.jsx("div",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded border border-yellow-200",children:"No delivery options available for this Wilaya currently."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"address",children:"Full Address"}),s.jsx(He,{id:"address",placeholder:"Street number, Building, Floor...",value:i,onChange:_=>{o(_.target.value),b("")},className:"resize-none",rows:2})]}),x&&s.jsxs("div",{className:"text-sm text-destructive font-medium bg-destructive/10 p-2 rounded flex items-center gap-2",children:[s.jsx("div",{className:"h-1 w-1 rounded-full bg-destructive"}),x]})]}),s.jsx(vs,{children:s.jsx(D,{onClick:w,disabled:p||c&&!(k!=null&&k.homeEnabled)&&!(k!=null&&k.deskEnabled),children:p?s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Shipping"})})]})})}const z2=f.createContext(void 0),PI=({children:e})=>{const[t,r]=f.useState([]),{toast:n}=Ne(),[a,i]=f.useState({}),[o,c]=f.useState(!1),[l,d]=f.useState(null);f.useEffect(()=>{const g=localStorage.getItem("cart");g&&r(JSON.parse(g))},[]),f.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const u=g=>{if(!g.productUrl&&(!a.wilayaCode||!a.address||!a.deliveryType)){d(g),c(!0);return}r(j=>{const w=j.find(N=>N.id===g.id);return w?g.stockQuantity!==null&&g.stockQuantity!==void 0&&w.quantity>=g.stockQuantity?(n({title:"Stock Limit Reached",description:`You cannot add more of ${g.name}. Only ${g.stockQuantity} available.`,variant:"destructive"}),j):(n({title:"Added to cart",description:`Increased quantity of ${g.name}`}),j.map(N=>N.id===g.id?{...N,quantity:N.quantity+1}:N)):g.stockQuantity!==null&&g.stockQuantity!==void 0&&g.stockQuantity<1?(n({title:"Out of Stock",description:`${g.name} is out of stock.`,variant:"destructive"}),j):(n({title:"Added to cart",description:`${g.name} has been added to your cart`}),[...j,{id:g.id,name:g.name,price:g.price,image:g.images&&g.images.length>0?g.images[0]:void 0,quantity:1,stockQuantity:g.stockQuantity,slug:g.slug,productUrl:g.productUrl,notes:g.notes,referralCode:g.referralCode,shippingPrice:g.shippingPrice}])})},p=()=>{if(l){const g=l;r(v=>v.find(w=>w.id===g.id)?(n({title:"Added to cart",description:`Increased quantity of ${g.name}`}),v.map(w=>w.id===g.id?{...w,quantity:w.quantity+1}:w)):(n({title:"Added to cart",description:`${g.name} has been added to your cart`}),[...v,{id:g.id,name:g.name,price:g.price,image:g.images&&g.images.length>0?g.images[0]:void 0,quantity:1,slug:g.slug,productUrl:g.productUrl,notes:g.notes,referralCode:g.referralCode,shippingPrice:g.shippingPrice}])),d(null)}},m=g=>{r(v=>v.filter(j=>j.id!==g))},h=(g,v)=>{if(v<1){m(g);return}r(j=>j.map(w=>w.id===g?{...w,quantity:v}:w))},y=()=>{r([]),localStorage.removeItem("cart")},x=t.reduce((g,v)=>g+v.price*v.quantity,0),b=t.reduce((g,v)=>g+v.quantity,0);return s.jsxs(z2.Provider,{value:{items:t,addItem:u,removeItem:m,updateQuantity:h,clearCart:y,cartTotal:x,itemCount:b,shippingInfo:a,setShippingInfo:i,isAddressModalOpen:o,setIsAddressModalOpen:c,processPendingItem:p},children:[e,s.jsx(EI,{})]})},xc=()=>{const e=f.useContext(z2);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}var Kn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kn||(Kn={}));const db="popstate";function TI(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:c}=n.location;return gf("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:uu(a)}return RI(t,r,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AI(){return Math.random().toString(36).substr(2,8)}function ub(e,t){return{usr:e.state,key:e.key,idx:t}}function gf(e,t,r,n){return r===void 0&&(r=null),Yl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Io(t):t,{state:r,key:t&&t.key||n||AI()})}function uu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Io(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function RI(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c=Kn.Pop,l=null,d=u();d==null&&(d=0,o.replaceState(Yl({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function p(){c=Kn.Pop;let b=u(),g=b==null?null:b-d;d=b,l&&l({action:c,location:x.location,delta:g})}function m(b,g){c=Kn.Push;let v=gf(x.location,b,g);d=u()+1;let j=ub(v,d),w=x.createHref(v);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&l&&l({action:c,location:x.location,delta:1})}function h(b,g){c=Kn.Replace;let v=gf(x.location,b,g);d=u();let j=ub(v,d),w=x.createHref(v);o.replaceState(j,"",w),i&&l&&l({action:c,location:x.location,delta:0})}function y(b){let g=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof b=="string"?b:uu(b);return v=v.replace(/ $/,"%20"),wt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let x={get action(){return c},get location(){return e(a,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(db,p),l=b,()=>{a.removeEventListener(db,p),l=null}},createHref(b){return t(a,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:h,go(b){return o.go(b)}};return x}var hb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hb||(hb={}));function OI(e,t,r){return r===void 0&&(r="/"),DI(e,t,r,!1)}function DI(e,t,r,n){let a=typeof t=="string"?Io(t):t,i=ux(a.pathname||"/",r);if(i==null)return null;let o=V2(e);II(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let d=HI(i);c=VI(o[l],d,n)}return c}function V2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let d=oa([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),V2(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:zI(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let l of W2(i.path))a(i,o,l)}),t}function W2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=W2(n.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function II(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:BI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const LI=/^:[\w-]+$/,MI=3,FI=2,$I=1,qI=10,UI=-2,mb=e=>e==="*";function zI(e,t){let r=e.split("/"),n=r.length;return r.some(mb)&&(n+=UI),t&&(n+=FI),r.filter(a=>!mb(a)).reduce((a,i)=>a+(LI.test(i)?MI:i===""?$I:qI),n)}function BI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function VI(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let c=0;c<n.length;++c){let l=n[c],d=c===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",p=pb({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),m=l.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=pb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:oa([i,p.pathname]),pathnameBase:JI(oa([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=oa([i,p.pathnameBase]))}return o}function pb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,u,p)=>{let{paramName:m,isOptional:h}=u;if(m==="*"){let x=c[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=c[p];return h&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function WI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),B2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function HI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return B2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ux(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function KI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Io(e):e;return{pathname:r?r.startsWith("/")?r:GI(r,t):t,search:QI(n),hash:XI(a)}}function GI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Tm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hx(e,t){let r=YI(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mx(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Io(e):(a=Yl({},e),wt(!a.pathname||!a.pathname.includes("?"),Tm("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),Tm("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),Tm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;a.pathname=m.join("/")}c=p>=0?t[p]:"/"}let l=KI(a,c),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const oa=e=>e.join("/").replace(/\/\/+/g,"/"),JI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const H2=["post","put","patch","delete"];new Set(H2);const e6=["get",...H2];new Set(e6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}const px=f.createContext(null),t6=f.createContext(null),_a=f.createContext(null),fh=f.createContext(null),bn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),K2=f.createContext(null);function s6(e,t){let{relative:r}=t===void 0?{}:t;Lo()||wt(!1);let{basename:n,navigator:a}=f.useContext(_a),{hash:i,pathname:o,search:c}=Y2(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:oa([n,o])),a.createHref({pathname:l,search:c,hash:i})}function Lo(){return f.useContext(fh)!=null}function $s(){return Lo()||wt(!1),f.useContext(fh).location}function G2(e){f.useContext(_a).static||f.useLayoutEffect(e)}function Et(){let{isDataRoute:e}=f.useContext(bn);return e?f6():r6()}function r6(){Lo()||wt(!1);let e=f.useContext(px),{basename:t,future:r,navigator:n}=f.useContext(_a),{matches:a}=f.useContext(bn),{pathname:i}=$s(),o=JSON.stringify(hx(a,r.v7_relativeSplatPath)),c=f.useRef(!1);return G2(()=>{c.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!c.current)return;if(typeof d=="number"){n.go(d);return}let p=mx(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:oa([t,p.pathname])),(u.replace?n.replace:n.push)(p,u.state,u)},[t,n,o,i,e])}function Mo(){let{matches:e}=f.useContext(bn),t=e[e.length-1];return t?t.params:{}}function Y2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(_a),{matches:a}=f.useContext(bn),{pathname:i}=$s(),o=JSON.stringify(hx(a,n.v7_relativeSplatPath));return f.useMemo(()=>mx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function n6(e,t){return a6(e,t)}function a6(e,t,r,n){Lo()||wt(!1);let{navigator:a}=f.useContext(_a),{matches:i}=f.useContext(bn),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=$s(),u;if(t){var p;let b=typeof t=="string"?Io(t):t;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||wt(!1),u=b}else u=d;let m=u.pathname||"/",h=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=OI(e,{pathname:h}),x=d6(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:oa([l,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:oa([l,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&x?f.createElement(fh.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Kn.Pop}},x):x}function i6(){let e=p6(),t=ZI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const o6=f.createElement(i6,null);class l6 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(bn.Provider,{value:this.props.routeContext},f.createElement(K2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c6(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(px);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(bn.Provider,{value:t},n)}function d6(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let u=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);u>=0||wt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let p=o[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=u),p.route.id){let{loaderData:m,errors:h}=r,y=p.route.loader&&m[p.route.id]===void 0&&(!h||h[p.route.id]===void 0);if(p.route.lazy||y){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,p,m)=>{let h,y=!1,x=null,b=null;r&&(h=c&&p.route.id?c[p.route.id]:void 0,x=p.route.errorElement||o6,l&&(d<0&&m===0?(y=!0,b=null):d===m&&(y=!0,b=p.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),v=()=>{let j;return h?j=x:y?j=b:p.route.Component?j=f.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=u,f.createElement(c6,{match:p,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?f.createElement(l6,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var J2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(J2||{}),hu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hu||{});function u6(e){let t=f.useContext(px);return t||wt(!1),t}function h6(e){let t=f.useContext(t6);return t||wt(!1),t}function m6(e){let t=f.useContext(bn);return t||wt(!1),t}function Q2(e){let t=m6(),r=t.matches[t.matches.length-1];return r.route.id||wt(!1),r.route.id}function p6(){var e;let t=f.useContext(K2),r=h6(hu.UseRouteError),n=Q2(hu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function f6(){let{router:e}=u6(J2.UseNavigateStable),t=Q2(hu.UseNavigateStable),r=f.useRef(!1);return G2(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Jl({fromRouteId:t},i)))},[e,t])}function g6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tn(e){let{to:t,replace:r,state:n,relative:a}=e;Lo()||wt(!1);let{future:i,static:o}=f.useContext(_a),{matches:c}=f.useContext(bn),{pathname:l}=$s(),d=Et(),u=mx(t,hx(c,i.v7_relativeSplatPath),l,a==="path"),p=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(p),{replace:r,state:n,relative:a}),[d,p,a,r,n]),null}function ve(e){wt(!1)}function x6(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Kn.Pop,navigator:i,static:o=!1,future:c}=e;Lo()&&wt(!1);let l=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:l,navigator:i,static:o,future:Jl({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof n=="string"&&(n=Io(n));let{pathname:u="/",search:p="",hash:m="",state:h=null,key:y="default"}=n,x=f.useMemo(()=>{let b=ux(u,l);return b==null?null:{location:{pathname:b,search:p,hash:m,state:h,key:y},navigationType:a}},[l,u,p,m,h,y,a]);return x==null?null:f.createElement(_a.Provider,{value:d},f.createElement(fh.Provider,{children:r,value:x}))}function y6(e){let{children:t,location:r}=e;return n6(xf(t),r)}new Promise(()=>{});function xf(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let i=[...t,a];if(n.type===f.Fragment){r.push.apply(r,xf(n.props.children,i));return}n.type!==ve&&wt(!1),!n.props.index||!n.props.children||wt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xf(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function v6(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function b6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function j6(e,t){return e.button===0&&(!t||t==="_self")&&!b6(e)}function vf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function w6(e,t){let r=vf(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const _6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N6="6";try{window.__reactRouterVersion=N6}catch{}const S6="startTransition",fb=Rf[S6];function k6(e){let{basename:t,children:r,future:n,window:a}=e,i=f.useRef();i.current==null&&(i.current=TI({window:a,v5Compat:!0}));let o=i.current,[c,l]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=f.useCallback(p=>{d&&fb?fb(()=>l(p)):l(p)},[l,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>g6(n),[n]),f.createElement(x6,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const C6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:c,target:l,to:d,preventScrollReset:u,viewTransition:p}=t,m=v6(t,_6),{basename:h}=f.useContext(_a),y,x=!1;if(typeof d=="string"&&E6.test(d)&&(y=d,C6))try{let j=new URL(window.location.href),w=d.startsWith("//")?new URL(j.protocol+d):new URL(d),N=ux(w.pathname,h);w.origin===j.origin&&N!=null?d=N+w.search+w.hash:x=!0}catch{}let b=s6(d,{relative:a}),g=P6(d,{replace:o,state:c,target:l,preventScrollReset:u,relative:a,viewTransition:p});function v(j){n&&n(j),j.defaultPrevented||g(j)}return f.createElement("a",yf({},m,{href:y||b,onClick:x||i?n:v,ref:r,target:l}))});var gb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gb||(gb={}));var xb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xb||(xb={}));function P6(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:c}=t===void 0?{}:t,l=Et(),d=$s(),u=Y2(e,{relative:o});return f.useCallback(p=>{if(j6(p,r)){p.preventDefault();let m=n!==void 0?n:uu(d)===uu(u);l(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:c})}},[d,l,u,n,a,r,e,i,o,c])}function fx(e){let t=f.useRef(vf(e)),r=f.useRef(!1),n=$s(),a=f.useMemo(()=>w6(n.search,r.current?null:t.current),[n.search]),i=Et(),o=f.useCallback((c,l)=>{const d=vf(typeof c=="function"?c(a):c);r.current=!0,i("?"+d,l)},[i,a]);return[a,o]}const X2="/assets/logo-BLtYKXr6.png";var T6={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const A6=Cf(T6);var R6=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function yb(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(A6[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var a=new RegExp(R6),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),c=[o,""];o.indexOf("=")>-1&&(c=o.split("=")),t.attrs[c[0]]=c[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var O6=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,D6=/^\s*$/,I6=Object.create(null);function Z2(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var a in r)n.push(a+'="'+r[a]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Z2,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var L6={parse:function(e,t){t||(t={}),t.components||(t.components=I6);var r,n=[],a=[],i=-1,o=!1;if(e.indexOf("<")!==0){var c=e.indexOf("<");n.push({type:"text",content:c===-1?e:e.substring(0,c)})}return e.replace(O6,function(l,d){if(o){if(l!=="</"+r.name+">")return;o=!1}var u,p=l.charAt(1)!=="/",m=l.startsWith("<!--"),h=d+l.length,y=e.charAt(h);if(m){var x=yb(l);return i<0?(n.push(x),n):((u=a[i]).children.push(x),n)}if(p&&(i++,(r=yb(l)).type==="tag"&&t.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!y||y==="<"||r.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),i===0&&n.push(r),(u=a[i-1])&&u.children.push(r),a[i]=r),(!p||r.voidElement)&&(i>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(i--,r=i===-1?n:a[i]),!o&&y!=="<"&&y)){u=i===-1?n:a[i].children;var b=e.indexOf("<",h),g=e.slice(h,b===-1?void 0:b);D6.test(g)&&(g=" "),(b>-1&&i+u.length>=0||g!==" ")&&u.push({type:"text",content:g})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+Z2("",r)},"")}};const Sd=(e,t,r,n)=>{var i,o,c,l;const a=[r,{code:t,...n||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Ks(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(l=(c=e==null?void 0:e.services)==null?void 0:c.logger)!=null&&l.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},vb={},Ql=(e,t,r,n)=>{Ks(r)&&vb[r]||(Ks(r)&&(vb[r]=new Date),Sd(e,t,r,n))},eS=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},bf=(e,t,r)=>{e.loadNamespaces(t,eS(e,r))},bb=(e,t,r,n)=>{if(Ks(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return bf(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,eS(e,n))},M6=(e,t,r={})=>!t.languages||!t.languages.length?(Ql(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),Ks=e=>typeof e=="string",Gn=e=>typeof e=="object"&&e!==null,F6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},q6=e=>$6[e],U6=e=>e.replace(F6,q6);let jf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:U6};const z6=(e={})=>{jf={...jf,...e}},tS=()=>jf;let sS;const B6=e=>{sS=e},gx=()=>sS,Am=(e,t)=>{var n;if(!e)return!1;const r=((n=e.props)==null?void 0:n.children)??e.children;return t?r.length>0:!!r},Rm=e=>{var r,n;if(!e)return[];const t=((r=e.props)==null?void 0:r.children)??e.children;return(n=e.props)!=null&&n.i18nIsDynamicList?zi(t):t},V6=e=>Array.isArray(e)&&e.every(f.isValidElement),zi=e=>Array.isArray(e)?e:[e],W6=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},rS=(e,t,r,n)=>{if(!e)return"";let a="";const i=zi(e),o=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return i.forEach((c,l)=>{if(Ks(c)){a+=`${c}`;return}if(f.isValidElement(c)){const{props:d,type:u}=c,p=Object.keys(d).length,m=o.indexOf(u)>-1,h=d.children;if(!h&&m&&!p){a+=`<${u}/>`;return}if(!h&&(!m||p)||d.i18nIsDynamicList){a+=`<${l}></${l}>`;return}if(m&&p===1&&Ks(h)){a+=`<${u}>${h}</${u}>`;return}const y=rS(h,t,r,n);a+=`<${l}>${y}</${l}>`;return}if(c===null){Sd(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(Gn(c)){const{format:d,...u}=c,p=Object.keys(u);if(p.length===1){const m=d?`${p[0]}, ${d}`:p[0];a+=`{{${m}}}`;return}Sd(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:c});return}Sd(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:c})}),a},H6=(e,t,r,n,a,i,o)=>{if(r==="")return[];const c=a.transKeepBasicHtmlNodesFor||[],l=r&&new RegExp(c.map(g=>`<${g}`).join("|")).test(r);if(!e&&!t&&!l&&!o)return[r];const d=t??{},u=g=>{zi(g).forEach(j=>{Ks(j)||(Am(j)?u(Rm(j)):Gn(j)&&!f.isValidElement(j)&&Object.assign(d,j))})};u(e);const p=L6.parse(`<0>${r}</0>`),m={...d,...i},h=(g,v,j)=>{var k;const w=Rm(g),N=x(w,v.children,j);return V6(w)&&N.length===0||(k=g.props)!=null&&k.i18nIsDynamicList?w:N},y=(g,v,j,w,N)=>{g.dummy?(g.children=v,j.push(f.cloneElement(g,{key:w},N?void 0:v))):j.push(...f.Children.map([g],k=>{const _={...k.props};return delete _.i18nIsDynamicList,f.createElement(k.type,{..._,key:w,ref:k.props.ref??k.ref},N?null:v)}))},x=(g,v,j)=>{const w=zi(g);return zi(v).reduce((k,_,C)=>{var E,S;const A=((S=(E=_.children)==null?void 0:E[0])==null?void 0:S.content)&&n.services.interpolator.interpolate(_.children[0].content,m,n.language);if(_.type==="tag"){let T=w[parseInt(_.name,10)];!T&&t&&(T=t[_.name]),j.length===1&&!T&&(T=j[0][_.name]),T||(T={});const R=Object.keys(_.attrs).length!==0?W6({props:_.attrs},T):T,I=f.isValidElement(R),z=I&&Am(_,!0)&&!_.voidElement,U=l&&Gn(R)&&R.dummy&&!I,F=Gn(t)&&Object.hasOwnProperty.call(t,_.name);if(Ks(R)){const O=n.services.interpolator.interpolate(R,m,n.language);k.push(O)}else if(Am(R)||z){const O=h(R,_,j);y(R,O,k,C)}else if(U){const O=x(w,_.children,j);y(R,O,k,C)}else if(Number.isNaN(parseFloat(_.name)))if(F){const O=h(R,_,j);y(R,O,k,C,_.voidElement)}else if(a.transSupportBasicHtmlNodes&&c.indexOf(_.name)>-1)if(_.voidElement)k.push(f.createElement(_.name,{key:`${_.name}-${C}`}));else{const O=x(w,_.children,j);k.push(f.createElement(_.name,{key:`${_.name}-${C}`},O))}else if(_.voidElement)k.push(`<${_.name} />`);else{const O=x(w,_.children,j);k.push(`<${_.name}>${O}</${_.name}>`)}else if(Gn(R)&&!I){const O=_.children[0]?A:null;O&&k.push(O)}else y(R,A,k,C,_.children.length!==1||!A)}else if(_.type==="text"){const T=a.transWrapTextNodes,R=o?a.unescape(n.services.interpolator.interpolate(_.content,m,n.language)):n.services.interpolator.interpolate(_.content,m,n.language);T?k.push(f.createElement(T,{key:`${_.name}-${C}`},R)):k.push(R)}return k},[])},b=x([{dummy:!0,children:e||[]}],p,zi(e||[]));return Rm(b[0])},nS=(e,t,r)=>{const n=e.key||t,a=f.cloneElement(e,{key:n});if(!a.props||!a.props.children||r.indexOf(`${t}/>`)<0&&r.indexOf(`${t} />`)<0)return a;function i(){return f.createElement(f.Fragment,null,a)}return f.createElement(i,{key:n})},K6=(e,t)=>e.map((r,n)=>nS(r,n,t)),G6=(e,t)=>{const r={};return Object.keys(e).forEach(n=>{Object.assign(r,{[n]:nS(e[n],n,t)})}),r},Y6=(e,t,r,n)=>e?Array.isArray(e)?K6(e,t):Gn(e)?G6(e,t):(Ql(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null,J6=e=>!Gn(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,r)=>t&&Number.isNaN(Number.parseFloat(r)),!0);function Q6({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:d,i18n:u,t:p,shouldUnescape:m,...h}){var I,z,U,F,O,$;const y=u||gx();if(!y)return Ql(y,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const x=p||y.t.bind(y)||(H=>H),b={...tS(),...(I=y.options)==null?void 0:I.react};let g=d||x.ns||((z=y.options)==null?void 0:z.defaultNS);g=Ks(g)?[g]:g||["translation"];const v=rS(e,b,y,n),j=c||v||b.transEmptyNodeValue||n,{hashTransKey:w}=b,N=n||(w?w(v||j):v||j);(F=(U=y.options)==null?void 0:U.interpolation)!=null&&F.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...y.options.interpolation.defaultVariables}:{...y.options.interpolation.defaultVariables});const k=o||t!==void 0&&!(($=(O=y.options)==null?void 0:O.interpolation)!=null&&$.alwaysFormat)||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},_={...i,context:a||i.context,count:t,...o,...k,defaultValue:j,ns:g},C=N?x(N,_):j,A=Y6(l,C,y,n);let E=A||e,S=null;J6(A)&&(S=A,E=e);const T=H6(E,S,C,y,b,_,m),R=r??b.defaultTransParent;return R?f.createElement(R,h,T):T}const X6={type:"3rdParty",init(e){z6(e.options.react),B6(e)}},aS=f.createContext();class Z6{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function xt({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:d,i18n:u,t:p,shouldUnescape:m,...h}){var v;const{i18n:y,defaultNS:x}=f.useContext(aS)||{},b=u||y||gx(),g=p||(b==null?void 0:b.t.bind(b));return Q6({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:i,values:o,defaults:c,components:l,ns:d||(g==null?void 0:g.ns)||x||((v=b==null?void 0:b.options)==null?void 0:v.defaultNS),i18n:b,t:p,shouldUnescape:m,...h})}const eL=(e,t)=>{const r=f.useRef();return f.useEffect(()=>{r.current=e},[e,t]),r.current},iS=(e,t,r,n)=>e.getFixedT(t,r,n),tL=(e,t,r,n)=>f.useCallback(iS(e,t,r,n),[e,t,r,n]),ye=(e,t={})=>{var w,N,k,_;const{i18n:r}=t,{i18n:n,defaultNS:a}=f.useContext(aS)||{},i=r||n||gx();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Z6),!i){Ql(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(E,S)=>Ks(S)?S:Gn(S)&&Ks(S.defaultValue)?S.defaultValue:Array.isArray(E)?E[E.length-1]:E,A=[C,{},!1];return A.t=C,A.i18n={},A.ready=!1,A}(w=i.options.react)!=null&&w.wait&&Ql(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...tS(),...i.options.react,...t},{useSuspense:c,keyPrefix:l}=o;let d=a||((N=i.options)==null?void 0:N.defaultNS);d=Ks(d)?[d]:d||["translation"],(_=(k=i.reportNamespaces).addUsedNamespaces)==null||_.call(k,d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(C=>M6(C,i,o)),p=tL(i,t.lng||null,o.nsMode==="fallback"?d:d[0],l),m=()=>p,h=()=>iS(i,t.lng||null,o.nsMode==="fallback"?d:d[0],l),[y,x]=f.useState(m);let b=d.join();t.lng&&(b=`${t.lng}${b}`);const g=eL(b),v=f.useRef(!0);f.useEffect(()=>{const{bindI18n:C,bindI18nStore:A}=o;v.current=!0,!u&&!c&&(t.lng?bb(i,t.lng,d,()=>{v.current&&x(h)}):bf(i,d,()=>{v.current&&x(h)})),u&&g&&g!==b&&v.current&&x(h);const E=()=>{v.current&&x(h)};return C&&(i==null||i.on(C,E)),A&&(i==null||i.store.on(A,E)),()=>{v.current=!1,i&&C&&(C==null||C.split(" ").forEach(S=>i.off(S,E))),A&&i&&A.split(" ").forEach(S=>i.store.off(S,E))}},[i,b]),f.useEffect(()=>{v.current&&u&&x(m)},[i,l,u]);const j=[y,i,u];if(j.t=y,j.i18n=i,j.ready=u,u||!u&&!c)return j;throw new Promise(C=>{t.lng?bb(i,t.lng,d,()=>C()):bf(i,d,()=>C())})},Se=e=>typeof e=="string",Qo=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},jb=e=>e==null?"":""+e,sL=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},rL=/###/g,wb=e=>e&&e.indexOf("###")>-1?e.replace(rL,"."):e,_b=e=>!e||Se(e),bl=(e,t,r)=>{const n=Se(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(_b(e))return{};const i=wb(n[a]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return _b(e)?{}:{obj:e,k:wb(n[a])}},Nb=(e,t,r)=>{const{obj:n,k:a}=bl(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),c=bl(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=bl(e,o,Object),c&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=r},nL=(e,t,r,n)=>{const{obj:a,k:i}=bl(e,t,Object);a[i]=a[i]||[],a[i].push(r)},mu=(e,t)=>{const{obj:r,k:n}=bl(e,t);if(r)return r[n]},aL=(e,t,r)=>{const n=mu(e,r);return n!==void 0?n:mu(t,r)},oS=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Se(e[n])||e[n]instanceof String||Se(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):oS(e[n],t[n],r):e[n]=t[n]);return e},wi=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var iL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oL=e=>Se(e)?e.replace(/[&<>"'\/]/g,t=>iL[t]):e;class lL{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const cL=[" ",",","?","!",";"],dL=new lL(20),uL=(e,t,r)=>{t=t||"",r=r||"";const n=cL.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=dL.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},wf=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let a=e;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let o,c="";for(let l=i;l<n.length;++l)if(l!==i&&(c+=r),c+=n[l],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;i+=l-i+1;break}a=o}return a},pu=e=>e&&e.replace("_","-"),hL={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class fu{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||hL,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Se(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new fu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new fu(this.logger,t)}}var Lr=new fu;class gh{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[c,l]=o;for(let d=0;d<l;d++)c(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[c,l]=o;for(let d=0;d<l;d++)c.apply(c,[t,...n])})}}class Sb extends gh{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,r],n&&(Array.isArray(n)?c.push(...n):Se(n)&&i?c.push(...n.split(i)):c.push(n)));const l=mu(this.data,c);return!l&&!r&&!n&&t.indexOf(".")>-1&&(t=c[0],r=c[1],n=c.slice(2).join(".")),l||!o||!Se(n)?l:wf(this.data&&this.data[t]&&this.data[t][r],n,i)}addResource(t,r,n,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[t,r];n&&(c=c.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(c=t.split("."),a=r,r=c[1]),this.addNamespaces(r),Nb(this.data,c,a),i.silent||this.emit("added",t,r,n,a)}addResources(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(Se(n[i])||Array.isArray(n[i]))&&this.addResource(t,r,i,n[i],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[t,r];t.indexOf(".")>-1&&(c=t.split("."),a=n,n=r,r=c[1]),this.addNamespaces(r);let l=mu(this.data,c)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?oS(l,n,i):l={...l,...n},Nb(this.data,c,l),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var lS={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,r,n,a))}),t}};const kb={};class gu extends gh{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),sL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Lr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,c=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!uL(t,n,a);if(o&&!c){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:Se(i)?[i]:i};const d=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(a)}return{key:t,namespaces:Se(i)?[i]:i}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],r),l=c[c.length-1],d=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(u){const w=r.nsSeparator||this.options.nsSeparator;return a?{res:`${l}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${w}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const p=this.resolve(t,r);let m=p&&p.res;const h=p&&p.usedKey||o,y=p&&p.exactUsedKey||o,x=Object.prototype.toString.apply(m),b=["[object Number]","[object Function]","[object RegExp]"],g=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,j=!Se(m)&&typeof m!="boolean"&&typeof m!="number";if(v&&m&&j&&b.indexOf(x)<0&&!(Se(g)&&Array.isArray(m))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,m,{...r,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=w,p.usedParams=this.getUsedParamsDetails(r),p):w}if(i){const w=Array.isArray(m),N=w?[]:{},k=w?y:h;for(const _ in m)if(Object.prototype.hasOwnProperty.call(m,_)){const C=`${k}${i}${_}`;N[_]=this.translate(C,{...r,joinArrays:!1,ns:c}),N[_]===C&&(N[_]=m[_])}m=N}}else if(v&&Se(g)&&Array.isArray(m))m=m.join(g),m&&(m=this.extendTranslation(m,t,r,n));else{let w=!1,N=!1;const k=r.count!==void 0&&!Se(r.count),_=gu.hasDefaultValue(r),C=k?this.pluralResolver.getSuffix(d,r.count,r):"",A=r.ordinal&&k?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",E=k&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),S=E&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${C}`]||r[`defaultValue${A}`]||r.defaultValue;!this.isValidLookup(m)&&_&&(w=!0,m=S),this.isValidLookup(m)||(N=!0,m=o);const R=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:m,I=_&&S!==m&&this.options.updateMissing;if(N||w||I){if(this.logger.log(I?"updateKey":"missingKey",d,l,o,I?S:m),i){const O=this.resolve(o,{...r,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let z=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let O=0;O<U.length;O++)z.push(U[O]);else this.options.saveMissingTo==="all"?z=this.languageUtils.toResolveHierarchy(r.lng||this.language):z.push(r.lng||this.language);const F=(O,$,H)=>{const ne=_&&H!==m?H:R;this.options.missingKeyHandler?this.options.missingKeyHandler(O,l,$,ne,I,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,l,$,ne,I,r),this.emit("missingKey",O,l,$,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?z.forEach(O=>{const $=this.pluralResolver.getSuffixes(O,r);E&&r[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(H=>{F([O],o+H,r[`defaultValue${H}`]||S)})}):F(z,o,S))}m=this.extendTranslation(m,t,r,p,n),N&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${l}:${o}`),(N||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,w?m:void 0):m=this.options.parseMissingKeyHandler(m))}return a?(p.res=m,p.usedParams=this.getUsedParamsDetails(r),p):m}extendTranslation(t,r,n,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Se(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(d){const m=t.match(this.interpolator.nestingRegexp);u=m&&m.length}let p=n.replace&&!Se(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),t=this.interpolator.interpolate(t,p,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),h=m&&m.length;u<h&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var m=arguments.length,h=new Array(m),y=0;y<m;y++)h[y]=arguments[y];return i&&i[0]===h[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${r[0]}`),null):o.translate(...h,r)},n)),n.interpolation&&this.interpolator.reset()}const c=n.postProcess||this.options.postProcess,l=Se(c)?[c]:c;return t!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(t=lS.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,a,i,o,c;return Se(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(l,r),u=d.key;a=u;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const m=r.count!==void 0&&!Se(r.count),h=m&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),y=r.context!==void 0&&(Se(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);p.forEach(b=>{this.isValidLookup(n)||(c=b,!kb[`${x[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(kb[`${x[0]}-${b}`]=!0,this.logger.warn(`key "${a}" for languages "${x.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(g=>{if(this.isValidLookup(n))return;o=g;const v=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,u,g,b,r);else{let w;m&&(w=this.pluralResolver.getSuffix(g,r.count,r));const N=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(v.push(u+w),r.ordinal&&w.indexOf(k)===0&&v.push(u+w.replace(k,this.options.pluralSeparator)),h&&v.push(u+N)),y){const _=`${u}${this.options.contextSeparator}${r.context}`;v.push(_),m&&(v.push(_+w),r.ordinal&&w.indexOf(k)===0&&v.push(_+w.replace(k,this.options.pluralSeparator)),h&&v.push(_+N))}}let j;for(;j=v.pop();)this.isValidLookup(n)||(i=j,n=this.getResource(g,b,j,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Se(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const Om=e=>e.charAt(0).toUpperCase()+e.slice(1);class Cb{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lr.create("languageUtils")}getScriptPartFromCode(t){if(t=pu(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=pu(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Se(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let a=Intl.getCanonicalLocales(t)[0];if(a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a)return a}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(a=>a.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Om(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Om(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Om(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Se(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Se(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Se(t)&&i(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let mL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pL={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const fL=["v1","v2","v3"],gL=["v4"],Eb={zero:0,one:1,two:2,few:3,many:4,other:5},xL=()=>{const e={};return mL.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:pL[t.fc]}})}),e};class yL{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Lr.create("pluralResolver"),(!this.options.compatibilityJSON||gL.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=xL(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=pu(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,r)}return this.pluralRulesCache[i]=o,o}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((a,i)=>Eb[a]-Eb[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):n.numbers.map(a=>this.getSuffix(t,a,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,n);return a?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:this.getSuffixRetroCompatible(a,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let a=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!fL.includes(this.options.compatibilityJSON)}}const Pb=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=aL(e,t,r);return!i&&a&&Se(r)&&(i=wf(e,r,n),i===void 0&&(i=wf(t,r,n))),i},Dm=e=>e.replace(/\$/g,"$$$$");class vL{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:l,formatSeparator:d,unescapeSuffix:u,unescapePrefix:p,nestingPrefix:m,nestingPrefixEscaped:h,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:b,maxReplaces:g,alwaysFormat:v}=t.interpolation;this.escape=r!==void 0?r:oL,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?wi(i):o||"{{",this.suffix=c?wi(c):l||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?wi(m):h||wi("$t("),this.nestingSuffix=y?wi(y):x||wi(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=g||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,a){let i,o,c;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=h=>{if(h.indexOf(this.formatSeparator)<0){const g=Pb(r,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,n,{...a,...r,interpolationkey:h}):g}const y=h.split(this.formatSeparator),x=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(Pb(r,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,{...a,...r,interpolationkey:x})};this.resetRegExp();const u=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>Dm(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?Dm(this.escape(h)):Dm(h)}].forEach(h=>{for(c=0;i=h.regex.exec(t);){const y=i[1].trim();if(o=d(y),o===void 0)if(typeof u=="function"){const b=u(t,i,a);o=Se(b)?b:""}else if(a&&Object.prototype.hasOwnProperty.call(a,y))o="";else if(p){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),o="";else!Se(o)&&!this.useRawValueToEscape&&(o=jb(o));const x=h.safeValue(o);if(t=t.replace(i[0],x),p?(h.regex.lastIndex+=o.length,h.regex.lastIndex-=i[0].length):h.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;const c=(l,d)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const p=l.split(new RegExp(`${u}[ ]*{`));let m=`{${p[1]}`;l=p[0],m=this.interpolate(m,o);const h=m.match(/'/g),y=m.match(/"/g);(h&&h.length%2===0&&!y||y.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;a=this.nestingRegexp.exec(t);){let l=[];o={...n},o=o.replace&&!Se(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const u=a[1].split(this.formatSeparator).map(p=>p.trim());a[1]=u.shift(),l=u,d=!0}if(i=r(c.call(this,a[1].trim(),o),o),i&&a[0]===t&&!Se(i))return i;Se(i)||(i=jb(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),d&&(i=l.reduce((u,p)=>this.format(u,p,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const bL=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...l]=o.split(":"),d=l.join(":").trim().replace(/^'+|'+$/g,""),u=c.trim();r[u]||(r[u]=d),d==="false"&&(r[u]=!1),d==="true"&&(r[u]=!0),isNaN(d)||(r[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:r}},_i=e=>{const t={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=n+JSON.stringify(i);let c=t[o];return c||(c=e(pu(n),a),t[o]=c),c(r)}};class jL{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("formatter"),this.options=t,this.formats={number:_i((r,n)=>{const a=new Intl.NumberFormat(r,{...n});return i=>a.format(i)}),currency:_i((r,n)=>{const a=new Intl.NumberFormat(r,{...n,style:"currency"});return i=>a.format(i)}),datetime:_i((r,n)=>{const a=new Intl.DateTimeFormat(r,{...n});return i=>a.format(i)}),relativetime:_i((r,n)=>{const a=new Intl.RelativeTimeFormat(r,{...n});return i=>a.format(i,n.range||"day")}),list:_i((r,n)=>{const a=new Intl.ListFormat(r,{...n});return i=>a.format(i)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=_i(r)}format(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,l)=>{const{formatName:d,formatOptions:u}=bL(l);if(this.formats[d]){let p=c;try{const m=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},h=m.locale||m.lng||a.locale||a.lng||n;p=this.formats[d](c,h,{...u,...a,...m})}catch(m){this.logger.warn(m)}return p}else this.logger.warn(`there was no format function for ${d}`);return c},t)}}const wL=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class _L extends gh{constructor(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Lr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,a.backend,a)}queueLoad(t,r,n,a){const i={},o={},c={},l={};return t.forEach(d=>{let u=!0;r.forEach(p=>{const m=`${d}|${p}`;!n.reload&&this.store.hasResourceBundle(d,p)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,u=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),l[p]===void 0&&(l[p]=!0)))}),u||(c[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(l)}}loaded(t,r,n){const a=t.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const c={};this.queue.forEach(l=>{nL(l.loaded,[i],o),wL(l,t),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(d=>{c[d]||(c[d]={});const u=l.loaded[d];u.length&&u.forEach(p=>{c[d][p]===void 0&&(c[d][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(l=>!l.done)}read(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&u&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,i*2,o)},i);return}o(d,u)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const d=l(t,r);d&&typeof d.then=="function"?d.then(u=>c(null,u)).catch(c):c(null,d)}catch(d){c(d)}return}return l(t,r,c)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Se(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Se(r)&&(r=[r]);const i=this.queueLoad(t,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,c),this.loaded(t,o,c)})}saveMissing(t,r,n,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,r,n,a,l):u=d(t,r,n,a),u&&typeof u.then=="function"?u.then(p=>c(null,p)).catch(c):c(null,u)}catch(u){c(u)}else d(t,r,n,a,c,l)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const Tb=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Se(e[1])&&(t.defaultValue=e[1]),Se(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ab=e=>(Se(e.ns)&&(e.ns=[e.ns]),Se(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Se(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),od=()=>{},NL=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Xl extends gh{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ab(t),this.services={},this.logger=Lr,this.modules={external:[]},NL(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(Se(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=Tb();this.options={...a,...this.options,...Ab(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Lr.init(i(this.modules.logger),this.options):Lr.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=jL);const p=new Cb(this.options);this.store=new Sb(this.options.resources,this.options);const m=this.services;m.logger=Lr,m.resourceStore=this.store,m.languageUtils=p,m.pluralResolver=new yL(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(m.formatter=i(u),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new vL(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new _L(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(h){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];t.emit(h,...x)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new gu(this.services,this.options),this.translator.on("*",function(h){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];t.emit(h,...x)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=od),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return t.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return t.store[u](...arguments),t}});const l=Qo(),d=()=>{const u=(p,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),n(p,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),l}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:od;const a=Se(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(t,r,n){const a=Qo();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=od),this.services.backendConnector.reload(t,r,i=>{a.resolve(),n(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&lS.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const a=Qo();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},c=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const d=Se(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,u=>{o(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),a}getFixedT(t,r,n){var a=this;const i=function(o,c){let l;if(typeof c!="object"){for(var d=arguments.length,u=new Array(d>2?d-2:0),p=2;p<d;p++)u[p-2]=arguments[p];l=a.options.overloadTranslationOptionHandler([o,c].concat(u))}else l={...c};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||i.keyPrefix);const m=a.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(o)?h=o.map(y=>`${l.keyPrefix}${m}${y}`):h=l.keyPrefix?`${l.keyPrefix}${m}${o}`:o,a.t(h,l)};return Se(t)?i.lng=t:i.lngs=t,i.ns=r,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(c,l)=>{const d=this.services.backendConnector.state[`${c}|${l}`];return d===-1||d===0||d===2};if(r.precheck){const c=r.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(i,t)))}loadNamespaces(t,r){const n=Qo();return this.options.ns?(Se(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Qo();Se(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Cb(Tb());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Xl(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:od;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new Xl(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new Sb(this.store.data,a),i.services.resourceStore=i.store),i.translator=new gu(i.services,a),i.translator.on("*",function(c){for(var l=arguments.length,d=new Array(l>1?l-1:0),u=1;u<l;u++)d[u-1]=arguments[u];i.emit(c,...d)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dt=Xl.createInstance();dt.createInstance=Xl.createInstance;dt.createInstance;dt.dir;dt.init;dt.loadResources;dt.reloadResources;dt.use;dt.changeLanguage;dt.getFixedT;dt.t;dt.exists;dt.setDefaultNamespace;dt.hasLoadedNamespace;dt.loadNamespaces;dt.loadLanguages;const{slice:SL,forEach:kL}=[];function CL(e){return kL.call(SL.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function EL(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const Rb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,PL=function(e,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let i=`${e}=${a}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!Rb.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!Rb.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},Ob={create(e,t,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=PL(e,t,a)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var TL={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Ob.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:i}=t;r&&typeof document<"u"&&Ob.create(r,e,n,a,i)}},AL={name:"querystring",lookup(e){var n;let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const o=a.substring(1).split("&");for(let c=0;c<o.length;c++){const l=o[c].indexOf("=");l>0&&o[c].substring(0,l)===t&&(r=o[c].substring(l+1))}}return r}},RL={name:"hash",lookup(e){var a;let{lookupHash:t,lookupFromHashIndex:r}=e,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(t){const c=o.split("&");for(let l=0;l<c.length;l++){const d=c[l].indexOf("=");d>0&&c[l].substring(0,d)===t&&(n=c[l].substring(d+1))}}if(n)return n;if(!n&&r>-1){const c=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?(a=c[typeof r=="number"?r:0])==null?void 0:a.replace("/",""):void 0}}}return n}};let Ni=null;const Db=()=>{if(Ni!==null)return Ni;try{if(Ni=typeof window<"u"&&window.localStorage!==null,!Ni)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Ni=!1}return Ni};var OL={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Db())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&Db()&&window.localStorage.setItem(r,e)}};let Si=null;const Ib=()=>{if(Si!==null)return Si;try{if(Si=typeof window<"u"&&window.sessionStorage!==null,!Si)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Si=!1}return Si};var DL={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Ib())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&Ib()&&window.sessionStorage.setItem(r,e)}},IL={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let i=0;i<r.length;i++)t.push(r[i]);n&&t.push(n),a&&t.push(a)}return t.length>0?t:void 0}},LL={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},ML={name:"path",lookup(e){var a;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(a=r[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}},FL={name:"subdomain",lookup(e){var a,i;let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let cS=!1;try{document.cookie,cS=!0}catch{}const dS=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];cS||dS.splice(1,1);const $L=()=>({order:dS,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class uS{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=CL(r,this.options||{},$L()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(TL),this.addDetector(AL),this.addDetector(OL),this.addDetector(DL),this.addDetector(IL),this.addDetector(LL),this.addDetector(ML),this.addDetector(FL),this.addDetector(RL)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!EL(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}uS.type="languageDetector";const qL={en:{translation:{yes:"Yes",no:"No",nav:{home:"Home",order:"Order",track:"Track Order",earn:"Earn Rewards",verify:"Verify",about:"About",contact:"Contact",exchange:"Exchange",internationalAgent:"International Agent",agent:{requestImport:"Request Import",registerAgent:"Register as Agent"},store:"Store",alkhayr_label:"Al-Khayr",waseet:"Waseet"},cart:{title:"Your Cart",empty:"Your cart is empty",start_shopping:"Start Shopping",no_img:"No Img",subtotal:"Subtotal",shipping:"Shipping",shipping_home:"Shipping (Home)",shipping_desk:"Shipping (Stopdesk)",shipping_to:"Shipping to:",change:"Change",select_wilaya:"Select Wilaya",select_address:"Select Address",total:"Total",checkout_details:"Checkout Details",name:"Full Name *",name_placeholder:"John Doe",phone:"Phone Number *",phone_placeholder:"+213...",email:"Email (Optional)",email_placeholder:"john@example.com",additional_contact:"Additional Contact Methods (Optional)",whatsapp:"WhatsApp",whatsapp_placeholder:"WhatsApp Number (+213...)",telegram:"Telegram",telegram_placeholder:"Telegram @username",place_order:"Place Order",processing:"Processing...",close:"Close",order_success_title:"Order Placed Successfully",order_success_desc:"We have received your order.",contact_shortly:"We will contact you shortly to confirm your order.",keep_ref:"Please keep these order numbers for your reference.",validation:{missing_shipping_title:"Missing Shipping Info",missing_shipping_desc:"Please provide your shipping address.",missing_name_title:"Missing Name",missing_name_desc:"Please enter your full name.",missing_phone_title:"Missing Phone",missing_phone_desc:"Please enter your mandatory phone number.",missing_whatsapp_title:"Missing WhatsApp",missing_whatsapp_desc:"Please enter your WhatsApp number or uncheck the option.",missing_telegram_title:"Missing Telegram",missing_telegram_desc:"Please enter your Telegram username or uncheck the option."},order_failed_title:"Order Failed",order_failed_desc:"Something went wrong. Please try again."},footer:{home:"Home",order:"Order",contact:"Contact",rights:"All rights reserved.",services:"Services",support:"Support",connect:"Connect",importRequest:"Import Request",aboutUs:"About Us",verified_badge:"Human-verified requests  Broker-based service",privacy:"Privacy",terms:"Terms",cookies:"Cookies",brandDesc:"Waseet is a trusted brokerage platform connecting people to logistics, exchange, and verified services.",trackOrder:"Track Order",exchange:"Exchange"},contact:{title:"Get in Touch",subtitle:"Have questions? We're here to help. Reach out through any of these channels.",whatsapp_title:"WhatsApp",whatsapp_desc:"Chat with us on WhatsApp",telegram_title:"Telegram",telegram_desc:"Message us on Telegram",email_title:"Email",email_desc:"Send us an email",hours_title:"Business Hours",hours_desc:"We're available during these times",days:{monfri:"Monday - Friday",sat:"Saturday",sun:"Sunday"},times:{monfri:"9:00 AM - 6:00 PM",sat:"10:00 AM - 4:00 PM",sun:"Closed"}},home:{hero:{title_prefix:"Trusted Brokerage for",title_highlight:"Logistics & Exchange",subtitle:"Waseet connects you to international markets and currency exchange through a secure, human-verified process. Professional, transparent, and built for Algeria.",cta_explore:"Explore Services",cta_track:"Track Order"},services:{title:"Our Services",subtitle:"Professional solutions for your international needs.",marketplace:{title:"Marketplace",desc:"Access curated products with transparent pricing. Place orders easily and let us handle the logistics to your wilaya.",btn:"Browse Store"},exchange:{title:"Currency Exchange",desc:"Secure brokerage for currency transactions. We verify every request manually to ensure safety and reliability.",btn:"Exchange Rates"},import:{title:"Custom Import",desc:"Request specific items from international markets. We review availability and provide a confirmed quote including delivery.",btn:"Request Quote"},tracking:{title:"Order Tracking",desc:"Real-time status updates for all your transactions. Simply enter your order ID to verify progress.",btn:"Track Status"}},how:{title:"How the Platform Works",subtitle:"A simple, human-verified process for every request.",steps:{1:{title:"Submit Request",desc:"Order, exchange, or import via our forms."},2:{title:"Team Review",desc:"We manually check details & availability."},3:{title:"Confirmation",desc:"You receive approval before any action."},4:{title:"Track Progress",desc:"Follow status updates until completion."}},manual_note:"No automatic execution. Every step is verified by a human."},trust:{title:"Built on Process, Not Promises",subtitle:"We prioritize safety, transparency, and clarity over speed.",cards:{review:{title:"Human Review",desc:"Every request is reviewed manually. No blind processingwe confirm details first."},comms:{title:"Clear Comms",desc:"We verify prices and timelines with you before acting. You are never left guessing."},broker:{title:"Broker Role",desc:"We act as your broker, coordinating and verifying transactions to keep control in your hands."},local:{title:"Local Reality",desc:"Built for Algeria. From wilaya-based logistics to manual checks, we know the context."}}},who:{title:"Who Uses Waseet?",shoppers:{title:"International Shoppers",desc:"Individuals who want to buy from abroad but need a trusted intermediary."},exchangers:{title:"Currency Exchangers",desc:"People needing secure, coordinated exchange services without the risk."},verification:{title:"Verification Seekers",desc:"Users who prefer human confirmation over blind automated systems."}},transparency:{title:"What Waseet Is Not",items:{1:"Waseet is <strong>not a bank</strong> and does not hold funds like a wallet.",2:"Waseet does <strong>not execute automatic payments</strong> without review.",3:"Waseet does <strong>not guarantee availability</strong> instantly; confirmation is required."}},ready:{title:"Ready to Start?",explore:"Explore Services",support:"Contact Support"}},about:{hero:{title:"About Waseet",subtitle:"Your trusted service broker bridging the gap between local needs and international opportunities."},what:{title:"What is Waseet?",desc1:"Waseet is a service brokerage platform designed to simplify complex transactions for Algerian users. We act as a secure intermediary, connecting you with products, currency exchange opportunities, and international markets.",desc2:'We operate on a <strong>"human-in-the-loop"</strong> model. This means every request is personally reviewed and processed by our team, ensuring safety and accuracy rather than relying on blind automation.',cards:{mediated:"Mediated Service",secure:"Secure Process"}},services:{title:"What We Do",subtitle:"Our core services simplify your access to the digital economy.",cards:{store:{title:"Store & Ordering",desc:"Browse our curated store for high-demand items. You can place orders without creating an account. Each order is manually reviewed to confirm availability and shipping details based on your Wilaya before processing."},exchange:{title:"Currency Exchange",desc:"Submit requests to buy or sell standard currencies. Our rates are indicative and set by our administrators. We process these requests manually to ensure a safe exchange environment for all parties."},import:{title:"Import & Logistics",desc:"Access international markets through our custom import service (Coming Soon). We also collaborate with verified logistics partners to handle shipping. All agent partnerships are manually vetted."}}},how:{title:"How It Works",steps:{1:{title:"Request",desc:"You submit your order, exchange, or import request via our simple forms."},2:{title:"Review",desc:"Our team personally checks details, stock, and rates for accuracy."},3:{title:"Contact",desc:"We reach out to you via phone or WhatsApp to confirm and finalize."},4:{title:"Update",desc:"Track your status anytime using your Order ID on our tracking page."}}},why:{title:"Why Choose Waseet?",items:{adapted:{title:"Adapted to Algeria",desc:"Built specifically for the local context and challenges."},human:{title:"Human Verification",desc:"We prioritize safety over speed. Every transaction is monitored."},centralized:{title:"Centralized Service",desc:"Multiple services (Shopping, Exchange, Import) in one trustworthy place."}}},notice:{title:"Important Transparency Notice",desc:"To ensure complete trust and transparency with our users, we want to be clear about what we are NOT:",items:{1:"We are <strong>NOT a bank</strong> or official financial institution.",2:"We do <strong>NOT process payments automatically</strong>. All funds are handled securely through verified manual channels.",3:"Placement of a request acts as a booking, not an instant guarantee. Confirmation follows shortly after review."}},footer:{title:"Questions?",desc:"Our team is here to help you navigate our services.",support:"Support available via WhatsApp & Email"}},terms:{title:"Terms & Conditions",subtitle:"Welcome to Waseet. Here are the rules regulating our connection and brokerage service.",acceptance:{title:"1. Acceptance of Terms",desc:"By using the Waseet platform (website and associated services), you fully and unreservedly accept these conditions. If you do not agree, we invite you not to use our services."},description:{title:"2. Description of Service",desc:"Waseet is a <strong>brokerage and coordination platform</strong>. Our role is to connect needs (shopping, logistics, humanitarian aid) with solutions (sellers, delivery drivers, donors, volunteers).",note:"Important note: Waseet facilitates connection but is not the direct supplier of medical products, nor a carrier, nor a bank."},responsibilities:{title:"3. User Responsibilities",desc:"As a user, you agree to:",items:{1:"Provide accurate and sincere information (especially for humanitarian requests).",2:"Not create false requests or mislead other users.",3:"Respect other community members (donors, drivers, admins).",4:"Not use the platform for illegal activities."},warning:"Any abusive behavior may result in immediate suspension of your access."},humanitarian:{title:"4. Humanitarian & Health Disclaimer",items:{alkhayr:"<strong>Alkhayr (Medicines):</strong> We verify requests, but we do not guarantee a donor will be found. Waseet does not replace a pharmacy or medical advice.",blood:"<strong>Blood Donation:</strong> Coordination via Waseet is voluntary aid to save time. In case of vital emergency, always contact hospitals or civil protection directly.",transport:"<strong>Urgent Transport:</strong> Volunteers coordinated by Waseet are not professional ambulance drivers."}},brokerage:{title:"5. Brokerage & Exchange",items:{1:"Waseet acts as a broker. We do not hold funds like a bank.",2:"Displayed exchange rates are indicative and may vary according to the market.",3:"Waseet is not responsible for delays caused by third parties (banks, payment services, customs)."}},intermediary:{title:"6. Limits of Intermediation",desc:"We do our best to verify the seriousness of participants, but we cannot guarantee the successful completion of every transaction or promise of donation made by a third party. Agreements concluded between users outside Waseet supervision are your own responsibility."},moderation:{title:"7. Moderation & Admin Rights",desc:"For everyone's safety, Waseet administrators reserve the right to:",items:{1:"Refuse or delete any request deemed suspicious, incomplete, or inappropriate.",2:"Modify public content to protect sensitive data (masking names, etc.).",3:"Ban users not respecting the rules."}},liability:{title:"8. Limitation of Liability",desc:'Waseet provides its platform "as is". We are not responsible for indirect damages, loss of opportunity, or disappointments related to an unsatisfied request for help. Use of the service is at your own risk, within the limits of the applicable legal framework.'},misc:{title:"9. Miscellaneous",items:{privacy:'<strong>Privacy:</strong> Your data is processed according to our <a href="/privacy" class="text-primary hover:underline">Privacy Policy</a>.',changes:"<strong>Changes:</strong> These conditions may be updated. Continued use of the site constitutes acceptance of the new rules.",legal:"<strong>Legal Context:</strong> This platform operates primarily in Algeria. Disputes will be treated with common sense and, if necessary, according to local competent jurisdictions."}},footer:{question:"Questions about these terms?",contact:"Contact Us"}},privacy:{title:"Privacy Policy",subtitle:"At Waseet, we take your privacy seriously. This policy explains simply and honestly how we treat your information.",intro:{title:"1. Introduction",desc:"Waseet is a brokerage platform facilitating shopping, logistics, and humanitarian aid in Algeria. Our role is to connect needs to solutions. To do this, we must collect and treat certain information, always exclusively for the purpose of rendering the service for which you solicited us."},collect:{title:"2. Information We Collect",section_a:"a) What you provide",items_a:{1:"Name and Surname",2:"Phone number (to contact you)",3:"Email address (optional or for confirmation)",4:"Location (Wilaya / Commune) for delivery",5:"Details of your requests (prescriptions, products, blood type)",6:"Social accounts (WhatsApp/Telegram) if you choose to link them"},section_b:"b) Automatic Collection",items_b:{1:"Device type and browser (to optimize display)",2:"Anonymous visit statistics (to improve the site)"}},use:{title:"3. How We Use Your Data",desc:"We use your data only to:",items:{1:"Process and execute your orders or aid requests.",2:"Coordinate logistics (delivery, transport).",3:"Contact you in case of problems or to confirm information.",4:"Manage emergencies (Alkhayr or Blood Donation cases).",5:"Improve our internal services."},note:" We NEVER sell your personal data to third parties."},visibility:{title:"4. Visibility & Human Review",desc:"This is an important point of our platform: <strong>every sensitive request is reviewed by a human administrator</strong> before being published (especially for Alkhayr).",items:{1:"We do not automatically publish everything you send.",2:"Sensitive information (like your full name on a public request) is masked or replaced by initials.",3:"Only Waseet administrators have access to all your raw data."}},sharing:{title:"5. Data Sharing",desc:"Your data stays with Waseet. It is only shared in strictly operational cases:",items:{1:"With a delivery driver to route your package.",2:"With a donor who agrees to help you (after your agreement).",3:"With competent authorities if the law imperatively requires it."},note:"We act as a security filter between parties to protect your privacy."},cookies:{title:"6. Cookies, Security & Duration",items:{cookies:"<strong>Cookies:</strong> We use simple cookies for the site to function (e.g., keeping your cart active). We do not use cookies to track you on other sites.",security:'<strong>Security:</strong> Your data is stored on secure servers. Access is restricted to our internal team. Although "zero risk" does not exist on the Internet, we take all reasonable measures to protect your information.',duration:"<strong>Duration:</strong> We do not keep your data indefinitely. Closed or long-inactive requests may be deleted from our databases."}},rights:{title:"7. Your Rights",desc:"You remain the owner of your data. You have the right to:",items:{1:"Ask to see what information we have on you.",2:"Ask for correction of an error.",3:"Ask for complete deletion of your data (unless a transaction is in progress)."}},legal:{title:"8. Legal Position & Updates",items:{intermediary:"<strong>Intermediary:</strong> Waseet is a connection platform. We coordinate aid and services, but we are not a bank, nor a hospital.",children:"<strong>Children:</strong> Our service is not intended for children. We do not intentionally collect data on minors without parental consent.",updates:"<strong>Updates:</strong> This policy may evolve. Any modification will be published right here."}},footer:{question:"Questions about your privacy?",contact:"Contact Us"}},order:{header:{title:"New Order",subtitle:"Fast. Simple. Worldwide."},product:{title:"Product Information",name:"Product Name",name_ph:"e.g. iPhone 15 Pro Max",url:"Product URL *",url_ph:"https://amazon.com/product",price:"Product Price *",shipping:"Shipping ($)"},personal:{title:"Your Information",name:"Full Name *",name_ph:"John Doe",contact_method:"Contact Method *",whatsapp:"WhatsApp",telegram:"Telegram",contact_ph_whatsapp:"+213550123456",contact_ph_telegram:"@username"},optional:{referral:"Referral Code (Optional)",referral_ph:"ABCD1234",notes:"Notes",notes_ph:"Color, size, special instructions..."},actions:{processing:"Processing...",place:"Place Order",add_to_cart:"Add to Cart"},summary:{title:"Order Summary",product:"Product",shipping:"Shipping",total:"Total",usd_total:"Total (USD)",dzd:"Algerian Dinar"},benefits:{secure_title:"Secure Payment",secure_desc:"Your data is encrypted",fast_title:"Fast Processing",fast_desc:"Orders confirmed within 24h",track_title:"Real-time Tracking",track_desc:"Follow your order every step"},validation:{error:"Error",url_required:"Product URL is required",url_invalid:"Please enter a valid URL starting with http:// or https://",price_required:"Please enter a valid product price",name_required:"Name is required",contact_required:"Contact information is required",phone_invalid:"The number must be in the format +213 5/6/7 followed by 8 digits (e.g., +213550123456)",self_referral:"You cannot use your own referral code.",invalid_referral:"Referral code not found. Please check the code and try again."},success:{title:"Success!",desc:"Your order has been submitted successfully"},toast:{added:"Added to cart",added_desc:"Product added to your cart"},error:{title:"Error",generic:"Failed to submit order. Please try again."}},tracking:{title:"Track Your Order",subtitle:"Enter your order ID to check the status of your order",cardTitle:"Order Tracking",cardDesc:"You can find your order ID in the confirmation page or email",orderId:"Order ID",orderIdPh:"Enter your order ID (e.g., 12)",trackBtn:"Track Order",searching:"Searching...",toast:{error:"Error",id_required:"Please enter an order ID",not_found_title:"Not Found",not_found_desc:"No order found with this ID",fetch_error:"Failed to fetch order details"},result:{order:"Order #{{id}}",customerName:"Customer Name",contact:"Contact",productUrl:"Product URL",viewProduct:"View Product",totalAmount:"Total Amount",orderDate:"Order Date",notes:"Notes"},status:{new:"New",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"}},referral:{headerTitle:"Earn Rewards with Referrals",headerDesc:"Share your code and earn 1000 DA for every $200 of purchases made with your code",genTitle:"Generate Your Referral Code",genDesc:"Enter your contact information to create your unique referral code",contactMethod:"Contact Method",whatsapp:"WhatsApp",telegram:"Telegram",labels:{whatsapp:"WhatsApp Number",telegram:"Telegram Username"},placeholders:{whatsapp:"+213550123456",telegram:"@yourusername"},actions:{generate:"Generate My Code",generating:"Generating...",verify:"Verify My Earnings",checking:"Checking..."},toast:{error:"Error",contact_required:"Please enter your contact information",phone_invalid:"Format must be +2135/6/7 + 8 digits (e.g., +213550123456)",existing_title:"Existing code found!",existing_desc:"Here is your existing referral code",success_title:"Success!",success_desc:"Your referral code has been generated",check_none_title:"No code found",check_none_desc:"No referral code exists for this contact",check_found_title:"Stats found!",check_found_desc:"Here are your referral statistics",copied_title:"Copied!",copied_desc:"Referral code copied to clipboard"},stats:{your_code:"Your Referral Code",total_collected:"Total collected",rewards:"Rewards",total_earned:"Total earned",milestone_prefix:"Only",milestone_suffix:"more to earn",milestone_reward:"1000 DA"},withdraw:{button:"Request Withdrawal",available_balance:"Available Balance",ready:"Ready to Withdraw",pending_approval:"Pending Approval",pending_request:"Pending Request",request_submitted:"Request Submitted",success_title:"Request Sent!",success_desc:"Your withdrawal request will be processed shortly"},generateAnother:"Generate another code",contactLabel:"Contact: {{type}} - {{value}}",howItWorks:{title:"How it works:",step1:"Share your code with friends and family",step2:"They enter your code when making a purchase",step3:"Every $200 in purchases = 1000 DA for you",step4:"No limit! Keep earning as your referrals shop",example:"Example: If purchases with your code reach $600 total, you'll earn 3000 DA (1000 DA  3)"},self_referral_note:"You cannot earn rewards by using your own referral code."},verify:{title:"Verify My Purchases",subtitle:"Enter your WhatsApp or Telegram to see your orders",cardTitle:"Find Your Orders",cardDesc:"We'll search orders by your contact information",contactMethod:"Contact Method",labels:{whatsapp:"WhatsApp",telegram:"Telegram",number:"WhatsApp Number",username:"Telegram Username"},placeholders:{whatsapp:"+213550123456",telegram:"@yourusername"},actions:{verify:"Verify My Purchases",checking:"Checking..."},toast:{error:"Error",contact_required:"Please enter your contact",phone_invalid:"Format must be +2135/6/7 + 8 digits (e.g., +213550123456)",no_purchases_title:"No purchases found",no_purchases_desc:"We couldn't find orders for this contact",fetch_error_title:"Error",fetch_error_desc:"Failed to fetch purchases"},results:{title:"Your Orders",found:"{{count}} found",order:"Order #{{id}}",productLink:"Product Link"}},success:{title:"Order Submitted Successfully!",processing:"Your order has been received and is being processed.",contactSoon:"We'll contact you soon via {{type}} at {{value}}",orderId:"Order ID",customerName:"Customer Name",totalAmount:"Total Amount",shareWhatsapp:"Share on WhatsApp",returnHome:"Return to Home",questions:"Questions? Visit our ",contactPage:"Contact Page"},notFound:{oops:"Oops! Page not found",returnHome:"Return to Home"},product_details:{notFound:{title:"Product Not Found",desc:"The product you are looking for does not exist or has been removed."},backToStore:"Back to Store",back:"Back",inStock:"In Stock",addToCart:"Add to Cart",freeShipping:"Free shipping on orders over $100",securePayment:"Secure payment",noDescription:"No description available."},admin_orders:{title:"Order Management",subtitle:"View and manage all customer orders in one place",listTitle:"All Orders",searchPlaceholder:"Search orders, customers...",filterType:{all:"All Types",store:"Store Orders",custom:"Custom Requests"},status:{all:"All Statuses",new:"New",processing:"Processing",done:"Completed",cancelled:"Cancelled"},table:{id:"Order ID",type:"Type",product:"Product",customer:"Customer",contact:"Contact",total:"Total",status:"Status",date:"Date",actions:"Actions"},badges:{store:"Store",custom:"Custom"},noOrders:"No orders found fitting your criteria.",externalLink:"External Link",viewDetails:"View Details"},admin_store:{management:{title:"Store Management",desc:"Manage store categories, products, and product types",tabs:{categories:"Store Categories",products:"Products",types:"Product Types"}},categories:{title:"Store Categories",add:"Add Category",edit:"Edit Category",manageDesc:"Manage store category information and settings.",table:{name:"Name",badge:"Badge",slug:"Slug",status:"Status",order:"Order",actions:"Actions",active:"Active",inactive:"Inactive"},form:{name:"Name *",slug:"Slug *",badgeLabel:"Badge Label *",badgeColor:"Badge Color"},messages:{validation:"Please fill in all required fields.",updated:"Store category updated.",created:"Store category created.",deleted:"Category deleted.",confirmDelete:"Are you sure you want to delete this category?"}},products:{title:"Products",add:"Add Product",edit:"Edit Product",manageDesc:"Manage product information and images.",noCategories:{title:"No Store Categories",desc:"Please create a store category first before adding products.",boxTitle:"No store categories found.",boxDesc:'Please create a store category first in the "Categories" tab before adding products.'},form:{category:"Store Category *",type:"Product Type",name:"Name *",slug:"Slug *",price:"Price *",stock:"Stock Quantity",desc:"Description",status:"Status",images:"Images",placeholders:{selectCategory:"Select category",selectType:"Select type (optional)",none:"None",unlimited:"Leave empty for unlimited"}},table:{category:"Category",price:"Price",stock:"Stock",status:"Status",actions:"Actions",inStock:"{{count}} in stock",outOfStock:"Out of Stock",unlimited:"Unlimited"},messages:{updated:"Product updated.",created:"Product created.",deleted:"Product deleted.",imagesUploaded:"Images uploaded.",confirmDelete:"Are you sure you want to delete this product?"}},types:{title:"Product Types",add:"Add Product Type",edit:"Edit Product Type",manageDesc:"Manage product types for store categories.",table:{name:"Name",category:"Category",slug:"Slug",status:"Status",order:"Order",actions:"Actions",active:"Active",inactive:"Inactive"},form:{category:"Store Category *",name:"Name *",slug:"Slug *",desc:"Description",order:"Display Order",active:"Active",placeholders:{selectCategory:"Select category",name:"Diagnostic Equipment",slug:"diagnostic",desc:"Product type description..."}},messages:{validation:"Please fill in all required fields.",updated:"Product type updated.",created:"Product type created.",deleted:"Product type deleted.",confirmDelete:"Are you sure you want to delete this product type?"}},suggestions:{title:"Product Suggestions",subtitle:"Review products suggested by users.",listTitle:"Suggestions List",search:{placeholder:"Search product or user...",filter:"Filter by Status"},status:{all:"All Statuses",pending:"Pending",reviewed:"Reviewed",accepted:"Accepted",rejected:"Rejected"},table:{product:"Product Name",price:"Price",user:"User",status:"Status",date:"Date",actions:"Actions"},messages:{empty:"No suggestions found.",errorFetch:"Failed to fetch suggestions."},actions:{review:"Review"}}},alkhayr:{title:"Al-Khayr - Humanitarian Medical Assistance",subtitle:"Medical help with zero commission - 100% humanitarian",legacy_mode_warning:" Legacy Mode: This is the old design.",requests:{title:"Humanitarian Requests",subtitle:"Accepted requests with classification and funding info",classification:"Classification",amount:"Amount",currency:"Currency",severe:"Severe",medium:"Medium",normal:"Normal",statusAccepted:"Accepted",statusPending:"Pending",statusRejected:"Rejected",empty:"No accepted requests yet",filterAll:"All",filterSevere:"Severe",filterMedium:"Medium",filterNormal:"Normal"},nav:{local:"Local Medicine Request",foreign:"Medicine From Abroad",diaspora:"Volunteer Registration",myRequests:"My Requests",zeroCommission:"Zero-Commission Policy",faq:"FAQ"},local:{title:"Request Medicine Available Locally",subtitle:"Get help obtaining medicine available in the country",form:{fullName:"Full Name",city:"City / Address",contact:"Contact Information",contactPlaceholder:"WhatsApp or Telegram",medicineName:"Medicine or Treatment Name",medicineNamePlaceholder:"e.g., Paracetamol 500mg",prescription:"Upload Prescription (optional)",financialAbility:"Financial Ability",canPay:"Yes, I can pay",cannotPay:"No, I cannot",canPayPartially:"Partially",affordAmount:"Amount you can afford",needDelivery:"Need delivery?",paidDelivery:"Paid",freeDelivery:"Free",noDelivery:"No",urgency:"Priority Level",urgent:"Urgent",normal:"Normal",notes:"Additional Notes",submit:"Submit Request",submitting:"Submitting..."},success:{title:"Request Submitted Successfully",desc:"We will review your request and contact you soon"}},foreign:{title:"Request Medicine From Abroad",subtitle:"Get help purchasing medicine not available locally",form:{fullName:"Full Name",city:"City",contact:"Contact Information",medicineName:"Medicine Details",medicineNamePlaceholder:"Name, dosage, quantity",prescription:"Prescription / Medical Report",expectedCountry:"Expected Country of Origin",expectedCountryPlaceholder:"e.g., France, Germany, UAE",needType:"What you need",purchaseAndShipping:"Purchase + Shipping",shippingOnly:"Shipping Only",financialAbility:"Financial Ability",canPay:"Yes",cannotPay:"No",canPayPartially:"Partially",budget:"Approximate Budget",urgency:"Priority Level",urgent:"Urgent",normal:"Normal",notes:"Additional Notes",submit:"Submit Request",submitting:"Submitting..."},success:{title:"Request Submitted Successfully",desc:"We will find a volunteer to help you"}},diaspora:{title:"Volunteer Registration (Diaspora)",subtitle:"Help patients from your current country",form:{personalInfo:"Personal Information",fullName:"Full Name",country:"Current Country",city:"City",contact:"Contact Information",canOffer:"What can you offer? (select multiple)",sendMedicine:"Send medicine",buyMedicine:"Buy medicine",shipParcels:"Ship parcels",financialSupport:"Financial support",coordination:"Coordination",financialAbility:"Financial Ability",canFullyCover:"Yes - can fully cover",cannotCover:"No - cannot",canPartiallyCover:"Partially - can cover part",maxAmount:"Maximum Amount",extraNotes:"Extra Notes",extraNotesPlaceholder:"Pharmacies you know, shipping contacts...",notifications:"Notification Preferences",urgentCases:"Urgent cases",fundingNeeded:"Cases needing funding",importRequests:"Import medicine requests",agree:"I agree to terms (privacy + legality + zero commission)",submit:"Register as Volunteer",submitting:"Registering..."},success:{title:"Thank you for registering!",desc:"We will review your application and contact you soon"}},myRequests:{title:"My Medical Requests",subtitle:"Track the status of your medical requests",enterContact:"Enter your contact information",view:"View Requests",noRequests:"No requests found",type:"Type",status:"Status",date:"Date",statusPending:"Pending",statusReviewing:"Reviewing",statusMatched:"Matched",statusInProgress:"In Progress",statusCompleted:"Completed",statusCancelled:"Cancelled",typeLocal:"Local",typeForeign:"From Abroad"},zeroCommission:{title:"Zero-Commission Policy",subtitle:"Our commitment to 100% humanitarian assistance",principle1Title:"No Commissions Whatsoever",principle1Desc:"The platform takes absolutely no commission from humanitarian requests",principle2Title:"All Requests Are Free",principle2Desc:"All medical assistance requests are completely free",principle3Title:"Full Transparency",principle3Desc:"We protect patient privacy and verify all requests",principle4Title:"Legal & Responsible",principle4Desc:"We follow all legal rules for importing medicine",commercial:"Note: Any paid service (e.g., commercial delivery) is separate and not part of Al-Khayr"},faq:{title:"FAQ - Al-Khayr",subtitle:"How the medical assistance system works",q1:"What is Al-Khayr?",a1:"Al-Khayr is a humanitarian medical assistance system with zero commission. We connect patients with volunteers to facilitate access to medicine.",q2:"Are there any fees?",a2:"No, all humanitarian medical requests are completely free. We take no commission.",q3:"How can I request medicine?",a3:'Choose between "Local Medicine Request" if available in the country, or "Medicine From Abroad" if it needs importing.',q4:"How can I help as a volunteer?",a4:'Register on the "Volunteer Registration" page and specify what help you can offer.',q5:"Is my information safe?",a5:"Yes, we protect all patient privacy. Information is only shared with approved volunteers.",q6:"What about medicine import laws?",a6:"We verify all requests and follow local and international laws for medicine import."},admin:{title:"Al-Khayr Administration",subtitle:"Manage requests, matches, and volunteers"}},admin:{metrics:{pendingOrders:"Pending Orders",pendingDesc:"Awaiting processing",shipped:"Shipped",shippedDesc:"On their way",disputes:"Disputes",disputesDesc:"Needs attention",newAgents:"New Agents",newAgentsDesc:"In last 7 days"},actions:{title:"Quick Actions",refresh:"Refresh",export:"Export Data",orders:"Manage Orders",agents:"Review Agents",referrals:"Referral Codes",settings:"Settings",imports:"Import Requests",exchange:"Exchange Rates",desc:"Access tools and management interfaces."}},exchange:{title:"Secure Exchange Broker",subtitle:"Fast, secure, and mediated P2P currency exchange. We ensure every transaction is safe.",have:{step:"1",title:"I Have",currency:"Currency to Sell",payment:"Payment Method (Deposit)",amount:"Amount"},want:{step:"2",title:"I Want",currency:"Currency to Buy",payment:"Payment Method (Receive)",total:"Estimated Total"},location:{wilaya:"Wilaya (Location)",neededBy:"When do you need this?"},private:{title:"Private Contact Details",subtitle:"(Visible to Admin Only)",email:"Email",phone:"Phone Number",whatsapp:"WhatsApp (Optional)",telegram:"Telegram (Optional)"},form:{terms_label:"I accept the terms of service. I understand that Waseet acts as a broker and this request is subject to manual review.",submit_btn:"Submit Secure Request",submitting:"Submitting...",placeholder:{select_currency:"Select Currency",select_method:"Select Method",any_method:"Any Method",select_wilaya:"Select Wilaya",amount:"0.00"}},success:{title:"Request Submitted",desc:"We have received your secure exchange request.",id_prefix:"ID: #"},validation:{terms:"Please accept terms",required:"Please fill all required fields",amount:"Please enter a valid amount",date:"Please select a date",email:"Email is required",phone:"Phone number is required",submit_error:"Failed to submit request"}},exchange_sidebar:{howTitle:"How it works",step1:"Choose the type (Buy / Sell).",step2:"Select currencies and enter the amount.",step3:"Enter your payment methods.",step4:"Fill in your contact details and attach files if needed.",step5:"Accept the terms then submit.",securityTitle:"Security & Tips",securityBody:"We manually review each request. Never share passwords or sensitive codes. Verification may take up to 24h."},alkhayr_public:{tabs:{submit:"Submit Request",search:"Search",donate:"Donate",profile:"Profile"},filter:{title:"Search for Help",type:"Type",all:"All",local:"Local",foreign:"Foreign",wilaya:"Wilaya",search:"Search",placeholder:"Title, summary...",reset:"Reset",results:"results"},empty:{title:"No requests found",desc:"Try changing your search criteria."},card:{urgent:"Urgent",local:"Local",foreign:"Foreign",view:"View Request"},details:{urgent:"URGENT",relative_time:{today:"Today",yesterday:"Yesterday",days_ago:"{{days}} days ago"},no_description:"No details provided.",photos_title:"Additional Photos",contact_button:"Contact Us to Help",ref:"Request Reference",managed_by:"Managed by Waseet",story:"The Story",beneficiary:"Beneficiary",anonymous:"Anonymous",note_title:"Important Note",donate_now:"Donate Now",promo_badge:" Donate, Save a Life",years:"Years"},hero:{badge:"Medical Solidarity",title:"Your Health,",titleHighlight:"Our Priority",desc:"A solidarity platform to facilitate access to medicines and connect those in need with those who can help.",badges:{volunteer:"Volunteer Help",impact:"Lasting Impact"}},submit:{title:"Request Help",desc:"Fill out this confidential form. Your personal data will not be displayed publicly.",success:{title:"Request Saved!",desc:"It will be reviewed by our team. Only validated information will be made public.",btn_new:"Submit New Request"},tabs:{local:"Local (Algeria)",foreign:"Foreign"},sections:{medication:"Medication Information",requester:"Requester & Contact",location:"Location",financial:"Financial Capacity (Private)",logistics:"Logistics & Priority"},form:{medName:"Medication Name *",images:"Photo(s) (optional)",imagesHelp:"You can select multiple images.",prescription:"Prescription (Required for foreign)",prescriptionHelp:"If the prescription has multiple pages, select all of them.",desc:"Description / Details",descPlaceholder:"Describe your need...",requesterName:"Full Name *",requesterPlaceholder:"Will only be displayed as initials (e.g. Mr. B.)",phone:"Phone Number *",phonePlaceholder:"Reachable number",otherContacts:"Other contacts (Optional, visible to admin)",whatsapp:"WhatsApp",telegram:"Telegram",wilaya:"Wilaya *",country:"Target Country *",countryPlaceholder:"Ex: France, Turkey...",city:"City / Municipality *",financialOptions:{full:"I can cover all costs",partial:"I can cover part",none:"I cannot cover anything",delivery:"I have the product, just want delivery"},amount:"Approximate Amount (DZD)",delivery:"Do you need delivery?",priority:{label:"Perceived Priority Level",normal:"Normal",important:"Important",urgent:"Urgent",help:"Indication for admin. Final priority will be determined after review."},urgent_checkbox:{label:"Vital Emergency (Life Threatening)",desc:"Check this box ONLY if the patient's life is in immediate danger."},confirm:"I confirm that the information provided is accurate and that this request is authentic. I understand that this information will be verified by the team before publication.",submitBtn:"Submit Request",submitting:"Sending..."},errors:{required:"Please fill in all required fields.",wilaya:"Wilaya is required for local request.",country:"Country is required for foreign request.",confirm:"Please confirm the accuracy of the information.",submit:"An error occurred while sending."},toast:{success:{title:"Request sent!",desc:"Your request has been submitted for review."}}},donations:{title:"Material Donations Space",subtitle:"Share medicines, medical equipment and material aid with those in need.",view_items:"View Items",propose_item:"Offer an Item",available_items:"Available Items",empty:{title:"No items available yet",desc:"Check back later or offer a donation yourself!"},card:{medicine:"Medicine",equipment:"Equipment",other:"Other",new:"New",used_good:"Good Cond.",used_fair:"Fair Cond.",qty:"Qty",view_details:"View Details",contact:"Contact",contact_collect:"Contact to Collect",details_title:"Donation Details",added_on:"Added on",description_title:"Description",no_description:"Description available upon request.",no_images:"No images available"},form:{title:"Offer an Item",donor_info:"Your Contact Info (Private - Admin Only)",name:"Full Name *",phone:"Phone Number *",has_whatsapp:"I have WhatsApp",has_telegram:"I have Telegram",item_details:"Item Details",item_name:"Item Name *",category:"Category *",condition:"Condition *",location:"Location (Wilaya or Country) *",description:"Description (Private - Admin will write public version)",photos:"Photos * (At least 1)",consent:"I confirm this item is available for donation and agree to share item details (excluding my personal contact) on the platform.",submit:"Submit Offer",success_title:"Offer Submitted!",success_desc:"Your offer has been sent for validation. Thank you for your generosity!",uploading:"Uploading..."}},profile:{title:"My Requests",desc:"Check the status of your requests by entering your number.",dashboard:"Dashboard",logout:"Logout",access:"Access",phonePlaceholder:"+213 XXX XXX XXX",loading:"...",no_requests:"No requests found for this number.",login_error:"Connection Problem",login_req:"Number required",delete_error:"Unable to delete",delete_success:"Request deleted",status:{pending:"Pending",approved:"Validated",process:"In Progress",fulfilled:"Completed",rejected:"Rejected"}},search_errors:{fetch:"Unable to load requests"},contact_dialog:{title:"Contact Waseet",desc:"To protect patient privacy, all communication goes through our secure platform.",whatsapp:"Contact via WhatsApp",facebook:"Contact via Facebook",instagram:"Contact via Instagram"}},classification:{severe:"Critical",cancer:"Cancer",surgery:"Surgery",medium:"Medium",diabetes:"Diabetes",normal:"Normal",rare:"Rare Disease"},blood:{title:"Blood Donation",hero:{title:"Become a Blood Donor",subtitle:"Your blood can save a life. Join our community of heroes today.",badge:"Humanitarian Emergency",main_title_1:"Your Drop of Blood",main_title_2:"Saves a Life",description:"Join our network of anonymous heroes. Every donation counts, every gesture is a hope for someone in need.",volunteer:"100% Volunteer",impact:"Immediate Impact"},profile:{access_title:"Access my Profile",access_desc:"Enter your phone number to manage your information.",ph_phone:"+213 XXX XXX XXX",btn_access:"Access",not_registered:"Not registered yet?",btn_register:"Become a Donor",welcome:"Welcome, {{name}}",logout:"Logout",eligible:" You are eligible to donate blood!",eligible_again:" You can donate again!",days_remaining:" You can donate again in {{count}} days.",personal_info:"Personal Information",edit:"Edit",save:"Save",cancel:"Cancel",full_name:"Full Name",age:"Age",phone:"Phone",errors:{enter_phone:"Please enter your phone number",update_error:"Error updating profile"},update_success:"Profile updated successfully",wilaya:"Wilaya",public_visible:"Publicly visible",emergency_contact:"Emergency Contact",yes:"Yes",no:"No",history:"History",last_donation:"Last Donation Date",no_donation:"No donation recorded",update_error:"Unable to update profile",donor_not_found:"Donor not found",donor_not_found_desc:"No profile found with this number. Please register first."},transport:{available_count:"Available Volunteers ({{count}})",loading:"Loading...",empty:"No volunteers available at the moment.",volunteer_badge:"Volunteer",default_desc:"Free emergency transport.",contact_btn:"Contact Waseet",dialog:{title:"Transport Coordination",desc:"For everyone's safety, Waseet coordinates transport. Contact us to connect with this volunteer.",whatsapp:"Contact via WhatsApp",facebook:"Contact via Facebook"},title:"Transport Volunteers",subtitle:"In case of emergency, every minute counts.",find:"Find Transport",join:"Be a Transporter",privacy_note:"<strong>Note:</strong> Your details will <strong>never be displayed publicly</strong>. Waseet will only contact you in case of confirmed emergency.",register:{title:"Become a Transport Volunteer",subtitle:"Help save lives by transporting donors for free in emergencies.",full_name:"Full Name *",wilaya:"Wilaya *",city:"City / Municipality *",phone:"Phone Number *",other_contacts:"Other contacts (Optional, visible to admin only)",whatsapp:"WhatsApp",telegram:"Telegram",additional_info:"Additional Information (Optional)",additional_placeholder:"Ex: Available evenings, cannot leave the municipality...",visible_admin:"Visible only to admin.",consent_transport:"I confirm I can provide <strong>free</strong> transport in emergencies.",consent_contact:"I accept to be contacted by Waseet to coordinate emergencies.",btn_submit:"Register as Volunteer",btn_submitting:"Registering...",success_title:"Success",success_desc:"Thank you! You are registered as a transport volunteer.",error_title:"Error",error_desc:"An error occurred.",error_consent:"Please accept the conditions."}},search:{error_fetch:"Unable to load donor list",title:"Filter Donors",filter_blood:"Blood Type",filter_wilaya:"Wilaya",filter_name:"Search by Name",placeholder_name:"Donor name...",results_count:"{{count}} result(s) found",reset:"Reset",loading:"Searching for heroes...",empty_title:"No donors found",empty_desc:"Try changing your search criteria.",last_donation:"Last donation: {{time}}",never_donated:"Never donated",days_ago:"{{count}} days ago",months_ago:"{{count}} months ago",years_ago:"{{count}} year(s) ago",urgent_badge:" Available for Emergency",call:"Call",note_title:"Important Note",note_desc:"The information above is provided by donors themselves. Waseet is not responsible for the accuracy of the information. Please treat donors with respect and only contact them in case of real need."},register:{title:"Become a Donor",subtitle:"Fill this form to help those in need.",success_title:"Registration Successful!",success_desc:"Thank you for joining our community of heroes. Your gesture can save lives.",btn_profile:"Go to my profile",btn_another:"Register another donor",personal_info:"Personal Information",full_name:"Full Name *",phone:"Phone Number *",email:"Email (optional)",age:"Age * (18-65 years)",blood_info:"Blood Information",blood_type:"Blood Type *",last_donation:"Last Donation (optional)",location:"Location",wilaya:"Wilaya *",city:"City *",medical_info:"Medical Conditions (optional)",consent_contact:"I accept to be contacted for urgent requests",consent_public:"I accept that my info is visible in public list",submit:"Confirm Registration",submitting:"Registering...",eligibility_title:"Important Eligibility Criteria",criteria_age:"18-65 years",criteria_weight:"+50 kg",criteria_health:"Good general health",criteria_recent:"No recent donation (-3 months)",errors:{wilaya:"Wilaya is required",city:"City is required",reg_error:"An error occurred during registration",unexpected:"An unexpected error occurred"}},tabs:{search:"Find a Donor",register:"Become a Donor",transport:"Transport",profile:"My Profile"},filter:{all:"All"}},store:{card:{outOfStock:"Out of Stock",onlyLeft:"Only {{count}} left!",noImage:"No Image",view:"View",addToCart:"Add to Cart"},filter:{label:"Filter by:",placeholder:"All Product Types",all:"All"},notFound:{title:"Category Not Found",desc:"The requested category could not be found."},noCategories:{title:"No Categories",desc:"No store categories are available at the moment."},goHome:"Go Home",searchPlaceholder:"Search products...",clear:"Clear",noProducts:{title:"No Products Found",descSearch:"No products match your search/filter.",descEmpty:"This category is empty."},toast:{error_title:"Error",load_data_error:"Failed to load store data.",load_products_error:"Failed to load products."},suggestion:{btn_trigger:"Suggest a Product",title:"Suggest a Product",personal_info:"Your Information",full_name:"Full Name *",phone:"Phone Number *",whatsapp_label:"I have WhatsApp",whatsapp_placeholder:"WhatsApp Number",telegram_label:"I have Telegram",telegram_placeholder:"Telegram Username/Number",product_details:"Product Details",product_name:"Product Name *",proposed_price:"Proposed Price *",photos_label:"Product Photos * (At least 1)",upload:"Upload",source_info:"Source Information (Optional)",store_name:"Store Name",source_type:"Source Type",source_types:{local:"Local Product",imported:"Imported Product"},store_location:"Store Location",notes:"Additional Notes",notes_placeholder:"Any extra details...",cancel:"Cancel",submit:"Submit Suggestion",toast:{images_uploaded:"Images uploaded",images_desc:"Successfully uploaded {{count}} images.",upload_failed:"Upload Failed",image_required:"Image Required",image_required_desc:"Please upload at least one photo of the product.",success_title:"Suggestion Sent!",success_desc:"Thank you. Your product suggestion has been sent for review.",failed_title:"Submission Failed"}}},admin_alkhayr:{title:"Al-Khayr Administration",subtitle:"Strict Control of Public Content",stats:{pending:"Pending",online:"Online (Public)",total:"Total Requests"},tabs:{pending:"Pending",online:"Online",handled:"Processed",rejected:"Rejected",all:"All"},card:{untitled:"(No Public Title)",raw:"Raw: {{val}}"},modal:{status:{pending:"Pending",online:"Online",handled:"Processed",rejected:"Rejected"},actions:{cancel:"Cancel",save:"Save Changes"},title:"Manage Request #{{id}}",section_raw:"Raw Data (Read Only)",section_public:"Public Space (Curated)",requester:"Requester (Private)",location:"Location (Declared)",need:"Need (Raw)",docs:"Documents & Photos (User)",prescription:"Prescription",med_photos:"Medicine Photos",open:"Open",use:"Use",financial:{capability:"Capability",offer:"Offer",family:"Family",income:"Income",delivery:"Delivery"},form:{title:"Public Title *",title_ph:"e.g., Father in Algiers needs Insulin",title_help:"NEVER put the real name.",wilaya:"Public Wilaya",area:"Area / Neighborhood",summary:"Short Summary (Card) *",summary_ph:"Short summary visible on the card...",desc:"Full Description (Detail)",desc_ph:"Full story, details...",gallery:"Photo Gallery (Display)",upload_drag:"Drag or click",use_proof:"Use User Proof",status:"Status & Visibility",urgent_admin:"Admin Urgency"}}},tracking_page:{order_prefix:"ORDER #",custom_request_title:"Custom Product Request",more_items:"+{{count}} more",status_labels:{processing:"On the way",completed:"Completed",rejected:"Rejected",default:"Processing"},validation:{inputRequired:{title:"Input Required",desc:"Please enter an Order ID or Phone Number."},invalidFormat:{title:"Invalid Format",desc:"Please enter a valid Phone Number or Order ID."}},header:{title:"Track Your Order",desc:"Check the status of your order in real-time."},search:{placeholder:"Order ID or Phone Number",btn:"Track Order",tip:"Tip: You can use your phone number to see all your orders."},results:{back:"Back to List",details:"Order Details",found:"Found {{count}} orders",noOrders:{title:"No Orders Found",desc:`We couldn't find any orders matching "{{query}}".
Please check your input or contact support.`}}},verification_page:{title:"My Orders",desc:"Enter your phone number to see all your requests.",card_title:"Find Your Orders",card_desc:"We will look up orders linked to your phone number.",phone_label:"Phone Number",btn_searching:"Searching...",btn_find:"Find Orders",results_count:"Found {{count}} Orders",no_orders:"No {{filter}} orders found.",filters:{all:"all",active:"active",completed:"completed",cancelled:"cancelled"},toast:{phone_required:"Phone Required",phone_desc:"Please enter your phone number to find your orders.",error_title:"Error",error_desc:"Failed to fetch orders. Please check your connection."}},admin_orders:{title:"Order Management",subtitle:"View and manage all customer orders.",listTitle:"Recent Orders",searchPlaceholder:"Search by Order ID, Customer, or Product...",filterType:{all:"All Types"},status:{all:"All Statuses"},table:{id:"Order ID",type:"Type",product:"Product / Details",customer:"Customer",contact:"Contact",total:"Total",status:"Status",date:"Date",actions:"Actions"},badges:{store:"Store Order",custom:"Custom Request"},externalLink:"External Link"},register_agent:{hero:{title:"Join as an Import Agent",subtitle:"Help bring items from abroad and earn by facilitating logistics."},personal:{title:"Personal & Contact Info",name:"Full Name *",country:"Current Country *",city:"City *",email:"Email Address *",phone:"Phone Number (WhatsApp) *",telegram:"Telegram (Optional)",placeholders:{name:"e.g. John Doe",country:"e.g. France",city:"e.g. Paris",email:"john@example.com",phone:"+33 6 12 34 56 78",telegram:"@username"}},capabilities:{title:"Import Capabilities",countries_label:"Countries you can ship from *",countries_placeholder:"e.g. France, Germany, Spain (comma separated)",countries_hint:"List all countries where you have a presence or can ship from.",methods_label:"Shipping Methods Supported",methods:{air:"Air Cargo",sea:"Sea Freight",hand:"Hand-carry (Traveler)"},methods_placeholder:"e.g. Air Cargo, DHL, Personal Transport",frequency_label:"Frequency of Shipments",freq_regular:"Regular",freq_regular_desc:"Weekly or monthly schedule",freq_occasional:"Occasional",freq_occasional_desc:"Based on travel/demand"},categories:{title:"Product Categories",label:"What can you handle?",options:{electronics:"Electronics",clothing:"Clothing",medical:"Medical Items",cosmetics:"Cosmetics",auto:"Auto Parts",general:"General Goods"},other_label:"Other (please specify)",other_placeholder:"e.g. Heavy machinery, Documents..."},pricing:{title:"Pricing Information (Optional)",subtitle:"This helps us estimate costs but isn't binding. Final pricing is confirmed manually per request.",price_per_kg:"Price per KG",currency:"Currency",type:"Pricing Type",types:{fixed:"Fixed Rate",negotiable:"Estimated / Negotiable"}},additional:{title:"Additional Notes",placeholder:"Tell us about your experience, specific constraints, or anything else..."},legal:{title:"Terms & Agreement",broker:"I understand that Waseet acts as a broker only and connects me with verified requests.",admin:"I agree that all coordination is subject to admin approval before sharing my details with customers.",terms:"I accept the terms and conditions and certify that provided information is accurate.",submit:"Submit Registration",submitting:"Submitting Application..."},success:{title:"Registration Received",desc:"Your registration (ID #{{id}}) has been received and is under review. The admin team will contact you if your profile matches our needs.",home_btn:"Return Home"},validation:{name:"Full Name is required",country:"Current Country is required",city:"City is required",phone:"Phone number is required",email:"Valid Email is required",countries:"List at least one country you can ship from",broker:"You must acknowledge Waseet acts as a broker only",admin:"You must agree to Admin coordination",terms:"You must accept the terms and conditions",title:"Validation Needed",error_title:"Error",default_error:"Failed to submit"}},request_import:{blocked:{title:"Unavailable for now",desc:"This feature will return soon. Click OK to return home.",btn:"OK"},title:"Request Import",subtitle:"Submit an international import request for review.",sections:{contact:"Contact",origin:"Origin",product:"Product",options:"Options",confirmation:"Confirmation",tips:"Tips"},contact:{name:"Customer Name",name_ph:"Optional",method:"Contact Method",value:"Contact Value *",value_ph:"+2135XXXXXXXX"},origin:{country:"Origin Country *",country_ph:"France",city:"Origin City",city_ph:"Paris"},product:{desc:"Description *",desc_ph:"Brand / Model / Size",links:"Link(s) (optional)",links_ph:"One per line or comma-separated",currency:"Currency",value:"Value *",value_ph:"129.99",quantity:"Quantity *"},options:{priority:"Shipping Priority",priorities:{normal:"normal",express:"express"},delivery:"Delivery Method",deliveries:{home:"home",pickup:"pickup"}},confirmation:{terms:"I accept service fee and terms *",submit:"Submit Request",submitting:"Submitting...",modal:{title:"Confirm your request",cancel:"Cancel",confirm:"Confirm & Submit"}},tips:{title:"Tips",t1:"Provide clear brand/model details for faster verification.",t2:"WhatsApp gives quicker status updates than email/phone.",t3:"Express shipping increases cost; choose only if urgent."},validation:{contact:"WhatsApp/Email/Phone is required",country:"Origin country is required",desc:"Product description is required",value:"Product value is required",quantity:"Quantity must be at least 1",terms:"You must accept the terms",title:"Validation",sent:"Request submitted",sent_desc_id:"Your request #{{id}} has been received.",error:"Error",wait:"Please wait",wait_desc:"You can submit again in a minute"}}}},fr:{translation:{yes:"Oui",no:"Non",nav:{home:"Accueil",order:"Commander",track:"Suivre la commande",earn:"Gagner des rcompenses",verify:"Vrifier",about:" propos",contact:"Contact",exchange:"change",internationalAgent:"Agent International",agent:{requestImport:"Demande d'importation",registerAgent:"Sinscrire comme Agent"},store:"Boutique",alkhayr_label:"Al-Khayr",waseet:"Waseet"},cart:{title:"Votre Panier",empty:"Votre panier est vide",start_shopping:"Commencer vos achats",no_img:"Sans img",subtotal:"Sous-total",shipping:"Livraison",shipping_home:"Livraison (Domicile)",shipping_desk:"Livraison (Stopdesk)",shipping_to:"Livraison vers :",change:"Modifier",select_wilaya:"Slectionner Wilaya",select_address:"Slectionner Adresse",total:"Total",checkout_details:"Dtails de la commande",name:"Nom complet *",name_placeholder:"Jean Dupont",phone:"Numro de tlphone *",phone_placeholder:"+213...",email:"Email (Optionnel)",email_placeholder:"jean@example.com",additional_contact:"Mthodes de contact supplmentaires (Optionnel)",whatsapp:"WhatsApp",whatsapp_placeholder:"Numro WhatsApp (+213...)",telegram:"Telegram",telegram_placeholder:"Telegram @nomutilisateur",place_order:"Commander",processing:"Traitement...",close:"Fermer",order_success_title:"Commande passe avec succs",order_success_desc:"Nous avons bien reu votre commande.",contact_shortly:"Nous vous contacterons bientt pour confirmer votre commande.",keep_ref:"Veuillez conserver ces numros de commande pour rfrence.",validation:{missing_shipping_title:"Info de livraison manquante",missing_shipping_desc:"Veuillez fournir votre adresse de livraison.",missing_name_title:"Nom manquant",missing_name_desc:"Veuillez entrer votre nom complet.",missing_phone_title:"Tlphone manquant",missing_phone_desc:"Veuillez entrer votre numro de tlphone obligatoire.",missing_whatsapp_title:"WhatsApp manquant",missing_whatsapp_desc:"Veuillez entrer votre numro WhatsApp ou dcocher l'option.",missing_telegram_title:"Telegram manquant",missing_telegram_desc:"Veuillez entrer votre nom d'utilisateur Telegram ou dcocher l'option."},order_failed_title:"chec de la commande",order_failed_desc:"Une erreur s'est produite. Veuillez ressayer."},footer:{home:"Accueil",order:"Commander",trackOrder:"Suivre la commande",exchange:"change",contact:"Contact",rights:"Tous droits rservs.",services:"Services",support:"Support",connect:"Suivez-nous",importRequest:"Demande d'importation",aboutUs:" propos",verified_badge:"Demandes vrifies humainement  Service de courtage",privacy:"Confidentialit",terms:"Conditions",cookies:"Cookies",brandDesc:"Waseet est une plateforme de courtage de confiance reliant les personnes  la logistique, aux changes et aux services vrifis."},referral:{headerTitle:"Gagnez des Rcompenses avec le Parrainage",headerDesc:"Partagez votre code et gagnez 1000 DA pour chaque 200 $ d'achats effectus avec votre code",genTitle:"Gnrez Votre Code de Parrainage",genDesc:"Entrez vos coordonnes pour crer votre code unique",contactMethod:"Mthode de Contact",whatsapp:"WhatsApp",telegram:"Telegram",labels:{whatsapp:"Numro WhatsApp",telegram:"Nom d'utilisateur Telegram"},placeholders:{whatsapp:"+213550123456",telegram:"@votreutilisateur"},actions:{generate:"Gnrer Mon Code",generating:"Gnration...",verify:"Vrifier Mes Gains",checking:"Vrification..."},toast:{error:"Erreur",contact_required:"Veuillez entrer vos coordonnes",phone_invalid:"Format doit tre +2135/6/7 + 8 chiffres",existing_title:"Un code existe dj !",existing_desc:"Voici votre code de parrainage existant",success_title:"Succs !",success_desc:"Votre code de parrainage a t gnr",check_none_title:"Aucun code trouv",check_none_desc:"Aucun code de parrainage n'existe pour ce contact",check_found_title:"Statistiques trouves !",check_found_desc:"Voici vos statistiques de parrainage",copied_title:"Copi !",copied_desc:"Code de parrainage copi dans le presse-papiers"},stats:{your_code:"Votre Code de Parrainage",total_collected:"Total collect",rewards:"Rcompenses",total_earned:"Total gagn",milestone_prefix:"Plus que",milestone_suffix:"pour gagner",milestone_reward:"1000 DA"},withdraw:{button:"Demander un Retrait",available_balance:"Solde Disponible",ready:"Prt  retirer",pending_approval:"En attente d'approbation",pending_request:"Demande en attente",request_submitted:"Demande envoye",success_title:"Demande Envoye !",success_desc:"Votre demande de retrait sera traite sous peu"},generateAnother:"Gnrer un autre code",contactLabel:"Contact : {{type}} - {{value}}",howItWorks:{title:"Comment a marche :",step1:"Partagez votre code avec vos amis",step2:"Ils entrent votre code lors de l'achat",step3:"Chaque 200 $ d'achats = 1000 DA pour vous",step4:"Pas de limite ! Continuez  gagner",example:"Exemple : Si les achats avec votre code atteignent 600 $, vous gagnez 3000 DA"},self_referral_note:"Vous ne pouvez pas gagner de rcompenses en utilisant votre propre code."},verify:{title:"Vrifier Mes Achats",subtitle:"Entrez votre WhatsApp ou Telegram pour voir vos commandes",cardTitle:"Trouver Vos Commandes",cardDesc:"Nous rechercherons les commandes par vos coordonnes",contactMethod:"Mthode de Contact",labels:{whatsapp:"WhatsApp",telegram:"Telegram",number:"Numro WhatsApp",username:"Nom utilisateur Telegram"},placeholders:{whatsapp:"+213550123456",telegram:"@votreutilisateur"},actions:{verify:"Vrifier Mes Achats",checking:"Vrification..."},toast:{error:"Erreur",contact_required:"Veuillez entrer votre contact",phone_invalid:"Format invalide",no_purchases_title:"Aucun achat trouv",no_purchases_desc:"Nous n'avons trouv aucune commande pour ce contact",fetch_error_title:"Erreur",fetch_error_desc:"chec de la rcupration des achats"},results:{title:"Vos Commandes",found:"{{count}} trouves",order:"Commande #{{id}}",productLink:"Lien Produit"}},about:{hero:{title:" propos de Waseet",subtitle:"Votre courtier de confiance faisant le pont entre les besoins locaux et les opportunits internationales."},what:{title:"Qu'est-ce que Waseet ?",desc1:"Waseet est une plateforme de courtage de services conue pour simplifier les transactions complexes pour les utilisateurs algriens. Nous agissons comme intermdiaire scuris, vous connectant aux produits, opportunits de change et marchs internationaux.",desc2:'Nous fonctionnons sur un modle <strong>"humain dans la boucle"</strong>. Cela signifie que chaque demande est personnellement examine et traite par notre quipe, garantissant scurit et prcision plutt que de compter sur une automatisation aveugle.',cards:{mediated:"Service Mdiatis",secure:"Processus Scuris"}},services:{title:"Ce Que Nous Faisons",subtitle:"Nos services principaux simplifient votre accs  l'conomie numrique.",cards:{store:{title:"Boutique et Commande",desc:"Parcourez notre boutique slectionne pour des articles trs demands. Vous pouvez passer commande sans crer de compte. Chaque commande est examine manuellement pour confirmer la disponibilit et les dtails d'expdition selon votre Wilaya avant traitement."},exchange:{title:"Change de Devises",desc:"Soumettez des demandes d'achat ou de vente de devises standard. Nos taux sont indicatifs et fixs par nos administrateurs. Nous traitons ces demandes manuellement pour assurer un environnement d'change sr pour toutes les parties."},import:{title:"Importation et Logistique",desc:"Accdez aux marchs internationaux via notre service d'importation personnalis (Bientt disponible). Nous collaborons galement avec des partenaires logistiques vrifis pour grer l'expdition. Tous les partenariats d'agents sont vrifis manuellement."}}},how:{title:"Comment a Marche",steps:{1:{title:"Demande",desc:"Vous soumettez votre commande, change ou demande d'importation via nos formulaires simples."},2:{title:"Revue",desc:"Notre quipe vrifie personnellement les dtails, le stock et les taux pour prcision."},3:{title:"Contact",desc:"Nous vous contactons par tlphone ou WhatsApp pour confirmer et finaliser."},4:{title:"Mise  Jour",desc:"Suivez votre statut  tout moment en utilisant votre ID de commande sur notre page de suivi."}}},why:{title:"Pourquoi Choisir Waseet ?",items:{adapted:{title:"Adapt  l'Algrie",desc:"Conu spcifiquement pour le contexte et les dfis locaux."},human:{title:"Vrification Humaine",desc:"Nous priorisons la scurit sur la vitesse. Chaque transaction est surveille."},centralized:{title:"Service Centralis",desc:"Services multiples (Achats, Change, Import) en un seul endroit de confiance."}}},notice:{title:"Avis de Transparence Important",desc:"Pour assurer une confiance et une transparence totales avec nos utilisateurs, nous voulons tre clairs sur ce que nous ne sommes PAS :",items:{1:"Nous ne sommes <strong>PAS une banque</strong> ou une institution financire officielle.",2:"Nous ne traitons <strong>PAS les paiements automatiquement</strong>. Tous les fonds sont grs de manire scurise via des canaux manuels vrifis.",3:"Le placement d'une demande agit comme une rservation, pas une garantie instantane. La confirmation suit peu aprs examen."}},footer:{title:"Questions ?",desc:"Notre quipe est l pour vous aider  naviguer dans nos services.",support:"Support disponible via WhatsApp et Email"}},contact:{title:"Contactez-nous",subtitle:"Des questions ? Nous sommes l pour vous aider. Contactez-nous via l'un de ces canaux.",whatsapp_title:"WhatsApp",whatsapp_desc:"Discutez avec nous sur WhatsApp",telegram_title:"Telegram",telegram_desc:"crivez-nous sur Telegram",email_title:"Email",email_desc:"Envoyez-nous un email",hours_title:"Horaires",hours_desc:"Nous sommes disponibles aux horaires suivants",days:{monfri:"Lundi - Vendredi",sat:"Samedi",sun:"Dimanche"},times:{monfri:"09:00 - 18:00",sat:"10:00 - 16:00",sun:"Ferm"}},home:{hero:{title_prefix:"Courtage de confiance pour",title_highlight:"Logistique & Change",subtitle:"Waseet vous connecte aux marchs internationaux et au change de devises via un processus scuris et vrifi par des humains. Professionnel, transparent et conu pour l'Algrie.",cta_explore:"Explorer les services",cta_track:"Suivre une commande"},services:{title:"Nos Services",subtitle:"Des solutions professionnelles pour vos besoins internationaux.",marketplace:{title:"Marketplace",desc:"Accdez  des produits slectionns avec une tarification transparente. Commandez facilement et laissez-nous grer la logistique jusqu' votre wilaya.",btn:"Parcourir la boutique"},exchange:{title:"Change de Devises",desc:"Courtage scuris pour les transactions de devises. Nous vrifions chaque demande manuellement pour garantir scurit et fiabilit.",btn:"Taux de change"},import:{title:"Import Personnalis",desc:"Demandez des articles spcifiques des marchs internationaux. Nous vrifions la disponibilit et fournissons un devis confirm incluant la livraison.",btn:"Demander un devis"},tracking:{title:"Suivi de Commande",desc:"Mises  jour de statut en temps rel pour toutes vos transactions. Entrez simplement votre ID de commande pour vrifier la progression.",btn:"Suivre le statut"}},how:{title:"Comment fonctionne la plateforme",subtitle:"Un processus simple et vrifi par des humains pour chaque demande.",steps:{1:{title:"Soumettre une demande",desc:"Commandez, changez ou importez via nos formulaires."},2:{title:"Revue de l'quipe",desc:"Nous vrifions manuellement les dtails et la disponibilit."},3:{title:"Confirmation",desc:"Vous recevez une approbation avant toute action."},4:{title:"Suivi de progression",desc:"Suivez les mises  jour de statut jusqu' la finalisation."}},manual_note:"Pas d'excution automatique. Chaque tape est vrifie par un humain."},trust:{title:"Bas sur des processus, pas des promesses",subtitle:"Nous priorisons la scurit, la transparence et la clart plutt que la vitesse.",cards:{review:{title:"Revue Humaine",desc:"Chaque demande est examine manuellement. Pas de traitement aveuglenous confirmons les dtails d'abord."},comms:{title:"Comms Claires",desc:"Nous vrifions les prix et dlais avec vous avant d'agir. Vous n'tes jamais laiss dans le doute."},broker:{title:"Rle de Courtier",desc:"Nous agissons comme votre courtier, coordonnant et vrifiant les transactions pour garder le contrle entre vos mains."},local:{title:"Ralit Locale",desc:"Conu pour l'Algrie. De la logistique par wilaya aux vrifications manuelles, nous connaissons le contexte."}}},who:{title:"Qui utilise Waseet ?",shoppers:{title:"Acheteurs Internationaux",desc:"Individus voulant acheter  l'tranger mais ayant besoin d'un intermdiaire de confiance."},exchangers:{title:"changeurs de Devises",desc:"Personnes ayant besoin de services de change scuriss et coordonns sans risque."},verification:{title:"Chercheurs de Vrification",desc:"Utilisateurs prfrant une confirmation humaine plutt que des systmes automatiss aveugles."}},transparency:{title:"Ce que Waseet n'est pas",items:{1:"Waseet n'est <strong>pas une banque</strong> et ne dtient pas de fonds comme un portefeuille.",2:"Waseet n'excute <strong>pas de paiements automatiques</strong> sans revue.",3:"Waseet ne <strong>garantit pas la disponibilit</strong> instantanment ; une confirmation est requise."}},ready:{title:"Prt  commencer ?",explore:"Explorer les services",support:"Contacter le support"}},order:{header:{title:"Nouvelle Commande",subtitle:"Rapide. Simple. Mondial."},product:{title:"Information Produit",name:"Nom du Produit",name_ph:"ex: iPhone 15 Pro Max",url:"URL du Produit *",url_ph:"https://amazon.fr/produit",price:"Prix du Produit *",shipping:"Livraison ($)"},personal:{title:"Vos Informations",name:"Nom Complet *",name_ph:"Jean Dupont",contact_method:"Mthode de Contact *",whatsapp:"WhatsApp",telegram:"Telegram",contact_ph_whatsapp:"+213550123456",contact_ph_telegram:"@username"},optional:{referral:"Code de Parrainage (Optionnel)",referral_ph:"ABCD1234",notes:"Notes",notes_ph:"Couleur, taille, instructions spciales..."},actions:{processing:"Traitement en cours...",place:"Passer la Commande",add_to_cart:"Ajouter au Panier"},summary:{title:"Rsum de la Commande",product:"Produit",shipping:"Livraison",total:"Total",usd_total:"Total (USD)",dzd:"Dinar Algrien"},benefits:{secure_title:"Paiement Scuris",secure_desc:"Vos donnes sont chiffres",fast_title:"Traitement Rapide",fast_desc:"Commandes confirmes sous 24h",track_title:"Suivi en Temps Rel",track_desc:"Suivez votre commande  chaque tape"},validation:{error:"Erreur",url_required:"L'URL du produit est requise",url_invalid:"Veuillez entrer une URL valide commenant par http:// ou https://",price_required:"Veuillez entrer un prix de produit valide",name_required:"Le nom est requis",contact_required:"Les informations de contact sont requises",phone_invalid:"Le numro doit tre au format +213 5/6/7 suivi de 8 chiffres",self_referral:"Vous ne pouvez pas utiliser votre propre code de parrainage.",invalid_referral:"Code de parrainage introuvable."},success:{title:"Succs !",desc:"Votre commande a t soumise avec succs"},toast:{added:"Ajout au panier",added_desc:"Produit ajout  votre panier"},error:{title:"Erreur",generic:"chec de la soumission de la commande. Veuillez ressayer."}},product_details:{notFound:{title:"Produit Introuvable",desc:"Le produit que vous cherchez n'existe pas ou a t supprim."},backToStore:"Retour  la Boutique",back:"Retour",inStock:"En Stock",addToCart:"Ajouter au Panier",freeShipping:"Livraison gratuite pour les commandes de plus de 100$",securePayment:"Paiement scuris",noDescription:"Aucune description disponible."},store:{notFound:{title:"Catgorie Introuvable",desc:"La catgorie demande est introuvable."},noCategories:{title:"Aucune Catgorie",desc:"Aucune catgorie de boutique disponible pour le moment."},goHome:"Accueil",searchPlaceholder:"Rechercher des produits...",clear:"Effacer",noProducts:{title:"Aucun Produit Trouv",descSearch:"Aucun produit ne correspond  votre recherche.",descEmpty:"Cette catgorie est vide."},card:{outOfStock:"Rupture de Stock",onlyLeft:"Plus que {{count}} !",noImage:"Pas d'image",view:"Voir",addToCart:"Ajouter au Panier"},filter:{label:"Filtrer par :",placeholder:"Tous les Types",all:"Tous les Types"},toast:{error_title:"Erreur",load_data_error:"Erreur de chargement des donnes de la boutique.",load_products_error:"Erreur de chargement des produits."},suggestion:{btn_trigger:"Suggrer un Produit",title:"Suggrer un Produit",personal_info:"Vos Informations",full_name:"Nom Complet *",phone:"Numro de Tlphone *",whatsapp_label:"J'ai WhatsApp",whatsapp_placeholder:"Numro WhatsApp",telegram_label:"J'ai Telegram",telegram_placeholder:"Utilisateur/Numro Telegram",product_details:"Dtails du Produit",product_name:"Nom du Produit *",proposed_price:"Prix Propos *",photos_label:"Photos du Produit * (Au moins 1)",upload:"Tlcharger",source_info:"Info Source (Optionnel)",store_name:"Nom du Magasin",source_type:"Type de Source",source_types:{local:"Produit Local",imported:"Produit Import"},store_location:"Emplacement du Magasin",notes:"Notes Supplmentaires",notes_placeholder:"Dtails supplmentaires...",cancel:"Annuler",submit:"Soumettre la Suggestion",toast:{images_uploaded:"Images tlcharges",images_desc:"{{count}} images tlcharges avec succs.",upload_failed:"chec du Tlchargement",image_required:"Image Requise",image_required_desc:"Veuillez tlcharger au moins une photo du produit.",success_title:"Suggestion Envoye !",success_desc:"Merci. Votre suggestion de produit a t envoye pour examen.",failed_title:"chec de l'envoi"}}},exchange:{title:"Courtier de Change Scuris",subtitle:"change P2P rapide, scuris et mdiatis. Nous garantissons la scurit de chaque transaction.",have:{step:"1",title:"J'ai",currency:"Devise  Vendre",payment:"Mode de Paiement (Dpt)",amount:"Montant"},want:{step:"2",title:"Je Veux",currency:"Devise  Acheter",payment:"Mode de Paiement (Rception)",total:"Total Estim"},location:{wilaya:"Wilaya (Localisation)",neededBy:"Pour quand en avez-vous besoin ?"},private:{title:"Coordonnes Prives",subtitle:"(Visible uniquement par l'admin)",email:"Email",phone:"Numro de Tlphone",whatsapp:"WhatsApp (Optionnel)",telegram:"Telegram (Optionnel)"},form:{terms_label:"J'accepte les conditions de service. Je comprends que Waseet agit comme courtier et que cette demande est soumise  examen manuel.",submit_btn:"Soumettre Demande Scurise",submitting:"Envoi...",placeholder:{select_currency:"Choisir Devise",select_method:"Choisir Mthode",any_method:"Toute mthode",select_wilaya:"Choisir Wilaya",amount:"0.00"}},success:{title:"Demande Soumise",desc:"Nous avons bien reu votre demande d'change scurise.",id_prefix:"ID: #"},validation:{terms:"Veuillez accepter les conditions",required:"Veuillez remplir tous les champs",amount:"Veuillez entrer un montant valide",date:"Veuillez slectionner une date",email:"L'email est requis",phone:"Le tlphone est requis",submit_error:"chec de l'envoi"}},exchange_sidebar:{howTitle:"Comment a marche",step1:"Choisissez le type (Acheter / Vendre).",step2:"Slectionnez les devises et entrez la quantit.",step3:"Saisissez vos mthodes de paiement.",step4:"Renseignez vos coordonnes et joignez des fichiers si ncessaire.",step5:"Acceptez les termes puis envoyez.",securityTitle:"Scurit & Conseils",securityBody:"Nous vrifions chaque demande manuellement. Ne partagez jamais de mots de passe ou codes sensibles. La vrification peut prendre jusqu 24h."},admin_orders:{title:"Commerce & Commandes",subtitle:"Grer les commandes boutique et achats perso.",listTitle:"Liste des Commandes",searchPlaceholder:"Rechercher commandes...",filterType:{all:"Tous Types",store:"Boutique",custom:"Perso"},status:{all:"Tous Statuts",new:"Nouveau",processing:"Traitement",done:"Termin",cancelled:"Annul"},table:{id:"ID",type:"Type",product:"Produit",customer:"Client",contact:"Contact",total:"Total",status:"Statut",date:"Date",actions:"Actions"},noOrders:"Aucune commande trouve",externalLink:"Lien Externe",viewDetails:"Voir Dtails",badges:{custom:"Perso",store:"Boutique"}},admin_store:{management:{title:"Gestion Boutique",desc:"Grer catgories, produits et types",tabs:{categories:"Catgories",products:"Produits",types:"Types de Produits"}},categories:{title:"Catgories",add:"Ajouter Catgorie",edit:"Modifier",manageDesc:"Grer infos catgories.",table:{name:"Nom",badge:"Badge",slug:"Slug",status:"Statut",order:"Ordre",actions:"Actions",active:"Actif",inactive:"Inactif"},form:{name:"Nom *",slug:"Slug *",badgeLabel:"Libell Badge *",badgeColor:"Couleur Badge"},messages:{validation:"Remplir champs requis.",updated:"Catgorie mise  jour.",created:"Catgorie cre.",deleted:"Catgorie supprime.",confirmDelete:"Supprimer cette catgorie ?"}},products:{title:"Produits",add:"Ajouter Produit",edit:"Modifier Produit",manageDesc:"Grer infos et images produits.",noCategories:{title:"Pas de Catgories",desc:"Crez une catgorie d'abord.",boxTitle:"Aucune catgorie trouve.",boxDesc:"Crez une catgorie d'abord."},form:{category:"Catgorie *",type:"Type",name:"Nom *",slug:"Slug *",price:"Prix *",stock:"Stock",desc:"Description",status:"Statut",images:"Images",placeholders:{selectCategory:"Choisir catgorie",selectType:"Choisir type (optionnel)",none:"Aucun",unlimited:"Vide pour illimit"}},table:{category:"Catgorie",price:"Prix",stock:"Stock",status:"Statut",actions:"Actions",inStock:"{{count}} en stock",outOfStock:"puis",unlimited:"Illimit"},messages:{updated:"Produit mis  jour.",created:"Produit cr.",deleted:"Produit supprim.",imagesUploaded:"Images tlcharges.",confirmDelete:"Supprimer ce produit ?"}},types:{title:"Types de Produits",add:"Ajouter Type",edit:"Modifier Type",manageDesc:"Grer types produits.",table:{name:"Nom",category:"Catgorie",slug:"Slug",status:"Statut",order:"Ordre",actions:"Actions",active:"Actif",inactive:"Inactif"},form:{category:"Catgorie *",name:"Nom *",slug:"Slug *",desc:"Description",order:"Ordre",active:"Actif",placeholders:{selectCategory:"Choisir catgorie",name:"quipement",slug:"equipement",desc:"Description..."}},messages:{validation:"Remplir champs requis.",updated:"Type mis  jour.",created:"Type cr.",deleted:"Type supprim.",confirmDelete:"Supprimer ce type ?"}},suggestions:{title:"Suggestions Produits",subtitle:"Revoir produits suggrs.",listTitle:"Liste Suggestions",search:{placeholder:"Chercher produit ou utilisateur...",filter:"Filtrer par Statut"},status:{all:"Tous Statuts",pending:"En Attente",reviewed:"Revue",accepted:"Accepte",rejected:"Rejete"},table:{product:"Nom Produit",price:"Prix",user:"Utilisateur",status:"Statut",date:"Date",actions:"Actions"},messages:{empty:"Aucune suggestion trouve.",errorFetch:"chec rcupration suggestions."},actions:{review:"Revoir"}}},admin_alkhayr:{title:"Administration Al-Khayr",subtitle:"Contrle Strict du Contenu Public",stats:{pending:"En Attente",online:"En Ligne (Public)",total:"Total Demandes"},tabs:{pending:"En Attente",online:"En Ligne",handled:"Traites",rejected:"Rejetes",all:"Toutes"},card:{untitled:"(Pas de Titre Public)",raw:"Brut: {{val}}"},modal:{title:"Grer Demande #{{id}}",section_raw:"Donnes Brutes (Lecture Seule)",section_public:"Espace Public (Cur)",requester:"Demandeur (Priv)",location:"Localisation (Dclare)",need:"Besoin (Brut)",docs:"Documents et Photos (Utilisateur)",prescription:"Ordonnance",med_photos:"Photos Mdicament",open:"Ouvrir",use:"Utiliser",financial:{capability:"Capacit",offer:"Offre",family:"Famille",income:"Revenu",delivery:"Livraison"},form:{title:"Titre Public *",title_ph:"ex: Pre  Alger a besoin d'Insuline",title_help:"NE JAMAIS mettre le vrai nom.",wilaya:"Wilaya Publique",area:"Zone / Quartier",summary:"Rsum Court (Carte) *",summary_ph:"Rsum court visible sur la carte...",desc:"Description Complte (Dtail)",desc_ph:"Histoire complte, dtails...",gallery:"Galerie Photo (Affichage)",upload_drag:"Glisser ou cliquer",use_proof:"Utiliser Preuve Utilisateur",status:"Statut & Visibilit",urgent_admin:"Urgence Admin"}}},tracking_page:{order_prefix:"COMMANDE #",custom_request_title:"Demande Personnalise",more_items:"+{{count}} autres",status_labels:{processing:"En chemin",completed:"Termine",rejected:"Rejete",default:"En traitement"},validation:{inputRequired:{title:"Saisie requise",desc:"Veuillez entrer un ID de commande ou un numro de tlphone"},invalidFormat:{title:"Format invalide",desc:"Veuillez entrer un ID valide ou un numro de tlphone."}},header:{title:"Suivre votre commande",desc:"Vrifiez le statut de votre commande en temps rel."},search:{placeholder:"ID Commande ou Tlphone",btn:"Suivre",tip:"Astuce : Utilisez votre numro pour voir toutes vos commandes."},results:{back:"Retour  la liste",details:"Dtails",found:"{{count}} commandes trouves",noOrders:{title:"Aucune commande trouve",desc:'Aucune commande correspondant  "{{query}}".'}}},verification_page:{title:"Mes Commandes",desc:"Entrez votre numro pour voir toutes vos demandes.",card_title:"Trouver vos commandes",card_desc:"Nous chercherons les commandes lies  votre numro.",phone_label:"Numro de Tlphone",btn_searching:"Recherche...",btn_find:"Trouver Commandes",results_count:"{{count}} Commandes Trouves",no_orders:"Aucune commande {{filter}} trouve.",filters:{all:"toutes",active:"actives",completed:"termines",cancelled:"annules"},toast:{phone_required:"Tlphone Requis",phone_desc:"Veuillez entrer votre numro.",error_title:"Erreur",error_desc:"chec de la rcupration des commandes."}},terms:{title:"Conditions Gnrales",subtitle:"Bienvenue sur Waseet. Voici les rgles rgissant notre service de connexion et de courtage.",acceptance:{title:"1. Acceptation des Conditions",desc:"En utilisant la plateforme Waseet (site web et services associs), vous acceptez pleinement et sans rserve ces conditions. Si vous n'tes pas d'accord, nous vous invitons  ne pas utiliser nos services."},description:{title:"2. Description du Service",desc:"Waseet est une <strong>plateforme de courtage et de coordination</strong>. Notre rle est de connecter des besoins (achats, logistique, aide humanitaire) avec des solutions (vendeurs, livreurs, donateurs, bnvoles).",note:"Note importante : Waseet facilite la connexion mais n'est pas le fournisseur direct des produits mdicaux, ni un transporteur, ni une banque."},responsibilities:{title:"3. Responsabilits de l'Utilisateur",desc:"En tant qu'utilisateur, vous acceptez de :",items:{1:"Fournir des informations exactes et sincres (surtout pour les demandes humanitaires).",2:"Ne pas crer de fausses demandes ou induire en erreur les autres utilisateurs.",3:"Respecter les autres membres de la communaut (donateurs, chauffeurs, admins).",4:"Ne pas utiliser la plateforme pour des activits illgales."},warning:"Tout comportement abusif peut entraner la suspension immdiate de votre accs."},humanitarian:{title:"4. Avertissement Humanitaire & Sant",items:{alkhayr:"<strong>Alkhayr (Mdicaments):</strong> Nous vrifions les demandes, mais nous ne garantissons pas qu'un donateur sera trouv. Waseet ne remplace pas une pharmacie ou un avis mdical.",blood:"<strong>Don de Sang:</strong> La coordination via Waseet est une aide bnvole pour gagner du temps. En cas d'urgence vitale, contactez toujours directement les hpitaux ou la protection civile.",transport:"<strong>Transport Urgent:</strong> Les bnvoles coordonns par Waseet ne sont pas des ambulanciers professionnels."}},brokerage:{title:"5. Courtage & Change",items:{1:"Waseet agit comme courtier. Nous ne dtenons pas de fonds comme une banque.",2:"Les taux de change affichs sont indicatifs et peuvent varier selon le march.",3:"Waseet n'est pas responsable des retards causs par des tiers (banques, services de paiement, douanes)."}},intermediary:{title:"6. Limites de l'Intermdiation",desc:"Nous faisons de notre mieux pour vrifier le srieux des participants, mais nous ne pouvons garantir la bonne fin de chaque transaction ou promesse de don faite par un tiers. Les accords conclus entre utilisateurs hors de la supervision de Waseet sont de votre responsabilit."},moderation:{title:"7. Modration & Droits d'Admin",desc:"Pour la scurit de tous, les administrateurs Waseet se rservent le droit de :",items:{1:"Refuser ou supprimer toute demande juge suspecte, incomplte ou inapproprie.",2:"Modifier le contenu public pour protger les donnes sensibles (masquage de noms, etc.).",3:"Bannir les utilisateurs ne respectant pas les rgles."}},liability:{title:"8. Limitation de Responsabilit",desc:`Waseet fournit sa plateforme "telle quelle". Nous ne sommes pas responsables des dommages indirects, pertes d'opportunit ou dceptions lies  une demande d'aide non satisfaite. L'utilisation du service est  vos risques, dans les limites du cadre lgal applicable.`},misc:{title:"9. Divers",items:{privacy:'<strong>Confidentialit:</strong> Vos donnes sont traites selon notre <a href="/privacy" class="text-primary hover:underline">Politique de Confidentialit</a>.',changes:"<strong>Changements:</strong> Ces conditions peuvent tre mises  jour. L'utilisation continue du site vaut acceptation des nouvelles rgles.",legal:"<strong>Contexte Lgal:</strong> Cette plateforme opre principalement en Algrie. Les litiges seront traits avec bon sens et, si ncessaire, selon les juridictions comptentes locales."}},footer:{question:"Des questions sur ces termes ?",contact:"Contactez-nous"}},privacy:{title:"Politique de Confidentialit",subtitle:"Chez Waseet, nous prenons votre vie prive au srieux. Cette politique explique simplement et honntement comment nous traitons vos informations.",intro:{title:"1. Introduction",desc:"Waseet est une plateforme de courtage facilitant les achats, la logistique et l'aide humanitaire en Algrie. Notre rle est de connecter des besoins  des solutions. Pour ce faire, nous devons collecter et traiter certaines informations, toujours exclusivement dans le but de rendre le service pour lequel vous nous avez sollicits."},collect:{title:"2. Informations que nous collectons",section_a:"a) Ce que vous fournissez",items_a:{1:"Nom et Prnom",2:"Numro de tlphone (pour vous contacter)",3:"Adresse email (optionnel ou pour confirmation)",4:"Lieu (Wilaya / Commune) pour la livraison",5:"Dtails de vos demandes (ordonnances, produits, groupe sanguin)",6:"Comptes sociaux (WhatsApp/Telegram) si vous choisissez de les lier"},section_b:"b) Collecte Automatique",items_b:{1:"Type d'appareil et navigateur (pour optimiser l'affichage)",2:"Statistiques de visite anonymes (pour amliorer le site)"}},use:{title:"3. Comment nous utilisons vos donnes",desc:"Nous utilisons vos donnes uniquement pour :",items:{1:"Traiter et excuter vos commandes ou demandes d'aide.",2:"Coordonner la logistique (livraison, transport).",3:"Vous contacter en cas de problme ou pour confirmer des informations.",4:"Grer les urgences (cas Alkhayr ou Don de Sang).",5:"Amliorer nos services internes."},note:" Nous ne vendons JAMAIS vos donnes personnelles  des tiers."},visibility:{title:"4. Visibilit & Revue Humaine",desc:"C'est un point important de notre plateforme : <strong>chaque demande sensible est revue par un administrateur humain</strong> avant d'tre publie (surtout pour Alkhayr).",items:{1:"Nous ne publions pas automatiquement tout ce que vous envoyez.",2:"Les informations sensibles (comme votre nom complet sur une demande publique) sont masques ou remplaces par des initiales.",3:"Seuls les administrateurs Waseet ont accs  toutes vos donnes brutes."}},sharing:{title:"5. Partage des Donnes",desc:"Vos donnes restent chez Waseet. Elles ne sont partages que dans des cas strictement oprationnels :",items:{1:"Avec un livreur pour acheminer votre colis.",2:"Avec un donateur qui accepte de vous aider (aprs votre accord).",3:"Avec les autorits comptentes si la loi l'exige imprativement."},note:"Nous agissons comme un filtre de scurit entre les parties pour protger votre vie prive."},cookies:{title:"6. Cookies, Scurit & Dure",items:{cookies:"<strong>Cookies:</strong> Nous utilisons des cookies simples pour faire fonctionner le site (ex: garder votre panier actif). Nous n'utilisons pas de cookies pour vous suivre sur d'autres sites.",security:`<strong>Scurit:</strong> Vos donnes sont stockes sur des serveurs scuriss. L'accs est restreint  notre quipe interne. Bien que le "risque zro" n'existe pas sur Internet, nous prenons toutes les mesures raisonnables pour protger vos informations.`,duration:"<strong>Dure:</strong> Nous ne gardons pas vos donnes indfiniment. Les demandes cltures ou inactives depuis longtemps peuent tre supprimes de nos bases."}},rights:{title:"7. Vos Droits",desc:"Vous restez propritaire de vos donnes. Vous avez le droit de :",items:{1:"Demander  voir quelles informations nous avons sur vous.",2:"Demander la correction d'une erreur.",3:"Demander la suppression complte de vos donnes (sauf si une transaction est en cours)."}},legal:{title:"8. Position Lgale & Mises  jour",items:{intermediary:"<strong>Intermdiaire:</strong> Waseet est une plateforme de mise en relation. Nous coordonnons l'aide et les services, mais nous ne sommes pas une banque, ni un hpital.",children:"<strong>Enfants:</strong> Notre service n'est pas destin aux enfants. Nous ne collectons pas intentionnellement de donnes sur des mineurs sans accord parental.",updates:"<strong>Mises  jour:</strong> Cette politique peut voluer. Toute modification sera publie ici mme."}},footer:{question:"Des questions sur votre vie prive ?",contact:"Contactez-nous"}},alkhayr:{title:"Al-Khayr - Assistance Mdicale Humanitaire",subtitle:"Aide mdicale sans commission - 100% humanitaire",requests:{title:"Demandes Humanitaires",subtitle:"Demandes acceptes avec classification et information de financement",classification:"Classification",amount:"Montant",currency:"Devise",severe:"Svre",medium:"Moyenne",normal:"Normale",statusAccepted:"Accepte",statusPending:"En attente",statusRejected:"Rejete",empty:"Aucune demande accepte",filterAll:"Toutes",filterSevere:"Svres",filterMedium:"Moyennes",filterNormal:"Normales"},nav:{local:"Demande de Mdicament Local",foreign:"Mdicament de l'tranger",diaspora:"Inscription Bnvole",myRequests:"Mes Demandes",zeroCommission:"Politique Zro Commission",faq:"FAQ"},local:{title:"Demander un Mdicament Disponible Localement",subtitle:"Obtenez de l'aide pour obtenir un mdicament disponible dans le pays",form:{fullName:"Nom Complet",city:"Ville / Adresse",contact:"Coordonnes",contactPlaceholder:"WhatsApp ou Telegram",medicineName:"Nom du Mdicament ou Traitement",medicineNamePlaceholder:"ex: Paractamol 500mg",prescription:"Tlcharger l'Ordonnance (optionnel)",financialAbility:"Capacit Financire",canPay:"Oui, je peux payer",cannotPay:"Non, je ne peux pas",canPayPartially:"Partiellement",affordAmount:"Montant que vous pouvez vous permettre",needDelivery:"Besoin de livraison?",paidDelivery:"Paye",freeDelivery:"Gratuite",noDelivery:"Non",urgency:"Niveau de Priorit",urgent:"Urgent",normal:"Normal",notes:"Notes Supplmentaires",submit:"Soumettre la Demande",submitting:"Envoi en cours..."},success:{title:"Demande Soumise avec Succs",desc:"Nous examinerons votre demande et vous contacterons bientt"}},foreign:{title:"Demander un Mdicament de l'tranger",subtitle:"Obtenez de l'aide pour acheter un mdicament non disponible localement",form:{fullName:"Nom Complet",city:"Ville",contact:"Coordonnes",medicineName:"Dtails du Mdicament",medicineNamePlaceholder:"Nom, dosage, quantit",prescription:"Ordonnance / Rapport Mdical",expectedCountry:"Pays d'Origine Prvu",expectedCountryPlaceholder:"ex: France, Allemagne, EAU",needType:"Ce dont vous avez besoin",purchaseAndShipping:"Achat + Expdition",shippingOnly:"Expdition Seulement",financialAbility:"Capacit Financire",canPay:"Oui",cannotPay:"Non",canPayPartially:"Partiellement",budget:"Budget Approximatif",urgency:"Niveau de Priorit",urgent:"Urgent",normal:"Normal",notes:"Notes Supplmentaires",submit:"Soumettre la Demande",submitting:"Envoi en cours..."},success:{title:"Demande Soumise avec Succs",desc:"Nous trouverons un bnvole pour vous aider"}},diaspora:{title:"Inscription Agent International (Diaspora)",subtitle:"Aidez les patients depuis votre pays actuel",form:{personalInfo:"Informations Personnelles",fullName:"Nom Complet",country:"Pays Actuel",city:"Ville",contact:"Coordonnes",canOffer:"Que pouvez-vous offrir? (slectionnez plusieurs)",sendMedicine:"Envoyer des mdicaments",buyMedicine:"Acheter des mdicaments",shipParcels:"Expdier des colis",financialSupport:"Soutien financier",coordination:"Coordination",financialAbility:"Capacit Financire",canFullyCover:"Oui - peut couvrir entirement",cannotCover:"Non - ne peut pas",canPartiallyCover:"Partiellement - peut couvrir en partie",maxAmount:"Montant Maximum",extraNotes:"Notes Supplmentaires",extraNotesPlaceholder:"Pharmacies que vous connaissez, contacts d'expdition...",notifications:"Prfrences de Notification",urgentCases:"Cas urgents",fundingNeeded:"Cas ncessitant un financement",importRequests:"Demandes d'importation de mdicaments",agree:"J'accepte les conditions (confidentialit + lgalit + zro commission)",submit:"S'inscrire comme Agent",submitting:"Inscription en cours..."},success:{title:"Merci de votre inscription!",desc:"Nous examinerons votre candidature et vous contacterons bientt"}},myRequests:{title:"Mes Demandes Mdicales",subtitle:"Suivez l'tat de vos demandes mdicales",enterContact:"Entrez vos coordonnes",view:"Voir les Demandes",noRequests:"Aucune demande trouve",type:"Type",status:"Statut",date:"Date",statusPending:"En attente",statusReviewing:"En rvision",statusMatched:"Jumel",statusInProgress:"En cours",statusCompleted:"Termin",statusCancelled:"Annul",typeLocal:"Local",typeForeign:"De l'tranger"},zeroCommission:{title:"Politique Zro Commission",subtitle:"Notre engagement pour une assistance 100% humanitaire",principle1Title:"Aucune Commission",principle1Desc:"La plateforme ne prend absolument aucune commission sur les demandes humanitaires",principle2Title:"Toutes les Demandes Sont Gratuites",principle2Desc:"Toutes les demandes d'assistance mdicale sont entirement gratuites",principle3Title:"Transparence Totale",principle3Desc:"Nous protgeons la confidentialit des patients et vrifions toutes les demandes",principle4Title:"Lgal & Responsable",principle4Desc:"Nous suivons toutes les rgles lgales pour l'importation de mdicaments",commercial:"Note : Tout service payant (ex : livraison commerciale) est spar et ne fait pas partie d'Al-Khayr"},faq:{title:"FAQ - Al-Khayr",subtitle:"Comment fonctionne le systme d'assistance mdicale",q1:"Qu'est-ce qu'Al-Khayr ?",a1:"Al-Khayr est un systme d'assistance mdicale humanitaire sans commission. Nous mettons en relation les patients avec des bnvoles pour faciliter l'accs aux mdicaments.",q2:"Y a-t-il des frais ?",a2:"Non, toutes les demandes mdicales humanitaires sont entirement gratuites. Nous ne prenons aucune commission.",q3:"Comment puis-je demander un mdicament ?",a3:`Choisissez entre "Demande de Mdicament Local" s'il est disponible dans le pays, ou "Mdicament de l'tranger" s'il ncessite une importation.`,q4:"Comment puis-je aider en tant que bnvole ?",a4:`Inscrivez-vous sur la page "Inscription Bnvole" et spcifiez l'aide que vous pouvez offrir.`,q5:"Mes informations sont-elles scurises ?",a5:"Oui, nous protgeons la confidentialit de tous les patients. Les informations ne sont partages qu'avec des bnvoles approuvs.",q6:"Qu'en est-il des lois sur l'importation de mdicaments ?",a6:"Nous vrifions toutes les demandes et suivons les lois locales et internationales pour l'importation de mdicaments."},admin:{title:"Administration Al-Khayr",subtitle:"Grer les demandes, les jumelages et les bnvoles"}},admin:{metrics:{pendingOrders:"Commandes en attente",pendingDesc:"En attente de traitement",shipped:"Expdies",shippedDesc:"En cours de livraison",disputes:"Litiges",disputesDesc:"Ncessitent une attention",newAgents:"Nouveaux agents",newAgentsDesc:"Derniers 7 jours"},actions:{title:"Actions rapides",refresh:"Rafrachir",export:"Exporter les donnes",orders:"Grer les commandes",agents:"Examiner les agents",referrals:"Codes de parrainage",settings:"Paramtres",imports:"Demandes dimport",exchange:"Taux de change",desc:"Accder aux outils et interfaces de gestion."}},alkhayr_public:{tabs:{submit:"Demander de l'aide",search:"Rechercher",donate:"Faire un don",profile:"Profil"},filter:{title:"Filtres",type:"Type de demande",all:"Tous",local:"Local",foreign:"tranger",wilaya:"Wilaya",search:"Recherche",placeholder:"Mots-cls...",results:"Rsultats",reset:"Rinitialiser"},hero:{badge:"Solidarit Mdicale",title:"Votre Sant,",titleHighlight:"Notre Priorit",desc:"Une plateforme de solidarit pour faciliter l'accs aux mdicaments et connecter ceux qui sont dans le besoin avec ceux qui peuvent aider.",badges:{volunteer:"Aide Bnvole",impact:"Impact Durable"}},empty:{title:"Aucune demande trouve",desc:"Essayez d'ajuster vos filtres."},card:{urgent:"Urgent",local:"Local",foreign:"tranger",view:"Voir la demande"},details:{urgent:"Demande Urgente",relative_time:{today:"Aujourd'hui",yesterday:"Hier",days_ago:"Il y a {{days}} jours"},no_description:"Aucune description fournie.",photos_title:"Photos",contact_button:"Contacter Waseet pour Aider",ref:"Rf",managed_by:"Gr par Waseet",story:"L'Histoire",beneficiary:"Bnficiaire",anonymous:"Anonyme",note_title:"Note Importante",donate_now:"Faire un don maintenant",promo_badge:" Donnez, Sauvez une Vie",years:"Ans"},submit:{title:"Demander de l'Aide",desc:"Remplissez ce formulaire confidentiel. Vos donnes personnelles ne seront pas affiches publiquement.",success:{title:"Demande Enregistre !",desc:"Elle sera examine par notre quipe. Seules les informations valides seront rendues publiques.",btn_new:"Soumettre une nouvelle demande"},tabs:{local:"Local (Algrie)",foreign:"tranger"},sections:{medication:"Information Mdicament",requester:"Demandeur & Contact",location:"Localisation",financial:"Capacit Financire (Priv)",logistics:"Logistique & Priorit"},form:{medName:"Nom du Mdicament *",images:"Photo(s) (optionnel)",imagesHelp:"Vous pouvez slectionner plusieurs images.",prescription:"Ordonnance (Requis pour l'tranger)",prescriptionHelp:"Si l'ordonnance a plusieurs pages, slectionnez-les toutes.",desc:"Description / Dtails",descPlaceholder:"Dcrivez votre besoin...",requesterName:"Nom Complet *",requesterPlaceholder:"Sera affich uniquement en initiales (ex: Mr. B.)",phone:"Numro de Tlphone *",phonePlaceholder:"Numro joignable",otherContacts:"Autres contacts (Optionnel, visible admin)",wilaya:"Wilaya *",country:"Pays Cible *",countryPlaceholder:"Ex: France, Turquie...",city:"Ville / Commune *",financialOptions:{full:"Je peux couvrir tous les frais",partial:"Je peux couvrir une partie",none:"Je ne peux rien couvrir",delivery:"J'ai le produit, je veux juste la livraison"},amount:"Montant Approximatif (DA)",delivery:"Avez-vous besoin de livraison ?",priority:{label:"Niveau de priorit ressenti",help:"Indication pour l'admin. La priorit finale sera dtermine aprs examen.",normal:"Normal",important:"Important",urgent:"Urgent"},urgent_checkbox:{label:"Urgence Vitale (Pronostic engag)",desc:"Cochez cette case UNIQUEMENT si la vie du patient est en danger immdiat."},confirm:"Je confirme que les informations fournies sont exactes et que cette demande est authentique. Je comprends que ces informations seront vrifies par l'quipe avant publication.",submitBtn:"Soumettre la Demande",submitting:"Envoi en cours..."},errors:{required:"Veuillez remplir tous les champs obligatoires.",wilaya:"La wilaya est requise pour une demande locale.",country:"Le pays est requis pour une demande  l'tranger.",confirm:"Veuillez confirmer l'exactitude des informations.",submit:"Une erreur est survenue lors de l'envoi."},toast:{success:{title:"Demande envoye !",desc:"Votre demande a t soumise pour examen."}}},donations:{title:"Espace Dons",subtitle:"Partagez des mdicaments, quipements mdicaux et aides matrielles avec ceux qui en ont besoin.",view_items:"Voir les Dons",propose_item:"Faire un don",available_items:"Dons Disponibles",empty:{title:"Aucun article disponible pour le moment",desc:"Revenez plus tard ou proposez vous-mme un don !"},card:{medicine:"Mdicament",equipment:"quipement",other:"Autre",new:"Neuf",used_good:"Bon tat",used_fair:"tat moyen",qty:"Qt",view_details:"Voir dtails",contact:"Contacter",contact_collect:"Contacter pour rcuprer",details_title:"Dtails du Don",added_on:"Ajout le",description_title:"Description",no_description:"Aucune description dtaille.",no_images:"Aucune image disponible"},form:{title:"Proposer un Article",donor_info:"Vos Coordonnes (Priv - Admin Uniquement)",name:"Nom Complet *",phone:"Tlphone *",has_whatsapp:"J'ai WhatsApp",has_telegram:"J'ai Telegram",item_details:"Dtails de l'Article",item_name:"Nom de l'article *",category:"Catgorie *",condition:"tat *",location:"Localisation (Wilaya ou Pays) *",description:"Description (Priv - Admin rdigera la version publique)",photos:"Photos * (Au moins 1)",consent:"Je confirme que cet article est disponible et offert en don. J'accepte que Waseet partage les dtails de l'article ( l'exception de mes coordonnes personnelles) sur la plateforme.",submit:"Soumettre l'Offre",success_title:"Offre Envoye!",success_desc:"Votre proposition a t envoye pour validation. Merci pour votre gnrosit !",uploading:"Envoi en cours..."}},profile:{title:"Mes Demandes",desc:"Vrifiez le statut de vos demandes en entrant votre numro.",dashboard:"Tableau de bord",logout:"Dconnexion",access:"Accder",phonePlaceholder:"+213 XXX XXX XXX",loading:"...",no_requests:"Aucune demande trouve pour ce numro.",login_error:"Problme de connexion",login_req:"Numro requis",delete_error:"Impossible de supprimer",delete_success:"Demande supprime",status:{pending:"En attente",approved:"Valide",process:"En cours",fulfilled:"Termine",rejected:"Rejete"}},search_errors:{fetch:"Impossible de charger les demandes"},contact_dialog:{title:"Contacter Waseet",desc:"Pour protger la confidentialit des patients, toute communication passe par notre plateforme scurise.",whatsapp:"Contacter via WhatsApp",facebook:"Contacter via Facebook",instagram:"Contacter via Instagram"}},classification:{severe:"Critique",cancer:"Cancer",surgery:"Chirurgie",medium:"Moyen",diabetes:"Diabte",normal:"Normal",rare:"Maladie Rare"},blood:{title:"Don du Sang",hero:{title:"Devenir Donneur de Sang",subtitle:"Votre sang peut sauver une vie. Rejoignez notre communaut de hros aujourd'hui.",badge:"Urgence Humanitaire",main_title_1:"Votre Goutte de Sang",main_title_2:"Sauve une Vie",description:"Rejoignez notre rseau de hros anonymes. Chaque don compte, chaque geste est un espoir pour quelqu'un dans le besoin.",volunteer:"100% Bnvole",impact:"Impact Immdiat"},profile:{access_title:"Accder  mon Profil",access_desc:"Entrez votre numro de tlphone pour grer vos informations.",ph_phone:"+213 XXX XXX XXX",btn_access:"Accder",not_registered:"Pas encore inscrit ?",btn_register:"Devenir Donneur",welcome:"Bienvenue, {{name}}",logout:"Dconnexion",eligible:" Vous tes ligible pour donner votre sang !",eligible_again:" Vous pouvez donner  nouveau !",days_remaining:" Vous pourrez donner  nouveau dans {{count}} jours.",personal_info:"Informations Personnelles",edit:"Modifier",save:"Enregistrer",cancel:"Annuler",full_name:"Nom Complet",age:"ge",phone:"Tlphone",errors:{enter_phone:"Veuillez entrer votre numro de tlphone",update_error:"Erreur lors de la mise  jour du profil"},update_success:"Profil mis  jour avec succs",wilaya:"Wilaya",public_visible:"Visible publiquement",emergency_contact:"Contact d'Urgence",yes:"Oui",no:"Non",history:"Historique",last_donation:"Date du Dernier Don",no_donation:"Aucun don enregistr",update_error:"Impossible de mettre  jour le profil",donor_not_found:"Donneur non trouv",donor_not_found_desc:"Aucun profil trouv avec ce numro. Veuillez vous inscrire d'abord."},transport:{available_count:"Bnvoles Disponibles ({{count}})",loading:"Chargement...",empty:"Aucun bnvole disponible pour le moment.",volunteer_badge:"Bnvole",default_desc:"Transport d'urgence gratuit.",contact_btn:"Contacter Waseet",dialog:{title:"Coordination Transport",desc:"Pour la scurit de tous, Waseet coordonne le transport. Contactez-nous pour tre mis en relation avec ce bnvole.",whatsapp:"Contacter via WhatsApp",facebook:"Contacter via Facebook"},title:"Bnvoles Transport",subtitle:"En cas d'urgence, chaque minute compte.",find:"Trouver un Transport",join:"Devenir Transporteur",privacy_note:"<strong>Note :</strong> Vos dtails ne seront <strong>jamais affichs publiquement</strong>. Waseet ne vous contactera qu'en cas d'urgence confirme.",register:{title:"Devenir Bnvole Transport",subtitle:"Aidez  sauver des vies en transportant des donneurs gratuitement en cas d'urgence.",full_name:"Nom Complet *",wilaya:"Wilaya *",city:"Ville / Commune *",phone:"Numro de Tlphone *",other_contacts:"Autres contacts (Optionnel, visible admin uniquement)",whatsapp:"WhatsApp",telegram:"Telegram",additional_info:"Informations Complmentaires (Optionnel)",additional_placeholder:"Ex: Disponible le soir, ne peut pas quitter la commune...",visible_admin:"Visible uniquement par l'admin.",consent_transport:"Je confirme que je peux fournir un transport <strong>gratuit</strong> en cas d'urgence.",consent_contact:"J'accepte d'tre contact par Waseet pour coordonner les urgences.",btn_submit:"S'inscrire comme Bnvole",btn_submitting:"Inscription...",success_title:"Succs",success_desc:"Merci ! Vous tes inscrit comme bnvole transport.",error_title:"Erreur",error_desc:"Une erreur est survenue.",error_consent:"Veuillez accepter les conditions."}},search:{error_fetch:"Impossible de charger la liste des donneurs",title:"Filtrer les Donneurs",filter_blood:"Groupe Sanguin",filter_wilaya:"Wilaya",filter_name:"Recherche par Nom",placeholder_name:"Nom du donneur...",results_count:"{{count}} rsultat(s) trouv(s)",reset:"Rinitialiser",loading:"Recherche de hros...",empty_title:"Aucun donneur trouv",empty_desc:"Essayez de changer vos critres de recherche.",last_donation:"Dernier don : {{time}}",never_donated:"Jamais donn",days_ago:"Il y a {{count}} jours",months_ago:"Il y a {{count}} mois",years_ago:"Il y a {{count}} an(s)",urgent_badge:" Disponible pour Urgence",call:"Appeler",note_title:"Note Importante",note_desc:"Les informations ci-dessus sont fournies par les donneurs eux-mmes. Waseet n'est pas responsable de l'exactitude des informations. Veuillez traiter les donneurs avec respect et ne les contacter qu'en cas de besoin rel."},register:{title:"Devenir Donneur",subtitle:"Remplissez ce formulaire pour aider ceux dans le besoin.",success_title:"Inscription Russie !",success_desc:"Merci de rejoindre notre communaut de hros. Votre geste peut sauver des vies.",btn_profile:"Aller  mon profil",btn_another:"Inscrire un autre donneur",personal_info:"Informations Personnelles",full_name:"Nom Complet *",phone:"Numro de Tlphone *",email:"Email (optionnel)",age:"ge * (18-65 ans)",blood_info:"Informations Sanguines",blood_type:"Groupe Sanguin *",last_donation:"Dernier Don (optionnel)",location:"Localisation",wilaya:"Wilaya *",city:"Ville *",medical_info:"Conditions Mdicales (optionnel)",consent_contact:"J'accepte d'tre contact pour des demandes urgentes",consent_public:"J'accepte que mes infos soient visibles dans la liste publique",submit:"Confirmer l'Inscription",submitting:"Inscription...",eligibility_title:"Critres d'ligibilit Importants",criteria_age:"18-65 ans",criteria_weight:"+50 kg",criteria_health:"Bonne sant gnrale",criteria_recent:"Pas de don rcent (-3 mois)",errors:{wilaya:"La wilaya est requise",duplicate_phone:"Ce numro de tlphone est dj inscrit.",city:"La ville est requise",reg_error:"Une erreur est survenue lors de l'inscription",unexpected:"Une erreur inattendue est survenue"}},tabs:{search:"Trouver un Donneur",register:"Devenir Donneur",transport:"Transport",profile:"Mon Profil"},filter:{all:"Tous"}},register_agent:{hero:{title:"Devenir Agent d'Importation",subtitle:"Aidez  importer des articles de l'tranger et gagnez en facilitant la logistique."},personal:{title:"Infos Personnelles & Contact",name:"Nom Complet *",country:"Pays Actuel *",city:"Ville *",email:"Adresse Email *",phone:"Numro de Tlphone (WhatsApp) *",telegram:"Telegram (Optionnel)",placeholders:{name:"ex: Karim Benali",country:"ex: France",city:"ex: Paris",email:"karim@exemple.com",phone:"+33 6 12 34 56 78",telegram:"@nomutilisateur"}},capabilities:{title:"Capacits d'Importation",countries_label:"Pays depuis lesquels vous expdiez *",countries_placeholder:"ex: France, Allemagne, Espagne (spars par des virgules)",countries_hint:"Listez tous les pays o vous avez une prsence ou pouvez expdier.",methods_label:"Mthodes d'Expdition Supportes",methods:{air:"Fret Arien",sea:"Fret Maritime",hand:"Valise (Voyageur)"},frequency_label:"Frquence des Envois",freq_regular:"Rgulier",freq_regular_desc:"Planning hebdomadaire ou mensuel",freq_occasional:"Occasionnel",freq_occasional_desc:"Selon voyages/demande"},categories:{title:"Catgories de Produits",label:"Que pouvez-vous transporter ?",options:{electronics:"lectronique",clothing:"Vtements",medical:"Articles Mdicaux",cosmetics:"Cosmtiques",auto:"Pices Auto",general:"Marchandises Gnrales"},other_label:"Autre (veuillez prciser)",other_placeholder:"ex: Machines lourdes, Documents..."},pricing:{title:"Informations Tarifaires (Optionnel)",subtitle:"Cela nous aide  estimer les cots mais n'est pas contraignant. Le prix final est confirm manuellement par demande.",price_per_kg:"Prix par KG",currency:"Devise",type:"Type de Tarification",types:{fixed:"Taux Fixe",negotiable:"Estim / Ngociable"}},additional:{title:"Notes Supplmentaires",placeholder:"Parlez-nous de votre exprience, contraintes spcifiques, ou autre chose..."},legal:{title:"Conditions & Accord",broker:"Je comprends que Waseet agit uniquement comme courtier et me connecte  des demandes vrifies.",admin:"J'accepte que toute coordination soit soumise  l'approbation de l'admin avant partage de mes coordonnes.",terms:"J'accepte les conditions gnrales et certifie que les informations fournies sont exactes.",submit:"Soumettre l'Inscription",submitting:"Envoi en cours..."},success:{title:"Inscription Reue",desc:"Votre inscription (ID #{{id}}) a t reue et est en cours d'examen. L'quipe admin vous contactera si votre profil correspond  nos besoins.",home_btn:"Retour  l'Accueil"},validation:{name:"Le nom complet est requis",country:"Le pays actuel est requis",city:"La ville est requise",phone:"Le numro de tlphone est requis",email:"Un email valide est requis",countries:"Listez au moins un pays d'expdition",broker:"Vous devez reconnatre que Waseet agit uniquement comme courtier",admin:"Vous devez accepter la coordination admin",terms:"Vous devez accepter les conditions",title:"Validation Requise",error_title:"Erreur",default_error:"chec de l'envoi"}}}},ar:{translation:{yes:"",no:"",nav:{home:"",order:"",track:" ",earn:" ",verify:"",about:"",contact:"",exchange:"",internationalAgent:" ",agent:{requestImport:" ",registerAgent:" "},store:"",alkhayr_label:"",waseet:""},cart:{title:" ",empty:"  ",start_shopping:" ",no_img:"  ",subtotal:" ",shipping:"",shipping_home:" ()",shipping_desk:" (/Stopdesk)",shipping_to:" :",change:"",select_wilaya:" ",select_address:" ",total:"",checkout_details:" ",name:"  *",name_placeholder:"",phone:"  *",phone_placeholder:"+213...",email:"  ()",email_placeholder:"example@email.com",additional_contact:"   ()",whatsapp:"",whatsapp_placeholder:"  (+213...)",telegram:"",telegram_placeholder:" @username",place_order:" ",processing:" ...",close:"",order_success_title:"  ",order_success_desc:"  .",contact_shortly:"    .",keep_ref:"     .",validation:{missing_shipping_title:"  ",missing_shipping_desc:"     .",missing_name_title:" ",missing_name_desc:"   .",missing_phone_title:"  ",missing_phone_desc:"    .",missing_whatsapp_title:" ",missing_whatsapp_desc:"       .",missing_telegram_title:" ",missing_telegram_desc:"        ."},order_failed_title:" ",order_failed_desc:"   via    ."},footer:{home:"",order:"",contact:"",rights:"  .",services:"",support:"",connect:" ",importRequest:" ",aboutUs:" ",verified_badge:"      ",privacy:"",terms:"",cookies:"  ",brandDesc:"           .",trackOrder:" ",exchange:""},about:{hero:{title:" ",subtitle:"        ."},what:{title:"  ",desc1:"          .           .",desc2:'    <strong>"  "</strong>.                      .',cards:{mediated:" ",secure:" "}},services:{title:" ",subtitle:"      .",cards:{store:{title:" ",desc:"       .     .             ."},exchange:{title:" ",desc:"      .    .          ."},import:{title:"  ",desc:"        ().          .       ."}}},how:{title:" ",steps:{1:{title:"",desc:"         ."},2:{title:"",desc:"         ."},3:{title:"",desc:"         ."},4:{title:"",desc:"            ."}}},why:{title:"  ",items:{adapted:{title:" ",desc:"    ."},human:{title:" ",desc:"    .    ."},centralized:{title:" ",desc:"  (  )    ."}}},notice:{title:"  ",desc:"             :",items:{1:" <strong> </strong>    .",2:" <strong>   </strong>.             .",3:"      .       ."}},footer:{title:"",desc:"     .",support:"     "}},terms:{title:" ",subtitle:"   .         .",acceptance:{title:"1.  ",desc:"   (  )       .        ."},description:{title:"2.  ",desc:"  <strong>  </strong>.     (   )  (   ).",note:" :             ."},responsibilities:{title:"3.  ",desc:"  :",items:{1:"    (  ).",2:"       .",3:"    (  ).",4:"     ."},warning:"        ."},humanitarian:{title:"4.    ",items:{alkhayr:"<strong> ():</strong>         .        .",blood:"<strong> :</strong>        .           .",transport:"<strong> :</strong>           ."}},brokerage:{title:"5.  ",items:{1:"  .      .",2:"       .",3:"         (   )."}},intermediary:{title:"6.  ",desc:"                      .          ."},moderation:{title:"7.   ",desc:"      :",items:{1:"           .",2:"      (  ).",3:"     ."}},liability:{title:"8.  ",desc:'   " ".                  .            .'},misc:{title:"9. ",items:{privacy:'<strong>:</strong>      <a href="/privacy" class="text-primary hover:underline"> </a>  .',changes:"<strong>:</strong>     .       .",legal:"<strong> :</strong>       .            ."}},footer:{question:"   ",contact:" "}},privacy:{title:" ",subtitle:"      .         .",intro:{title:"1. ",desc:"          .     .                ."},collect:{title:"2.   ",section_a:")   ",items_a:{1:" ",2:"  ( )",3:"   (  )",4:" ( / ) ",5:"  (   )",6:"  (/)   "},section_b:")  ",items_b:{1:"   ( )",2:"   ( )"}},use:{title:"3.   ",desc:"   :",items:{1:"     .",2:"  ( ).",3:"        .",4:"  (    ).",5:"  ."},note:"        ."},visibility:{title:"4.   ",desc:"    : <strong>       </strong>   ( ).",items:{1:"      .",2:"  (     )      .",3:"        ."}},sharing:{title:"5.  ",desc:"   .        :",items:{1:"      .",2:"     ( ).",3:"        ."},note:"       ."},cookies:{title:"6.     ",items:{cookies:"<strong>  :</strong>        (:   ).         .",security:'<strong>:</strong>      .    .     " "           .',duration:"<strong>:</strong>     .             ."}},rights:{title:"7. ",desc:"  .   :",items:{1:"     .",2:"   .",3:"    (     )."}},legal:{title:"8.   ",items:{intermediary:"<strong>:</strong>    .         .",children:"<strong>:</strong>    .          .",updates:"<strong>:</strong>    .      ."}},footer:{question:"  ",contact:" "}},store:{notFound:{title:"  ",desc:"   ."},noCategories:{title:"  ",desc:"    ."},goHome:"",searchPlaceholder:"  ...",clear:"",noProducts:{title:"  ",descSearch:"   .",descEmpty:"     ."},card:{outOfStock:" ",onlyLeft:" {{count}} ",noImage:"  ",view:"",addToCart:" "},filter:{label:" ",placeholder:"",all:""},toast:{error_title:"",load_data_error:"  .",load_products_error:"  ."},suggestion:{btn_trigger:" ",title:" ",personal_info:"",full_name:"  *",phone:"  *",whatsapp_label:" ",whatsapp_placeholder:" ",telegram_label:" ",telegram_placeholder:"  / ",product_details:" ",product_name:"  *",proposed_price:"  *",photos_label:"  * (  )",upload:"",source_info:"  ()",store_name:" ",source_type:" ",source_types:{local:" ",imported:" "},store_location:" ",notes:" ",notes_placeholder:"  ...",cancel:"",submit:" ",toast:{images_uploaded:"  ",images_desc:"  {{count}}  .",upload_failed:" ",image_required:" ",image_required_desc:"      .",success_title:"   !",success_desc:" .    .",failed_title:" "}}},product_details:{notFound:{title:"  ",desc:"   ."},backToStore:" ",back:"",inStock:"",addToCart:" ",freeShipping:"   100$",securePayment:" ",noDescription:"  ."},order:{header:{title:" ",subtitle:". . ."},product:{title:" ",name:" ",name_ph:": iPhone 15 Pro Max",url:"  *",url_ph:"https://amazon.com/product",price:"  *",shipping:" ($)"},personal:{title:"",name:"  *",name_ph:"John Doe",contact_method:"  *",whatsapp:"",telegram:"",contact_ph_whatsapp:"+213550123456",contact_ph_telegram:"@username"},optional:{referral:"  ()",referral_ph:"ABCD1234",notes:"",notes_ph:"   ..."},actions:{processing:" ...",place:" ",add_to_cart:" "},summary:{title:" ",product:"",shipping:"",total:"",usd_total:" (USD)",dzd:" "},benefits:{secure_title:" ",secure_desc:" ",fast_title:" ",fast_desc:"   24 ",track_title:" ",track_desc:"    "},validation:{error:"",url_required:"  ",url_invalid:"      http://  https://",price_required:"    ",name_required:" ",contact_required:"  ",phone_invalid:"     +213 5/6/7   8  (: +213550123456)",self_referral:"      .",invalid_referral:"   .       ."},success:{title:"!",desc:"   "},toast:{added:"  ",added_desc:"    "},error:{title:"",generic:"  .    ."}},referral:{headerTitle:"    ",headerDesc:"   1000   200$      ",genTitle:"    ",genDesc:"    ",contactMethod:" ",whatsapp:"",telegram:"",labels:{whatsapp:" ",telegram:"  "},placeholders:{whatsapp:"+213550123456",telegram:"@username"},actions:{generate:" ",generating:" ...",verify:"  ",checking:" ..."},toast:{error:"",contact_required:"   ",phone_invalid:"    +213   8 ",existing_title:"  !",existing_desc:"     ",success_title:"!",success_desc:"     ",check_none_title:"  ",check_none_desc:"     ",check_found_title:"   !",check_found_desc:"     ",copied_title:" !",copied_desc:"     "},stats:{your_code:"   ",total_collected:" ",rewards:"",total_earned:" ",milestone_prefix:"",milestone_suffix:"",milestone_reward:"1000 "},withdraw:{button:" ",available_balance:" ",ready:" ",pending_approval:"  ",pending_request:" ",request_submitted:"  ",success_title:"  !",success_desc:"      "},generateAnother:"  ",contactLabel:" : {{type}} - {{value}}",howItWorks:{title:"  :",step1:"   ",step2:"   ",step3:" 200$  = 1000  ",step4:" !   ",example:":     600$  3000 "},self_referral_note:"      ."},verify:{title:"  ",subtitle:"     ",cardTitle:"  ",cardDesc:"       ",contactMethod:" ",labels:{whatsapp:"",telegram:"",number:" ",username:"  "},placeholders:{whatsapp:"+213550123456",telegram:"@username"},actions:{verify:"  ",checking:" ..."},toast:{error:"",contact_required:"   ",phone_invalid:"  ",no_purchases_title:"  ",no_purchases_desc:"      ",fetch_error_title:"",fetch_error_desc:"   "},results:{title:"",found:"{{count}} ",order:" #{{id}}",productLink:" "}},tracking_page:{header:{title:" ",desc:"             ."},search:{placeholder:"     ...",btn:"",tip:"     (: 0550...  +213...)"},validation:{inputRequired:{title:" ",desc:"      "},invalidFormat:{title:"  ",desc:"     ()    ."}},results:{found:"{{count}}  ",back:"  ",details:" ",noOrders:{title:"  ",desc:'      "{{query}}".       .'}},status_labels:{processing:" ",completed:"",rejected:"",default:" "}},contact:{title:" ",subtitle:"    .    .",whatsapp_title:"",whatsapp_desc:"   ",telegram_title:"",telegram_desc:"  ",email_title:" ",email_desc:"   ",hours_title:" ",hours_desc:"    ",days:{monfri:" - ",sat:"",sun:""},times:{monfri:"9:00 - 18:00",sat:"10:00 - 16:00",sun:""}},home:{hero:{title_prefix:"  ",title_highlight:" ",subtitle:"             .    .",cta_explore:" ",cta_track:" "},services:{title:"",subtitle:"   .",marketplace:{title:"",desc:"     .        .",btn:" "},exchange:{title:" ",desc:"   .        .",btn:" "},import:{title:" ",desc:"     .        .",btn:"  "},tracking:{title:" ",desc:"      .       .",btn:" "}},order:{header:{title:" ",subtitle:". . ."},product:{title:" ",name:" ",name_ph:":  15  ",url:"  *",url_ph:"https://amazon.com/product",price:"  *",shipping:" ($)"},personal:{title:"",name:"  *",name_ph:" ",contact_method:"  *",whatsapp:"",telegram:"",contact_ph_whatsapp:"+213550123456",contact_ph_telegram:"@username"},optional:{referral:"  ()",referral_ph:"ABCD1234",notes:"",notes_ph:"   ..."},actions:{processing:" ...",place:" ",add_to_cart:" "},summary:{title:" ",product:"",shipping:"",total:"",usd_total:" ()",dzd:" "},benefits:{secure_title:" ",secure_desc:" ",fast_title:" ",fast_desc:"   24 ",track_title:" ",track_desc:"   "},validation:{error:"",url_required:"  ",url_invalid:"      http://  https://",price_required:"    ",name_required:" ",contact_required:"  ",phone_invalid:"     +213 5/6/7   8 ",self_referral:"      .",invalid_referral:"   ."},success:{title:"!",desc:"   "},error:{title:"",generic:"  .   ."}},how:{title:"  ",subtitle:"       .",steps:{1:{title:" ",desc:"     ."},2:{title:" ",desc:"    ."},3:{title:"",desc:"    ."},4:{title:" ",desc:"    ."}},manual_note:"   .       ."},trust:{title:"    ",subtitle:"      .",cards:{review:{title:" ",desc:"    .     ."},comms:{title:" ",desc:"       .     ."},broker:{title:" ",desc:"           ."},local:{title:" ",desc:" .            ."}}},who:{title:"  ",shoppers:{title:" ",desc:"           ."},exchangers:{title:" ",desc:"         ."},verification:{title:"  ",desc:"        ."}},transparency:{title:"   ",items:{1:" <strong> </strong>     .",2:" <strong>   </strong>  .",3:" <strong>  </strong>   ."}},ready:{title:" ",explore:" ",support:" "}},success:{title:"   !",processing:"     .",contactSoon:"    {{type}}  {{value}}",orderId:" ",customerName:" ",totalAmount:" ",shareWhatsapp:"  ",returnHome:"  ",questions:"   ",contactPage:""},notFound:{oops:"!   ",returnHome:"  "},alkhayr:{title:" -   ",subtitle:"    - 100 ",requests:{title:" ",subtitle:"    ",classification:"",amount:"",currency:"",severe:"",medium:"",normal:"",statusAccepted:"",statusPending:" ",statusRejected:"",empty:"   ",filterAll:"",filterSevere:"",filterMedium:"",filterNormal:""},nav:{local:"  ",foreign:"   ",diaspora:" ",myRequests:"",zeroCommission:"  ",faq:" "},local:{title:"   ",subtitle:"         ",form:{fullName:" ",city:" / ",contact:" ",contactPlaceholder:"  ",medicineName:"   ",medicineNamePlaceholder:":  500 ",prescription:"   ()",financialAbility:" ",canPay:"  ",cannotPay:"  ",canPayPartially:"",affordAmount:"   ",needDelivery:"  ",paidDelivery:"",freeDelivery:"",noDelivery:"",urgency:" ",urgent:"",normal:"",notes:" ",submit:" ",submitting:" ..."},success:{title:"   ",desc:"    "}},foreign:{title:"   ",subtitle:"        ",form:{fullName:" ",city:"",contact:" ",medicineName:" ",medicineNamePlaceholder:"  ",prescription:" /  ",expectedCountry:"  ",expectedCountryPlaceholder:":   ",needType:" ",purchaseAndShipping:" + ",shippingOnly:" ",financialAbility:" ",canPay:"",cannotPay:"",canPayPartially:"",budget:" ",urgency:" ",urgent:"",normal:"",notes:" ",submit:" ",submitting:" ..."},success:{title:"   ",desc:"   "}},admin_orders:{title:" ",subtitle:"    .",listTitle:" ",searchPlaceholder:"     ...",filterType:{all:" "},status:{all:" "},table:{id:" ",type:"",product:" / ",customer:"",contact:"",total:"",status:"",date:"",actions:""},badges:{store:" ",custom:" "},externalLink:" "},diaspora:{title:"   ",subtitle:"    ",form:{fullName:" ",country:" ",city:"",contact:" ",canOffer:"   ( )",sendMedicine:" ",buyMedicine:" ",shipParcels:" ",financialSupport:" ",coordination:" ",financialAbility:" ",canFullyCover:" -   ",cannotCover:" -  ",canPartiallyCover:" -   ",maxAmount:"  ",extraNotes:" ",extraNotesPlaceholder:"    ...",notifications:" ",urgentCases:" ",fundingNeeded:"  ",importRequests:"  ",agree:"   ( +  +  )",submit:" ",submitting:" ..."},success:{title:"   !",desc:"    "}},myRequests:{title:" ",subtitle:"   ",enterContact:"    ",view:" ",noRequests:"  ",type:"",status:"",date:"",statusPending:" ",statusReviewing:" ",statusMatched:" ",statusInProgress:" ",statusCompleted:"",statusCancelled:"",typeLocal:"",typeForeign:" "},zeroCommission:{title:"  ",subtitle:"   100",principle1Title:"   ",principle1Desc:"       ",principle2Title:"  ",principle2Desc:"     ",principle3Title:" ",principle3Desc:"       ",principle4Title:" ",principle4Desc:"     ",commercial:':    (  )     ""'},faq:{title:"  - ",subtitle:"    ",q1:"  ",a1:"        .        .",q2:"   ",a2:"      .    .",q3:"   ",a3:'  "  "       "   "    .',q4:"   ",a4:'   " "      .',q5:"  ",a5:"    .      .",q6:"    ",a6:"         ."}},admin:{metrics:{pendingOrders:" ",pendingDesc:" ",shipped:" ",shippedDesc:" ",disputes:"",disputesDesc:"  ",newAgents:" ",newAgentsDesc:" 7 "},actions:{title:" ",refresh:"",export:" ",orders:" ",agents:" ",referrals:" ",settings:"",imports:" ",exchange:" ",desc:"    ."}},exchange:{title:" ",subtitle:". . .",have:{step:"1",title:"",currency:"",payment:" ",amount:""},want:{step:"2",title:"",currency:"",payment:" ",total:""},form:{placeholder:{select_currency:" ",select_method:" ",any_method:" ",select_wilaya:" "},terms_label:"   ",submit_btn:" ",submitting:" ..."},location:{wilaya:"",neededBy:" "},private:{title:"  ",subtitle:"   ",email:" ",phone:" ",whatsapp:" ",telegram:""},validation:{terms:"  ",required:"  ",amount:"  ",date:" ",email:"  ",phone:"  ",submit_error:"   "},success:{title:" !",desc:"  ",id_prefix:" :"}},exchange_sidebar:{howTitle:" ",step1:"  ( / ).",step2:"   .",step3:"    .",step4:"       .",step5:"    .",securityTitle:" ",securityBody:"   .       .     24 ."},alkhayr_public:{tabs:{submit:" ",search:"",donate:"",profile:" "},filter:{title:"",type:" ",all:"",local:"",foreign:" ",wilaya:"",search:"",placeholder:" ...",results:"",reset:" "},card:{local:"",foreign:" ",urgent:"",view:" "},details:{urgent:" ",relative_time:{today:"",yesterday:"",days_ago:" {{days}} "},no_description:"  .",photos_title:"",contact_button:"   ",ref:"",managed_by:" ",story:"",beneficiary:"",anonymous:"",note_title:" ",donate_now:" ",promo_badge:"   ",years:""},hero:{badge:" ",title:"",titleHighlight:"",desc:"         .",badges:{volunteer:" ",impact:" "}},empty:{title:"    ",desc:"   ."},submit:{title:" ",desc:"   .      .",success:{title:"  !",desc:"    .     .",btn_new:"  "},tabs:{local:" ()",foreign:" "},sections:{medication:" ",requester:"  ",location:"",financial:"  ()",logistics:" "},form:{medName:"  *",images:" ()",imagesHelp:"   .",prescription:"  ( )",prescriptionHelp:"       .",desc:" / ",descPlaceholder:" ...",requesterName:"  *",requesterPlaceholder:"    (  .)",phone:"  *",phonePlaceholder:"   ",otherContacts:"   (  )",whatsapp:"",telegram:"",wilaya:" *",country:"  *",countryPlaceholder:":  ...",city:" /  *",financialOptions:{full:"   ",partial:"  ",none:"    ",delivery:"    "},amount:"  ()",delivery:"   ",priority:{label:"  ",help:" .      .",normal:"",important:"",urgent:""},urgent_checkbox:{label:"   ( )",desc:"          ."},confirm:"        .         .",submitBtn:" ",submitting:" ..."},errors:{required:"    .",wilaya:"   .",country:"   .",confirm:"   .",submit:"   ."},toast:{success:{title:"  !",desc:"   ."}}},profile:{title:"",desc:"        .",dashboard:" ",logout:" ",access:"",phonePlaceholder:"+213 XXX XXX XXX",loading:"...",no_requests:"    .",login_error:"  ",login_req:" ",delete_error:" ",delete_success:"  ",status:{pending:" ",approved:" ",process:" ",fulfilled:"",rejected:""}},search_errors:{fetch:"  "},contact_dialog:{title:"  ",desc:"        .",whatsapp:"  ",facebook:"  ",instagram:"  "},donations:{title:"  ",subtitle:"       .",view_items:"",propose_item:" ",available_items:" ",empty:{title:"    ",desc:"     !"},card:{medicine:"",equipment:"",other:"",new:"",used_good:" ",used_fair:" ",qty:"",view_details:" ",contact:"",contact_collect:" ",details_title:" ",added_on:" ",description_title:"",no_description:"   .",no_images:"  "},form:{title:" ",donor_info:"  ( -  )",name:"  *",phone:"  *",has_whatsapp:" ",has_telegram:" ",item_details:" ",item_name:"  *",category:" *",condition:" *",location:" (  ) *",description:" ( -    )",photos:" * (  )",consent:"           (    )  .",submit:" ",success_title:"  !",success_desc:"   .  !",uploading:" ..."}}},classification:{severe:"",cancer:"",surgery:"",medium:"",diabetes:"",normal:"",rare:" "},blood:{title:" ",hero:{badge:" ",main_title_1:" ",main_title_2:" ",description:"   .          .",volunteer:" ",impact:" "},tabs:{search:"  ",register:" ",transport:"",profile:" "},search:{title:" ",filter_blood:" ",filter_wilaya:"",filter_name:" ",placeholder_name:" ...",results_count:"{{count}} ",reset:" ",loading:" ...",empty_title:"    ",empty_desc:"   .",last_donation:" : {{time}}",never_donated:"   ",days_ago:" {{count}} ",months_ago:" {{count}} ",years_ago:" {{count}} ",urgent_badge:"  ",call:"",note_title:" ",note_desc:"    .     .     ."},register:{title:" ",subtitle:"   .",success_title:"  !",success_desc:"   .    .",btn_profile:" ",btn_another:"  ",personal_info:" ",full_name:"  *",phone:"  *",email:"  ()",age:" * (18-65 )",blood_info:" ",blood_type:"  *",last_donation:"  ()",location:"",wilaya:" *",city:" *",medical_info:"  ()",consent_contact:"    ",consent_public:"      ",submit:" ",submitting:" ...",eligibility_title:" ",criteria_age:"18-65 ",criteria_weight:"+50 ",criteria_health:" ",criteria_recent:"   (-3 )",errors:{wilaya:" ",city:" ",reg_error:"  ",unexpected:"  "}},transport:{available_count:"  ({{count}})",loading:" ...",empty:"    .",volunteer_badge:" ",contact_btn:"",title:" ",subtitle:"     .",find:"   ",join:"  ",privacy_note:":     .",register:{title:"  ",subtitle:"      .",full_name:"  *",wilaya:" *",city:" *",phone:"  *",other_contacts:"   ( )",whatsapp:"",telegram:"",additional_info:" ",additional_placeholder:":   ...",visible_admin:"  ",consent_transport:"      .",consent_contact:"      .",btn_submit:" ",btn_submitting:" ...",success_title:"",success_desc:"!    .",error_title:"",error_desc:"  .",error_consent:"   ."}},profile:{access_title:"  ",access_desc:"         .",ph_phone:" ",btn_access:"",not_registered:" ",btn_register:" "}},request_import:{blocked:{title:"  ",desc:"   .   .",btn:""},title:" ",subtitle:"    .",sections:{contact:" ",origin:"",product:"",options:"",confirmation:"",tips:""},contact:{name:" ",name_ph:"",method:" ",value:"  *",value_ph:"+2135XXXXXXXX"},origin:{country:"  *",country_ph:"",city:"",city_ph:""},product:{desc:" *",desc_ph:" /  / ",links:" ()",links_ph:"    ",currency:"",value:" *",value_ph:"129.99",quantity:" *"},options:{priority:" ",priorities:{normal:"",express:""},delivery:" ",deliveries:{home:" ",pickup:"  "}},confirmation:{terms:"     *",submit:" ",submitting:" ...",modal:{title:" ",cancel:"",confirm:" "}},tips:{title:"",t1:"      .",t2:"      .",t3:"      ."},validation:{contact:"  ",country:"  ",desc:"  ",value:"  ",quantity:"    1  ",terms:"   ",title:"",sent:"  ",sent_desc_id:"    #{{id}}.",error:"",wait:" ",wait_desc:"     "}},register_agent:{hero:{title:"  ",subtitle:"            ."},personal:{title:"  ",name:"  *",country:"  *",city:" *",email:"  *",phone:"  () *",telegram:" ()",placeholders:{name:":   ",country:": ",city:": ",email:"karim@example.com",phone:"+33 6 12 34 56 78",telegram:"@username"}},capabilities:{title:" ",countries_label:"    *",countries_placeholder:":    ( )",countries_hint:"          .",methods_label:"  ",methods_placeholder:"    ",methods:{air:" ",sea:" ",hand:" ()"},frequency_label:" ",freq_regular:"",freq_regular_desc:"   ",freq_occasional:"",freq_occasional_desc:" /"},categories:{title:" ",label:"   ",options:{electronics:"",clothing:"",medical:" ",cosmetics:" ",auto:"  ",general:" "},other_label:" ( )",other_placeholder:":   ..."},pricing:{title:"  ()",subtitle:"       .       .",price_per_kg:"  ",currency:"",type:" ",types:{fixed:" ",negotiable:" /  "}},additional:{title:" ",placeholder:"        ..."},legal:{title:" ",broker:"         .",admin:"             .",terms:"       .",submit:" ",submitting:" ..."},success:{title:"  ",desc:"   (ID #{{id}})   .           .",home_btn:" "},validation:{name:"  ",country:"  ",city:" ",phone:"  ",email:"   ",countries:"     ",broker:"       ",admin:"   ",terms:"  ",title:" ",error_title:"",default_error:" "}},admin_alkhayr:{title:" ",subtitle:"    ",stats:{pending:" ",online:" ()",total:" "},tabs:{pending:" ",online:"",handled:" ",rejected:"",all:""},card:{untitled:"(  )",raw:": {{val}}"},modal:{status:{pending:" ",online:"",handled:" ",rejected:""},actions:{cancel:"",save:" "},title:"  #{{id}}",section_raw:"  ( )",section_public:"  ()",requester:"  ()",location:" ( )",need:" ()",docs:"  ()",prescription:" ",med_photos:" ",open:"",use:"",financial:{capability:"",offer:"",family:"",income:"",delivery:""},form:{title:"  *",title_ph:":     ",title_help:"    .",wilaya:" ",area:" / ",summary:"  () *",summary_ph:"    ...",desc:"  ()",desc_ph:"  ...",gallery:"  ()",upload_drag:"  ",use_proof:"  ",status:" ",urgent_admin:" "}}}}}},UL=localStorage.getItem("i18nextLng")||"ar";dt.use(uS).use(X6).init({resources:qL,lng:UL,fallbackLng:"ar",supportedLngs:["en","fr","ar"],interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},react:{useSuspense:!1}});const hS=XN,zL=ZN,BL=e1,mS=f.forwardRef(({className:e,...t},r)=>s.jsx(nh,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));mS.displayName=nh.displayName;const VL=di("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),xx=f.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(BL,{children:[s.jsx(mS,{}),s.jsxs(ah,{ref:a,className:J(VL({side:e}),t),...n,children:[r,s.jsxs(t1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xx.displayName=ah.displayName;const pS=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});pS.displayName="SheetHeader";const fS=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fS.displayName="SheetFooter";const gS=f.forwardRef(({className:e,...t},r)=>s.jsx(ih,{ref:r,className:J("text-lg font-semibold text-foreground",e),...t}));gS.displayName=ih.displayName;const WL=f.forwardRef(({className:e,...t},r)=>s.jsx(oh,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));WL.displayName=oh.displayName;const M=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:J("flex h-11 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));M.displayName="Input";var xh="Checkbox",[HL,Jq]=cs(xh),[KL,yx]=HL(xh);function GL(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:l,required:d,value:u="on",internal_do_not_use_render:p}=e,[m,h]=Os({prop:r,defaultProp:a??!1,onChange:l,caller:xh}),[y,x]=f.useState(null),[b,g]=f.useState(null),v=f.useRef(!1),j=y?!!o||!!y.closest("form"):!0,w={checked:m,disabled:i,setChecked:h,control:y,setControl:x,name:c,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:la(a)?!1:a,isFormControl:j,bubbleInput:b,setBubbleInput:g};return s.jsx(KL,{scope:t,...w,children:YL(p)?p(w):n})}var xS="CheckboxTrigger",yS=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:c,checked:l,required:d,setControl:u,setChecked:p,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:y}=yx(xS,e),x=Re(a,u),b=f.useRef(l);return f.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const v=()=>p(b.current);return g.addEventListener("reset",v),()=>g.removeEventListener("reset",v)}},[i,p]),s.jsx(he.button,{type:"button",role:"checkbox","aria-checked":la(l)?"mixed":l,"aria-required":d,"data-state":_S(l),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:x,onKeyDown:le(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:le(r,g=>{p(v=>la(v)?!0:!v),y&&h&&(m.current=g.isPropagationStopped(),m.current||g.stopPropagation())})})});yS.displayName=xS;var vx=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:l,onCheckedChange:d,form:u,...p}=e;return s.jsx(GL,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:d,name:n,form:u,value:l,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(yS,{...p,ref:t,__scopeCheckbox:r}),m&&s.jsx(wS,{__scopeCheckbox:r})]})})});vx.displayName=xh;var vS="CheckboxIndicator",bS=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=yx(vS,r);return s.jsx(Ns,{present:n||la(i.checked)||i.checked===!0,children:s.jsx(he.span,{"data-state":_S(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bS.displayName=vS;var jS="CheckboxBubbleInput",wS=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:l,name:d,value:u,form:p,bubbleInput:m,setBubbleInput:h}=yx(jS,e),y=Re(r,h),x=ch(i),b=Gu(n);f.useEffect(()=>{const v=m;if(!v)return;const j=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(j,"checked").set,k=!a.current;if(x!==i&&N){const _=new Event("click",{bubbles:k});v.indeterminate=la(i),N.call(v,la(i)?!1:i),v.dispatchEvent(_)}},[m,x,i,a]);const g=f.useRef(la(i)?!1:i);return s.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:c,disabled:l,name:d,value:u,form:p,...t,tabIndex:-1,ref:y,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wS.displayName=jS;function YL(e){return typeof e=="function"}function la(e){return e==="indeterminate"}function _S(e){return la(e)?"indeterminate":e?"checked":"unchecked"}const $e=f.forwardRef(({className:e,...t},r)=>s.jsx(vx,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(bS,{className:J("flex items-center justify-center text-current"),children:s.jsx(go,{className:"h-4 w-4"})})}));$e.displayName=vx.displayName;function JL(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var bx="ScrollArea",[NS,Qq]=cs(bx),[QL,Xs]=NS(bx),SS=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[c,l]=f.useState(null),[d,u]=f.useState(null),[p,m]=f.useState(null),[h,y]=f.useState(null),[x,b]=f.useState(null),[g,v]=f.useState(0),[j,w]=f.useState(0),[N,k]=f.useState(!1),[_,C]=f.useState(!1),A=Re(t,S=>l(S)),E=Ao(a);return s.jsx(QL,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:c,viewport:d,onViewportChange:u,content:p,onContentChange:m,scrollbarX:h,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:w,children:s.jsx(he.div,{dir:E,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});SS.displayName=bx;var kS="ScrollAreaViewport",CS=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Xs(kS,r),c=f.useRef(null),l=Re(t,c,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(he.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});CS.displayName=kS;var Wr="ScrollAreaScrollbar",jx=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xs(Wr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,c=e.orientation==="horizontal";return f.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),a.type==="hover"?s.jsx(XL,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(ZL,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(ES,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(wx,{...n,ref:t}):null});jx.displayName=Wr;var XL=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xs(Wr,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const c=a.scrollArea;let l=0;if(c){const d=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Ns,{present:r||i,children:s.jsx(ES,{"data-state":i?"visible":"hidden",...n,ref:t})})}),ZL=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xs(Wr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=vh(()=>l("SCROLL_END"),100),[c,l]=JL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,a.scrollHideDelay,l]),f.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let p=d[u];const m=()=>{const h=d[u];p!==h&&(l("SCROLL"),o()),p=h};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,l,o]),s.jsx(Ns,{present:r||c!=="hidden",children:s.jsx(wx,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:le(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:le(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ES=f.forwardRef((e,t)=>{const r=Xs(Wr,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=f.useState(!1),c=e.orientation==="horizontal",l=vh(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?d:u)}},10);return wo(r.viewport,l),wo(r.content,l),s.jsx(Ns,{present:n||i,children:s.jsx(wx,{"data-state":i?"visible":"hidden",...a,ref:t})})}),wx=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Xs(Wr,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[c,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=OS(c.viewport,c.content),u={...n,sizes:c,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function p(m,h){return aM(m,o.current,c,h)}return r==="horizontal"?s.jsx(eM,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=Lb(m,c,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=p(m,a.dir))}}):r==="vertical"?s.jsx(tM,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=Lb(m,c);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=p(m))}}):null}),eM=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xs(Wr,e.__scopeScrollArea),[o,c]=f.useState(),l=f.useRef(null),d=Re(t,l,i.onScrollbarXChange);return f.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),s.jsx(TS,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,p)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),IS(m,p)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:yu(o.paddingLeft),paddingEnd:yu(o.paddingRight)}})}})}),tM=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xs(Wr,e.__scopeScrollArea),[o,c]=f.useState(),l=f.useRef(null),d=Re(t,l,i.onScrollbarYChange);return f.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),s.jsx(TS,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,p)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),IS(m,p)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:yu(o.paddingTop),paddingEnd:yu(o.paddingBottom)}})}})}),[sM,PS]=NS(Wr),TS=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:u,onResize:p,...m}=e,h=Xs(Wr,r),[y,x]=f.useState(null),b=Re(t,A=>x(A)),g=f.useRef(null),v=f.useRef(""),j=h.viewport,w=n.content-n.viewport,N=Rt(u),k=Rt(l),_=vh(p,10);function C(A){if(g.current){const E=A.clientX-g.current.left,S=A.clientY-g.current.top;d({x:E,y:S})}}return f.useEffect(()=>{const A=E=>{const S=E.target;(y==null?void 0:y.contains(S))&&N(E,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[j,y,w,N]),f.useEffect(k,[n,k]),wo(y,_),wo(h.content,_),s.jsx(sM,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Rt(i),onThumbPointerUp:Rt(o),onThumbPositionChange:k,onThumbPointerDown:Rt(c),children:s.jsx(he.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:le(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:le(e.onPointerMove,C),onPointerUp:le(e.onPointerUp,A=>{const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,h.viewport&&(h.viewport.style.scrollBehavior=""),g.current=null})})})}),xu="ScrollAreaThumb",AS=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=PS(xu,e.__scopeScrollArea);return s.jsx(Ns,{present:r||a.hasThumb,children:s.jsx(rM,{ref:t,...n})})}),rM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Xs(xu,r),o=PS(xu,r),{onThumbPositionChange:c}=o,l=Re(t,p=>o.onThumbChange(p)),d=f.useRef(void 0),u=vh(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const p=i.viewport;if(p){const m=()=>{if(u(),!d.current){const h=iM(p,c);d.current=h,c()}};return c(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[i.viewport,u,c]),s.jsx(he.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:le(e.onPointerDownCapture,p=>{const h=p.target.getBoundingClientRect(),y=p.clientX-h.left,x=p.clientY-h.top;o.onThumbPointerDown({x:y,y:x})}),onPointerUp:le(e.onPointerUp,o.onThumbPointerUp)})});AS.displayName=xu;var _x="ScrollAreaCorner",RS=f.forwardRef((e,t)=>{const r=Xs(_x,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(nM,{...e,ref:t}):null});RS.displayName=_x;var nM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Xs(_x,r),[i,o]=f.useState(0),[c,l]=f.useState(0),d=!!(i&&c);return wo(a.scrollbarX,()=>{var p;const u=((p=a.scrollbarX)==null?void 0:p.offsetHeight)||0;a.onCornerHeightChange(u),l(u)}),wo(a.scrollbarY,()=>{var p;const u=((p=a.scrollbarY)==null?void 0:p.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(he.div,{...n,ref:t,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function yu(e){return e?parseInt(e,10):0}function OS(e,t){const r=e/t;return isNaN(r)?0:r}function yh(e){const t=OS(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function aM(e,t,r,n="ltr"){const a=yh(r),i=a/2,o=t||i,c=a-o,l=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-c,u=r.content-r.viewport,p=n==="ltr"?[0,u]:[u*-1,0];return DS([l,d],p)(e)}function Lb(e,t,r="ltr"){const n=yh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,c=i-n,l=r==="ltr"?[0,o]:[o*-1,0],d=Xp(e,l);return DS([0,o],[0,c])(d)}function DS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function IS(e,t){return e>0&&e<t}var iM=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,c=r.top!==i.top;(o||c)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function vh(e,t){const r=Rt(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function wo(e,t){const r=Rt(t);Dt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var LS=SS,oM=CS,lM=RS;const Zl=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(LS,{ref:n,className:J("relative overflow-hidden",e),...r,children:[s.jsx(oM,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(MS,{}),s.jsx(lM,{})]}));Zl.displayName=LS.displayName;const MS=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(jx,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(AS,{className:"relative flex-1 rounded-full bg-border"})}));MS.displayName=jx.displayName;var cM="Separator",Mb="horizontal",dM=["horizontal","vertical"],FS=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=Mb,...a}=e,i=uM(n)?n:Mb,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(he.div,{"data-orientation":i,...c,...a,ref:t})});FS.displayName=cM;function uM(e){return dM.includes(e)}var $S=FS;const vu=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx($S,{ref:a,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));vu.displayName=$S.displayName;function Fb(){const{items:e,removeItem:t,updateQuantity:r,cartTotal:n,itemCount:a,clearCart:i,shippingInfo:o,setIsAddressModalOpen:c}=xc(),{t:l,i18n:d}=ye(),[u,p]=f.useState(!1),{toast:m}=Ne(),[h,y]=f.useState(!1),[x,b]=f.useState(!1),[g,v]=f.useState(null),[j,w]=f.useState({}),[N,k]=f.useState({name:"",phone:"",email:"",useWhatsApp:!1,useTelegram:!1,whatsappNumber:"+213",telegramUsername:"@"});f.useEffect(()=>{u&&_()},[u]);const _=async()=>{const{data:F}=await L.from("settings").select("value").eq("key","shipping_rates").single();if(F!=null&&F.value)try{w(JSON.parse(F.value))}catch(O){console.error("Failed to parse shipping rates",O)}},[C,A]=f.useState(1);f.useEffect(()=>{(async()=>{const{data:O}=await L.from("settings").select("value").eq("key","exchange_rate_usd_to_dzd").single();O!=null&&O.value&&A(parseFloat(O.value)||1)})()},[]);const E=f.useMemo(()=>{var F;return((F=sx.find(O=>O.code===o.wilayaCode))==null?void 0:F.name)||o.wilayaCode},[o.wilayaCode]),S=f.useMemo(()=>e.some(F=>!F.productUrl),[e]),T=f.useMemo(()=>{let F=0;if(S&&o.wilayaCode&&j[o.wilayaCode]!==void 0){const $=j[o.wilayaCode];typeof $=="number"?F=$:$&&typeof $=="object"&&(o.deliveryType==="desk"?F=parseFloat($.deskPrice)||0:F=parseFloat($.homePrice)||0)}const O=e.reduce(($,H)=>$+(H.shippingPrice||0)*H.quantity,0);return F+O},[e,o.wilayaCode,o.deliveryType,j,S]),R=n+T,I=f.useMemo(()=>o.deliveryType?o.deliveryType==="desk"?l("cart.shipping_desk"):l("cart.shipping_home"):l("cart.shipping"),[o.deliveryType,l]),z=()=>S&&(!o.wilayaCode||!o.address)?(m({title:l("cart.validation.missing_shipping_title"),description:l("cart.validation.missing_shipping_desc"),variant:"destructive"}),c(!0),!1):N.name.trim()?!N.phone.trim()||N.phone==="+213"?(m({title:l("cart.validation.missing_phone_title"),description:l("cart.validation.missing_phone_desc"),variant:"destructive"}),!1):N.useWhatsApp&&(!N.whatsappNumber.trim()||N.whatsappNumber==="+213")?(m({title:l("cart.validation.missing_whatsapp_title"),description:l("cart.validation.missing_whatsapp_desc"),variant:"destructive"}),!1):N.useTelegram&&(!N.telegramUsername.trim()||N.telegramUsername==="@")?(m({title:l("cart.validation.missing_telegram_title"),description:l("cart.validation.missing_telegram_desc"),variant:"destructive"}),!1):!0:(m({title:l("cart.validation.missing_name_title"),description:l("cart.validation.missing_name_desc"),variant:"destructive"}),!1),U=async()=>{var F,O,$;if(z()){y(!0);try{const H=e.filter(se=>!se.productUrl),ne=e.filter(se=>se.productUrl),ae=[],pe=se=>se.map(G=>{let be=`${G.name} x${G.quantity} (${(G.price*G.quantity).toFixed(2)} DZD)`;return G.productUrl&&(be+=`
URL: ${G.productUrl}`),G.notes&&(be+=`
Notes: ${G.notes}`),G.referralCode&&(be+=`
Referral: ${G.referralCode}`),be}).join(`
---
`),Oe=(()=>{let se=`Phone: ${N.phone}`;return N.useWhatsApp&&(se+=`
WhatsApp: ${N.whatsappNumber}`),N.useTelegram&&(se+=`
Telegram: ${N.telegramUsername}`),se})(),Fe=N.useTelegram&&!N.useWhatsApp?"telegram":"whatsapp",ee=o.deliveryType==="desk"?"Stopdesk":"Home Delivery",q=`${o.address}, ${E} (${o.wilayaCode}) - ${ee}`;if(H.length>0){const se=H.reduce((Be,Zt)=>Be+Zt.price*Zt.quantity,0),G=T,be=se+G,Ie=`TYPE: Store Order
Items:
${pe(H)}

User Email: ${N.email||"N/A"}
Shipping Address: ${q}`,Ge=((F=H.find(Be=>Be.referralCode))==null?void 0:F.referralCode)||null,ot={internal:`CONTACT INFO:
${Oe}

${Ie}`,public:"",order_type:"store",items_metadata:H.map(Be=>({id:Be.id,name:Be.name,quantity:Be.quantity,price:Be.price,slug:Be.slug||null}))},{data:pt,error:Lt}=await L.from("orders").insert({name:N.name,contact_type:Fe,contact_value:N.phone,product_url:`Store Order (${H.length} items)`,price:se,shipping_price:G,total:be,status:"new",notes:JSON.stringify(ot),referral_code:Ge,exchange_rate:C}).select().single();if(Lt)throw Lt;ae.push({type:"Store",id:pt.id,items:H.map(Be=>Be.name).join(", ")})}if(ne.length>0){const se=ne.reduce((_t,us)=>_t+us.price*us.quantity,0),be=H.length>0?0:T,Ie=se+be,Ge=`TYPE: Custom Request
Items:
${pe(ne)}

User Email: ${N.email||"N/A"}
Shipping Address: ${q}`,ot=((O=ne.find(_t=>_t.referralCode))==null?void 0:O.referralCode)||null,pt=(($=ne[0])==null?void 0:$.productUrl)||"",Lt=ne.map(_t=>_t.notes).filter(Boolean).join(`

`),Be={internal:`CONTACT INFO:
${Oe}

${Ge}`,public:Lt,order_type:"order",items_metadata:ne.map(_t=>({id:_t.id,name:_t.name,quantity:_t.quantity,price:_t.price,product_url:_t.productUrl})),product_url:pt},{data:Zt,error:ds}=await L.from("orders").insert({name:N.name,contact_type:Fe,contact_value:N.phone,product_url:pt||`Custom Request (${ne.length} items)`,price:se,shipping_price:be,total:Ie,status:"new",notes:JSON.stringify(Be),referral_code:ot,exchange_rate:C}).select().single();if(ds)throw ds;ae.push({type:"Request",id:Zt.id,items:ne.map(_t=>_t.name).join(", ")})}let de=l("cart.order_success_title"),ie=l("cart.order_success_desc");ae.length>0&&(ie=ae.map(G=>`${G.type} #${G.id}:
${G.items}`).join(`

`)),v({title:de,description:ie}),p(!1),b(!0),i(),k({name:"",phone:"",email:"",useWhatsApp:!1,useTelegram:!1,whatsappNumber:"+213",telegramUsername:"@"})}catch(H){console.error("Error placing order:",H),m({title:l("cart.order_failed_title"),description:H.message||l("cart.order_failed_desc"),variant:"destructive"})}finally{y(!1)}}};return s.jsxs(hS,{open:u,onOpenChange:p,children:[s.jsx(zL,{asChild:!0,children:s.jsxs(D,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(an,{className:"h-5 w-5"}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center",children:a})]})}),s.jsxs(xx,{side:d.language==="ar"?"left":"right",className:"flex flex-col w-full sm:max-w-md",children:[s.jsx(pS,{children:s.jsxs(gS,{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-5 w-5"}),l("cart.title")," (",a,")"]})}),e.length===0?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground gap-4",children:[s.jsx(an,{className:"h-16 w-16 opacity-20"}),s.jsx("p",{children:l("cart.empty")}),s.jsx(D,{variant:"outline",onClick:()=>p(!1),children:l("cart.start_shopping")})]}):s.jsxs(s.Fragment,{children:[s.jsx(Zl,{className:"flex-1 -mx-6 px-6",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsx("div",{className:"space-y-4",children:e.map(F=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"h-20 w-20 rounded-lg bg-muted overflow-hidden flex-shrink-0 border border-border/50",children:F.productUrl?s.jsx("div",{className:"h-full w-full flex items-center justify-center bg-white p-2",children:s.jsx("img",{src:"/logo/waseet_favicon_128.png",alt:"Waseet",className:"h-full w-full object-contain"})}):F.image?s.jsx("img",{src:F.image,alt:F.name,className:"h-full w-full object-cover"}):s.jsx("div",{className:"h-full w-full flex items-center justify-center text-muted-foreground text-xs",children:l("cart.no_img")})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm line-clamp-1",children:F.name}),s.jsxs("p",{className:"text-sm font-medium text-primary",children:[F.price.toFixed(2)," DZD"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>r(F.id,F.quantity-1),children:s.jsx(jT,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-sm w-4 text-center",children:F.quantity}),s.jsx(D,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>r(F.id,F.quantity+1),children:s.jsx(sn,{className:"h-3 w-3"})})]}),s.jsx(D,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>t(F.id),children:s.jsx(Co,{className:"h-4 w-4"})})]})]})]},F.id))}),s.jsx(vu,{}),s.jsxs("div",{className:"space-y-4",children:[S&&s.jsxs("div",{className:"bg-muted/30 p-3 rounded-md text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("span",{className:"font-medium flex items-center gap-1.5",children:[s.jsx(_s,{className:"h-3.5 w-3.5"}),l("cart.shipping_to")]}),s.jsx(D,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>c(!0),children:l("cart.change")})]}),s.jsxs("div",{className:"pl-5 text-muted-foreground",children:[s.jsx("p",{children:E||l("cart.select_wilaya")}),s.jsx("p",{className:"truncate line-clamp-1",title:o.address,children:o.address||l("cart.select_address")})]})]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:l("cart.subtotal")}),s.jsxs("span",{children:[n.toFixed(2)," DZD"]})]}),T>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:S?`${I} (${E})`:l("cart.shipping")}),s.jsxs("span",{children:[T.toFixed(2)," DZD"]})]}),s.jsx(vu,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:l("cart.total")}),s.jsxs("span",{children:[R.toFixed(2)," DZD"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:l("cart.checkout_details")}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"name",className:"text-xs",children:l("cart.name")}),s.jsx(M,{id:"name",placeholder:l("cart.name_placeholder"),value:N.name,onChange:F=>k({...N,name:F.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"mandatory-phone",className:"text-xs",children:l("cart.phone")}),s.jsx(M,{id:"mandatory-phone",placeholder:l("cart.phone_placeholder"),value:N.phone,onChange:F=>{let O=F.target.value;O.startsWith("+213")||(O="+213"),k({...N,phone:O})}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"cart-email",className:"text-xs",children:l("cart.email")}),s.jsx(M,{id:"cart-email",type:"email",placeholder:l("cart.email_placeholder"),value:N.email,onChange:F=>k({...N,email:F.target.value})})]}),s.jsxs("div",{className:"pt-2 space-y-3",children:[s.jsx(P,{className:"text-xs font-semibold",children:l("cart.additional_contact")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"use-whatsapp",checked:N.useWhatsApp,onCheckedChange:F=>k({...N,useWhatsApp:F})}),s.jsx(P,{htmlFor:"use-whatsapp",className:"text-sm cursor-pointer",children:l("cart.whatsapp")})]}),N.useWhatsApp&&s.jsx(M,{placeholder:l("cart.whatsapp_placeholder"),value:N.whatsappNumber,onChange:F=>{let O=F.target.value;O.startsWith("+213")||(O="+213"),k({...N,whatsappNumber:O})},className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"use-telegram",checked:N.useTelegram,onCheckedChange:F=>k({...N,useTelegram:F})}),s.jsx(P,{htmlFor:"use-telegram",className:"text-sm cursor-pointer",children:l("cart.telegram")})]}),N.useTelegram&&s.jsx(M,{placeholder:l("cart.telegram_placeholder"),value:N.telegramUsername,onChange:F=>{let O=F.target.value;O.startsWith("@")||(O="@"+O.replace(/^@+/,"")),k({...N,telegramUsername:O})},className:"h-8 text-sm"})]})]})]})]})]})]})}),s.jsx(fS,{className:"pt-4 border-t",children:s.jsx(D,{className:"w-full h-11 text-base gap-2",onClick:U,disabled:h,children:h?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-5 w-5 animate-spin"}),l("cart.processing")]}):s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"h-5 w-5"}),l("cart.place_order")]})})})]})]}),s.jsx(at,{open:x,onOpenChange:b,children:s.jsxs(st,{className:"sm:max-w-md",children:[s.jsxs(vt,{children:[s.jsxs(bt,{className:"flex items-center gap-2 text-green-600",children:[s.jsx($r,{className:"h-6 w-6"}),g==null?void 0:g.title]}),s.jsx(Is,{className:"pt-4 whitespace-pre-wrap font-medium text-foreground/90 leading-relaxed",children:g==null?void 0:g.description})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mt-2 mb-4 text-sm text-muted-foreground",children:[s.jsx("p",{children:l("cart.contact_shortly")}),s.jsx("p",{className:"mt-1",children:l("cart.keep_ref")})]}),s.jsx(vs,{children:s.jsx(D,{className:"w-full sm:w-auto",onClick:()=>b(!1),children:l("cart.close")})})]})})]})}const Nr=()=>{const[e,t]=f.useState(!1),{t:r}=ye(),n=i=>{dt.changeLanguage(i),localStorage.setItem("i18nextLng",i),document.cookie=`i18next=${i}; path=/; max-age=31536000; SameSite=Strict`};r("nav.home"),r("nav.order"),r("nav.track"),r("nav.earn"),r("nav.about"),r("nav.contact"),r("nav.internationalAgent");const a=[{to:"/alkhayr/main",label:r("nav.alkhayr_label")},{to:"/alkhayr/zero-commission",label:r("alkhayr.nav.zeroCommission")},{to:"/alkhayr/faq",label:r("alkhayr.nav.faq")},{to:"/blood-donation",label:r("blood.title")}];return s.jsxs("nav",{className:"sticky top-0 z-50 w-full bg-[#FFFCF9] text-[#2D2A26] border-b border-[#E7E5E4] shadow-sm",role:"navigation","aria-label":"Primary",children:[s.jsxs("div",{className:"app-shell flex py-3 items-center justify-between",children:[s.jsxs(fe,{to:"/",className:"flex items-center gap-3 group",children:[s.jsx("img",{src:X2,alt:"Waseet Logo",className:"h-12 w-auto drop-shadow-sm transition-transform duration-fast group-hover:scale-105"}),s.jsx("span",{className:"hidden md:inline text-lg font-semibold tracking-tight text-[#2D2A26] group-hover:text-[#F4A261] transition-colors",children:r("nav.waseet")})]}),s.jsxs("div",{className:"hidden xl:flex items-center gap-x-3 2xl:gap-x-8",children:[s.jsx(fe,{to:"/",className:"text-xs lg:text-sm font-medium text-[#5F5B57] hover:text-[#F4A261] transition-colors whitespace-nowrap",children:r("nav.home")}),s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"flex items-center gap-1 text-xs lg:text-sm font-medium text-[#5F5B57] hover:text-[#F4A261] transition-colors whitespace-nowrap",children:[s.jsx("span",{className:"font-semibold",children:r("nav.waseet")}),s.jsx(Xr,{className:"h-4 w-4"})]}),s.jsx("div",{className:"absolute top-full left-0 w-52 h-3 hidden group-hover:block"}),s.jsx("div",{className:"absolute hidden group-hover:block top-full left-0 mt-3 w-52 rounded-lg border border-gray-200 bg-white shadow-lg p-2 text-gray-800",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx(fe,{to:"/order",className:"px-3 py-2 rounded-md text-xs font-medium hover:bg-[#F7F3EE] hover:text-[#E76F51] transition-colors",children:r("nav.order")}),s.jsx(fe,{to:"/track",className:"px-3 py-2 rounded-md text-xs font-medium hover:bg-[#F7F3EE] hover:text-[#E76F51] transition-colors",children:r("nav.track")}),s.jsx(fe,{to:"/store",className:"px-3 py-2 rounded-md text-xs font-medium hover:bg-[#F7F3EE] hover:text-[#E76F51] transition-colors",children:r("nav.store")}),s.jsx(fe,{to:"/referral",className:"px-3 py-2 rounded-md text-xs font-medium hover:bg-[#F7F3EE] hover:text-[#E76F51] transition-colors",children:r("nav.earn")})]})})]}),s.jsx(fe,{to:"/exchange",className:"text-xs lg:text-sm font-medium text-[#5F5B57] hover:text-[#F4A261] transition-colors whitespace-nowrap",children:r("nav.exchange")}),s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"flex items-center gap-1 text-xs lg:text-sm font-medium text-[#5F5B57] hover:text-[#F4A261] transition-colors whitespace-nowrap",children:[s.jsx("span",{children:r("nav.internationalAgent")}),s.jsx(Xr,{className:"h-4 w-4"})]}),s.jsx("div",{className:"absolute top-full left-0 w-60 h-3 hidden group-hover:block"}),s.jsxs("div",{className:"absolute hidden group-hover:block top-full left-0 mt-3 w-60 rounded-lg border border-gray-200 bg-white shadow-lg p-2 text-gray-800",children:[s.jsx(fe,{to:"/import-request",className:"block px-3 py-2 rounded-md text-xs font-medium hover:bg-[#F7F3EE] hover:text-[#E76F51] transition-colors",children:r("nav.agent.requestImport")}),s.jsx(fe,{to:"/register-agent",className:"block px-3 py-2 rounded-md text-xs font-medium hover:bg-[#F7F3EE] hover:text-[#E76F51] transition-colors",children:r("nav.agent.registerAgent")})]})]}),s.jsx(fe,{to:"/about",className:"text-xs lg:text-sm font-medium text-[#5F5B57] hover:text-[#F4A261] transition-colors whitespace-nowrap",children:r("nav.about")}),s.jsx(fe,{to:"/contact",className:"text-xs lg:text-sm font-medium text-[#5F5B57] hover:text-[#F4A261] transition-colors whitespace-nowrap",children:r("nav.contact")}),s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"flex items-center gap-1 text-xs lg:text-sm font-semibold text-green-700 hover:text-green-800 transition-colors px-2 lg:px-3 py-1.5 lg:py-2 rounded-md bg-green-50 hover:bg-green-100 border border-green-200 whitespace-nowrap shadow-sm",children:[s.jsx(yt,{className:"h-4 w-4 fill-green-100 text-green-600"}),s.jsx("span",{children:r("nav.alkhayr_label")}),s.jsx(Xr,{className:"h-4 w-4"})]}),s.jsx("div",{className:"absolute top-full left-0 w-64 h-2 hidden group-hover:block"}),s.jsx("div",{className:"absolute hidden group-hover:block top-full left-0 mt-2 w-64 rounded-lg border border-green-200 bg-white shadow-lg py-2 text-gray-800",children:a.map(i=>s.jsx(fe,{to:i.to,className:`block px-4 py-2 text-xs font-medium rounded-md transition-colors ${i.to==="/blood-donation"?"text-red-600 border border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-700 mt-2 mx-2 text-center":"hover:bg-green-50 hover:text-green-700"}`,children:i.label},i.to))})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[s.jsx("div",{className:"text-[#2D2A26]",children:s.jsx(Fb,{})}),s.jsxs("select",{"aria-label":"Language",className:"text-[10px] lg:text-xs font-medium bg-gray-800 text-gray-200 border border-gray-700 rounded-md px-1.5 lg:px-2 py-1 focus-outline transition-colors",value:dt.language.startsWith("fr")?"fr":dt.language.startsWith("ar")?"ar":"en",onChange:i=>n(i.target.value),children:[s.jsx("option",{value:"en",children:"EN"}),s.jsx("option",{value:"fr",children:"FR"}),s.jsx("option",{value:"ar",children:"AR"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 xl:hidden",children:[s.jsx("div",{className:"text-[#2D2A26]",children:s.jsx(Fb,{})}),s.jsx(D,{variant:"ghost",size:"icon",onClick:()=>t(!e),children:e?s.jsx(Ct,{className:"h-5 w-5"}):s.jsx(Zw,{className:"h-5 w-5"})})]})]}),e&&s.jsx("div",{className:"xl:hidden border-t border-border bg-background/95 backdrop-blur-xl h-[calc(100vh-64px)] overflow-y-auto",children:s.jsxs("div",{className:"app-shell py-4 flex flex-col space-y-2 pb-20",children:[s.jsx(fe,{to:"/",className:"text-base font-medium text-foreground/90 hover:text-primary transition-colors py-3 px-4 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.home")}),s.jsxs("details",{className:"group",children:[s.jsxs("summary",{className:"flex items-center justify-between text-base font-semibold text-foreground/90 hover:text-primary transition-colors py-3 px-4 rounded-md hover:bg-muted/50 cursor-pointer list-none select-none",children:[s.jsx("span",{children:r("nav.waseet")}),s.jsx(Xr,{className:"h-5 w-5 transition-transform group-open:rotate-180"})]}),s.jsxs("div",{className:"pl-4 mt-1 space-y-1 border-l-2 border-primary/20 ml-3",children:[s.jsx(fe,{to:"/order",className:"block text-sm font-medium text-foreground/80 hover:text-primary transition-colors py-3 px-3 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.order")}),s.jsx(fe,{to:"/track",className:"block text-sm font-medium text-foreground/80 hover:text-primary transition-colors py-3 px-3 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.track")}),s.jsx(fe,{to:"/store",className:"block text-sm font-medium text-foreground/80 hover:text-primary transition-colors py-3 px-3 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.store")}),s.jsx(fe,{to:"/referral",className:"block text-sm font-medium text-foreground/80 hover:text-primary transition-colors py-3 px-3 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.earn")})]})]}),s.jsx(fe,{to:"/exchange",className:"text-base font-medium text-foreground/90 hover:text-primary transition-colors py-3 px-4 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.exchange")}),s.jsxs("details",{className:"group",children:[s.jsxs("summary",{className:"flex items-center justify-between text-base font-medium text-foreground/90 hover:text-primary transition-colors py-3 px-4 rounded-md hover:bg-muted/50 cursor-pointer list-none select-none",children:[s.jsx("span",{children:r("nav.internationalAgent")}),s.jsx(Xr,{className:"h-5 w-5 transition-transform group-open:rotate-180"})]}),s.jsxs("div",{className:"pl-4 mt-1 space-y-1 border-l-2 border-primary/20 ml-3",children:[s.jsx(fe,{to:"/import-request",className:"block text-sm font-medium text-foreground/80 hover:text-primary transition-colors py-3 px-3 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.agent.requestImport")}),s.jsx(fe,{to:"/register-agent",className:"block text-sm font-medium text-foreground/80 hover:text-primary transition-colors py-3 px-3 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.agent.registerAgent")})]})]}),s.jsx(fe,{to:"/about",className:"text-base font-medium text-foreground/90 hover:text-primary transition-colors py-3 px-4 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.about")}),s.jsx(fe,{to:"/contact",className:"text-base font-medium text-foreground/90 hover:text-primary transition-colors py-3 px-4 rounded-md hover:bg-muted/50",onClick:()=>t(!1),children:r("nav.contact")}),s.jsxs("details",{className:"group",children:[s.jsxs("summary",{className:"flex items-center justify-between text-base font-semibold text-red-600 hover:text-red-700 transition-colors py-3 px-4 rounded-md bg-red-50/70 border border-red-200 cursor-pointer list-none select-none",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),s.jsx("span",{children:r("nav.alkhayr_label")})]}),s.jsx(Xr,{className:"h-5 w-5 transition-transform group-open:rotate-180"})]}),s.jsx("div",{className:"pl-4 mt-1 space-y-1 border-l-2 border-red-300 ml-3",children:a.map(i=>s.jsx(fe,{to:i.to,className:"block text-sm font-medium text-foreground/85 hover:text-red-700 transition-colors py-3 px-3 rounded-md hover:bg-red-50",onClick:()=>t(!1),children:i.label},i.to))})]}),s.jsx("div",{className:"pt-4 mt-4 border-t border-border/60 flex items-center justify-between gap-3 px-2",children:s.jsxs("select",{"aria-label":"Language",className:"flex-1 text-base bg-muted/40 border border-border/70 rounded-md px-3 py-3 focus-outline",value:dt.language.startsWith("fr")?"fr":dt.language.startsWith("ar")?"ar":"en",onChange:i=>{n(i.target.value),t(!1)},children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"fr",children:"Franais"}),s.jsx("option",{value:"ar",children:""})]})})]})})]})},pa=()=>{const{t:e}=ye();return s.jsx("footer",{className:"mt-auto border-t border-[#E7E5E4] bg-[#F7F3EE] text-[#5F5B57]",children:s.jsxs("div",{className:"app-shell py-12 md:py-16",children:[s.jsxs("div",{className:"grid gap-10 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(fe,{to:"/",className:"flex items-center gap-3 group",children:[s.jsx("img",{src:X2,alt:"Waseet Logo",className:"h-10 w-auto drop-shadow-sm transition-transform duration-fast group-hover:scale-105"}),s.jsx("span",{className:"text-lg font-semibold tracking-tight text-[#2D2A26]",children:"Waseet"})]}),s.jsx("p",{className:"text-sm leading-relaxed text-[#5F5B57] max-w-xs",children:e("footer.brandDesc")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold tracking-wide text-[#2D2A26] uppercase opacity-90",children:e("footer.services")}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx(fe,{to:"/",className:"hover:text-[#F4A261] transition-colors",children:e("nav.store")})}),s.jsx("li",{children:s.jsx(fe,{to:"/order",className:"hover:text-[#F4A261] transition-colors",children:e("footer.order")})}),s.jsx("li",{children:s.jsx(fe,{to:"/track",className:"hover:text-[#F4A261] transition-colors",children:e("footer.trackOrder")})}),s.jsx("li",{children:s.jsx(fe,{to:"/exchange",className:"hover:text-[#F4A261] transition-colors",children:e("footer.exchange")})}),s.jsx("li",{children:s.jsx(fe,{to:"/import-request",className:"hover:text-[#F4A261] transition-colors",children:e("footer.importRequest")})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold tracking-wide text-[#2D2A26] uppercase opacity-90",children:e("footer.support")}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx(fe,{to:"/contact",className:"hover:text-[#F4A261] transition-colors",children:e("footer.contact")})}),s.jsx("li",{children:s.jsx(fe,{to:"/verify",className:"hover:text-[#F4A261] transition-colors",children:e("nav.verify")})}),s.jsx("li",{children:s.jsx(fe,{to:"/about",className:"hover:text-[#F4A261] transition-colors",children:e("footer.aboutUs")})}),s.jsx("li",{children:s.jsx(fe,{to:"/faq",className:"hover:text-[#F4A261] transition-colors",children:"FAQ"})}),s.jsx("li",{children:s.jsx(fe,{to:"/privacy",className:"hover:text-[#F4A261] transition-colors",children:e("footer.privacy")})}),s.jsx("li",{children:s.jsx(fe,{to:"/terms",className:"hover:text-[#F4A261] transition-colors",children:e("footer.terms")})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold tracking-wide text-[#2D2A26] uppercase opacity-90",children:e("footer.connect")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("a",{href:"https://t.me/waseet",target:"_blank",rel:"noreferrer my-0",className:"bg-white p-2 rounded-full shadow-sm text-[#2D2A26] hover:text-[#0088cc] hover:shadow-md transition-all",children:s.jsx(ua,{className:"w-5 h-5"})}),s.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",className:"bg-white p-2 rounded-full shadow-sm text-[#2D2A26] hover:text-[#1877F2] hover:shadow-md transition-all",children:s.jsx(Qd,{className:"w-5 h-5"})}),s.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",className:"bg-white p-2 rounded-full shadow-sm text-[#2D2A26] hover:text-[#E4405F] hover:shadow-md transition-all",children:s.jsx(Xd,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#8A857F] bg-white/50 p-3 rounded-lg border border-[#E7E5E4]/50",children:[s.jsx(is,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:e("footer.verified_badge")})]})]})]}),s.jsxs("div",{className:"mt-16 flex flex-col md:flex-row items-center justify-between gap-6 border-t border-[#E7E5E4] pt-8",children:[s.jsxs("p",{className:"text-xs text-[#8A857F]",children:[" ",new Date().getFullYear()," Waseet. ",e("footer.rights")]}),s.jsxs("div",{className:"flex items-center gap-6 text-xs text-[#8A857F]",children:[s.jsx(fe,{to:"/privacy",className:"hover:text-[#F4A261] transition-colors",children:e("footer.privacy")}),s.jsx(fe,{to:"/terms",className:"hover:text-[#F4A261] transition-colors",children:e("footer.terms")}),s.jsx(fe,{to:"/cookies",className:"hover:text-[#F4A261] transition-colors",children:e("footer.cookies")})]})]})]})})};function it({children:e,className:t=""}){const r=$s(),n=f.useMemo(()=>{const a=r.pathname;return["/alkhayr/foreign","/alkhayr/my-requests","/alkhayr/diaspora","/alkhayr/requests","/alkhayr/local","/alkhayr/zero-commission","/alkhayr/faq","/foreign","/my-requests","/diaspora","/requests","/local","/zero-commission","/faq"].some(o=>a.startsWith(o))?"theme-charity":""},[r.pathname]);return f.useEffect(()=>{const a=document.body;return n?a.classList.add(n):a.classList.remove("theme-charity"),()=>{a.classList.remove("theme-charity")}},[n]),s.jsxs("div",{className:`min-h-screen flex flex-col ${t}`,children:[s.jsx(Nr,{}),s.jsx("main",{id:"app-main",role:"main",className:"flex-1","aria-label":"Main Content Area",children:e}),s.jsx(pa,{})]})}function tt({title:e,subtitle:t,children:r,padding:n="md",className:a="",center:i=!1,id:o,variant:c="default"}){const l={sm:"py-10",md:"py-16",lg:"py-24"}[n],d={default:"",hero:"bg-gradient-hero",charity:"charity-gradient-bg relative",alkhayr:"theme-alkhayr bg-background text-foreground"}[c],u=c==="charity"||c==="alkhayr"?"text-2xl md:text-3xl font-bold tracking-tight mb-4 text-primary":"text-xl md:text-2xl font-semibold tracking-tight mb-3 text-brand-gradient",p=c==="charity"||c==="alkhayr"?"text-base md:text-lg text-muted-foreground max-w-3xl font-medium":"text-sm md:text-base text-foreground/65 max-w-2xl";return s.jsxs("section",{id:o,className:Ka(l,d,a,"relative overflow-hidden"),children:[c==="charity"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-radial from-primary/20 to-transparent rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-radial from-accent/15 to-transparent rounded-full blur-3xl animate-pulse",style:{animationDuration:"5s",animationDelay:"1s"}})]}),s.jsxs("div",{className:"app-shell relative z-10",children:[(e||t)&&s.jsxs("div",{className:Ka("mb-12",i&&"text-center"),children:[e&&s.jsx("h2",{className:u,children:e}),t&&s.jsx("p",{className:Ka(p,i?"mx-auto":""),children:t}),c==="charity"&&s.jsx("div",{className:"charity-section-divider"})]}),r]})]})}const B=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));B.displayName="Card";const ce=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));ce.displayName="CardHeader";const xe=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));xe.displayName="CardTitle";const nt=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));nt.displayName="CardDescription";const V=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));V.displayName="CardContent";const Yn=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));Yn.displayName="CardFooter";const hM=()=>{const{t:e}=ye(),t=()=>{const r=document.getElementById("services");r&&r.scrollIntoView({behavior:"smooth"})};return s.jsxs(it,{children:[s.jsx("section",{className:"relative overflow-hidden border-b border-[#D6D3D1] bg-[#E7E5E4] dark:bg-background",children:s.jsx("div",{className:"container relative py-12 md:py-32",children:s.jsxs("div",{className:"mx-auto max-w-3xl text-center space-y-6",children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-extrabold tracking-tight text-[#2D2A26] dark:text-white leading-tight",children:[e("home.hero.title_prefix")," ",s.jsx("br",{}),s.jsx("span",{className:"text-[#5F5B57] dark:text-stone-400",children:e("home.hero.title_highlight")})]}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-[#5F5B57] dark:text-stone-300 leading-relaxed max-w-2xl mx-auto px-4",children:e("home.hero.subtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-8 px-4",children:[s.jsx(D,{size:"lg",className:"h-12 w-full sm:w-auto px-8 text-base bg-[#F4A261] hover:bg-[#E76F51] text-white shadow-md transition-all",onClick:t,children:e("home.hero.cta_explore")}),s.jsx(fe,{to:"/track",className:"w-full sm:w-auto",children:s.jsxs(D,{size:"lg",variant:"outline",className:"h-12 w-full sm:w-auto px-8 text-base border-[#E7E5E4] hover:bg-[#F7F3EE] text-[#5F5B57]",children:[s.jsx(Xt,{className:"mr-2 h-4 w-4"}),e("home.hero.cta_track")]})})]})]})})}),s.jsx(tt,{id:"services",title:e("home.services.title"),subtitle:e("home.services.subtitle"),padding:"lg",center:!0,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:[s.jsxs(B,{className:"flex flex-col h-full border border-[#E7E5E4] shadow-sm hover:shadow-md transition-shadow bg-white",children:[s.jsxs(ce,{children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-[#F7F3EE] flex items-center justify-center text-[#F4A261] mb-4",children:s.jsx(an,{className:"h-6 w-6"})}),s.jsx(xe,{className:"text-xl text-[#2D2A26]",children:e("home.services.marketplace.title")})]}),s.jsx(V,{className:"flex-1",children:s.jsx("p",{className:"text-[#5F5B57] leading-relaxed",children:e("home.services.marketplace.desc")})}),s.jsx(Yn,{children:s.jsx(fe,{to:"/store",className:"w-full",children:s.jsx(D,{variant:"outline",className:"w-full border-[#E7E5E4] text-[#5F5B57] hover:bg-[#F7F3EE] min-h-[44px]",children:e("home.services.marketplace.btn")})})})]}),s.jsxs(B,{className:"flex flex-col h-full border border-[#E7E5E4] shadow-sm hover:shadow-md transition-shadow bg-white",children:[s.jsxs(ce,{children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-[#F7F3EE] flex items-center justify-center text-[#F4A261] mb-4",children:s.jsx(_T,{className:"h-6 w-6"})}),s.jsx(xe,{className:"text-xl text-[#2D2A26]",children:e("home.services.exchange.title")})]}),s.jsx(V,{className:"flex-1",children:s.jsx("p",{className:"text-[#5F5B57] leading-relaxed",children:e("home.services.exchange.desc")})}),s.jsx(Yn,{children:s.jsx(fe,{to:"/exchange",className:"w-full",children:s.jsx(D,{variant:"outline",className:"w-full border-[#E7E5E4] text-[#5F5B57] hover:bg-[#F7F3EE] min-h-[44px]",children:e("home.services.exchange.btn")})})})]}),s.jsxs(B,{className:"flex flex-col h-full border border-[#E7E5E4] shadow-sm hover:shadow-md transition-shadow bg-white",children:[s.jsxs(ce,{children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-[#F7F3EE] flex items-center justify-center text-[#F4A261] mb-4",children:s.jsx(as,{className:"h-6 w-6"})}),s.jsx(xe,{className:"text-xl text-[#2D2A26]",children:e("home.services.import.title")})]}),s.jsx(V,{className:"flex-1",children:s.jsx("p",{className:"text-[#5F5B57] leading-relaxed",children:e("home.services.import.desc")})}),s.jsx(Yn,{children:s.jsx(fe,{to:"/import-request",className:"w-full",children:s.jsx(D,{variant:"outline",className:"w-full border-[#E7E5E4] text-[#5F5B57] hover:bg-[#F7F3EE] min-h-[44px]",children:e("home.services.import.btn")})})})]}),s.jsxs(B,{className:"flex flex-col h-full border border-[#E7E5E4] shadow-sm hover:shadow-md transition-shadow bg-white",children:[s.jsxs(ce,{children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-[#F7F3EE] flex items-center justify-center text-[#F4A261] mb-4",children:s.jsx(Xt,{className:"h-6 w-6"})}),s.jsx(xe,{className:"text-xl text-[#2D2A26]",children:e("home.services.tracking.title")})]}),s.jsx(V,{className:"flex-1",children:s.jsx("p",{className:"text-[#5F5B57] leading-relaxed",children:e("home.services.tracking.desc")})}),s.jsx(Yn,{children:s.jsx(fe,{to:"/track",className:"w-full",children:s.jsx(D,{variant:"outline",className:"w-full border-[#E7E5E4] text-[#5F5B57] hover:bg-[#F7F3EE] min-h-[44px]",children:e("home.services.tracking.btn")})})})]})]})}),s.jsx(tt,{title:e("home.how.title"),subtitle:e("home.how.subtitle"),padding:"md",center:!0,className:"bg-muted/50",children:s.jsxs("div",{className:"max-w-5xl mx-auto mt-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 relative",children:[s.jsx("div",{className:"hidden md:block absolute top-6 left-[10%] right-[10%] h-0.5 bg-border -z-10"}),[{title:e("home.how.steps.1.title"),desc:e("home.how.steps.1.desc"),icon:s.jsx(Ur,{className:"h-5 w-5"})},{title:e("home.how.steps.2.title"),desc:e("home.how.steps.2.desc"),icon:s.jsx(ln,{className:"h-5 w-5"})},{title:e("home.how.steps.3.title"),desc:e("home.how.steps.3.desc"),icon:s.jsx(Op,{className:"h-5 w-5"})},{title:e("home.how.steps.4.title"),desc:e("home.how.steps.4.desc"),icon:s.jsx(Js,{className:"h-5 w-5"})}].map((r,n)=>s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 bg-background/50 p-6 rounded-xl backdrop-blur-sm md:bg-transparent md:p-0",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-lg shadow-md ring-4 ring-background",children:n+1}),s.jsx("h3",{className:"font-semibold text-lg",children:r.title}),s.jsx("p",{className:"text-sm text-muted-foreground leading-snug",children:r.desc})]},n))]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"inline-flex items-center gap-2 text-sm font-medium text-amber-600 bg-amber-50 px-4 py-2 rounded-full border border-amber-100 max-w-full whitespace-normal text-center",children:[s.jsx(Fp,{className:"h-4 w-4 shrink-0"}),e("home.how.manual_note")]})})]})}),s.jsx(tt,{title:e("home.trust.title"),subtitle:e("home.trust.subtitle"),padding:"lg",center:!0,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto text-left",children:[s.jsx(B,{className:"border-none shadow-none bg-muted/30",children:s.jsxs(V,{className:"p-6 space-y-3",children:[s.jsx(is,{className:"h-8 w-8 text-primary"}),s.jsx("h3",{className:"font-semibold text-lg",children:e("home.trust.cards.review.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("home.trust.cards.review.desc")})]})}),s.jsx(B,{className:"border-none shadow-none bg-muted/30",children:s.jsxs(V,{className:"p-6 space-y-3",children:[s.jsx(Op,{className:"h-8 w-8 text-primary"}),s.jsx("h3",{className:"font-semibold text-lg",children:e("home.trust.cards.comms.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("home.trust.cards.comms.desc")})]})}),s.jsx(B,{className:"border-none shadow-none bg-muted/30",children:s.jsxs(V,{className:"p-6 space-y-3",children:[s.jsx(ln,{className:"h-8 w-8 text-primary"}),s.jsx("h3",{className:"font-semibold text-lg",children:e("home.trust.cards.broker.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("home.trust.cards.broker.desc")})]})}),s.jsx(B,{className:"border-none shadow-none bg-muted/30",children:s.jsxs(V,{className:"p-6 space-y-3",children:[s.jsx(as,{className:"h-8 w-8 text-primary"}),s.jsx("h3",{className:"font-semibold text-lg",children:e("home.trust.cards.local.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("home.trust.cards.local.desc")})]})})]})}),s.jsx(tt,{padding:"md",className:"bg-gradient-to-br from-primary/5 to-secondary/5 border-y",children:s.jsxs("div",{className:"container max-w-5xl text-center space-y-10",children:[s.jsx("h2",{className:"text-3xl font-bold",children:e("home.who.title")}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"mx-auto w-12 h-1 border-t-2 border-primary mb-4"}),s.jsx("h3",{className:"font-semibold",children:e("home.who.shoppers.title")}),s.jsx("p",{className:"text-muted-foreground text-sm",children:e("home.who.shoppers.desc")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"mx-auto w-12 h-1 border-t-2 border-primary mb-4"}),s.jsx("h3",{className:"font-semibold",children:e("home.who.exchangers.title")}),s.jsx("p",{className:"text-muted-foreground text-sm",children:e("home.who.exchangers.desc")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"mx-auto w-12 h-1 border-t-2 border-primary mb-4"}),s.jsx("h3",{className:"font-semibold",children:e("home.who.verification.title")}),s.jsx("p",{className:"text-muted-foreground text-sm",children:e("home.who.verification.desc")})]})]})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsx("div",{className:"container max-w-3xl text-center",children:s.jsxs("div",{className:"bg-destructive/5 border border-destructive/20 rounded-2xl p-8 space-y-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-destructive flex items-center justify-center gap-2",children:[s.jsx(Fp,{className:"h-5 w-5"}),e("home.transparency.title")]}),s.jsxs("ul",{className:"text-muted-foreground space-y-2 text-sm md:text-base",children:[s.jsxs("li",{children:[" ",s.jsx(xt,{i18nKey:"home.transparency.items.1",components:{strong:s.jsx("strong",{})}})]}),s.jsxs("li",{children:[" ",s.jsx(xt,{i18nKey:"home.transparency.items.2",components:{strong:s.jsx("strong",{})}})]}),s.jsxs("li",{children:[" ",s.jsx(xt,{i18nKey:"home.transparency.items.3",components:{strong:s.jsx("strong",{})}})]})]})]})})}),s.jsx("section",{className:"py-20 bg-muted/30 border-t",children:s.jsxs("div",{className:"container max-w-2xl text-center space-y-8",children:[s.jsx("h2",{className:"text-3xl font-bold",children:e("home.ready.title")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(D,{size:"lg",className:"px-8",onClick:t,children:e("home.ready.explore")}),s.jsx(fe,{to:"/contact",children:s.jsx(D,{size:"lg",variant:"outline",className:"px-8",children:e("home.ready.support")})})]})]})})]})};function Jn({value:e,label:t,description:r,icon:n,accent:a="primary",className:i=""}){return s.jsxs("div",{className:Ka("rounded-xl border border-border/60 bg-card p-6 shadow-sm flex flex-col gap-3 hover:shadow-md transition-shadow",i),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[n&&s.jsx("div",{className:Ka("w-9 h-9 rounded-lg flex items-center justify-center shadow-sm",a==="primary"&&"bg-primary/10 text-primary",a==="accent"&&"bg-accent/10 text-accent",a==="secondary"&&"bg-secondary/10 text-secondary",a==="success"&&"bg-success/10 text-success",a==="warning"&&"bg-warning/10 text-warning",a==="destructive"&&"bg-red-100/50 text-red-600"),children:n}),s.jsx("div",{className:"text-2xl font-semibold text-brand-gradient",children:e})]}),s.jsx("div",{className:"text-sm font-medium text-foreground/85",children:t}),r&&s.jsx("p",{className:"text-xs text-foreground/60 leading-relaxed",children:r})]})}const mM=()=>{Et();const{toast:e}=Ne(),{t}=ye(),{addItem:r}=xc(),[n,a]=f.useState(!1),[i,o]=f.useState(135),[c,l]=f.useState({productName:"",productUrl:"",price:"",shippingPrice:"",referralCode:"",notes:""});f.useEffect(()=>{d()},[]);const d=async()=>{try{const y="https://ocwlkljrjhgqejetgfgw.supabase.co",x="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9jd2xrbGpyamhncWVqZXRnZmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNjYwNTEsImV4cCI6MjA3ODk0MjA1MX0.hMW0hB8RUEXCEoCS88H2YvOlDBeyz9oEhEPJeF38jRE",{data:b,error:g}=await L.from("settings").select("value").eq("key","exchange_rate_usd_to_dzd").single();if(g)throw g;b&&o(parseFloat(b.value))}catch(y){console.error("Error fetching exchange rate:",y)}},u=()=>{const y=parseFloat(c.price)||0,x=parseFloat(c.shippingPrice)||0;return(y+x).toFixed(2)},p=()=>(parseFloat(u())*i).toFixed(2),m=()=>c.productUrl.trim()?!c.price||parseFloat(c.price)<=0?(e({title:t("order.validation.error"),description:t("order.validation.price_required"),variant:"destructive"}),!1):!0:(e({title:t("order.validation.error"),description:t("order.validation.url_required"),variant:"destructive"}),!1),h=y=>{if(y.preventDefault(),!!m()){a(!0);try{const x=parseFloat(c.price),b=parseFloat(c.shippingPrice||"0"),g=parseFloat((x*i).toFixed(2)),v=parseFloat((b*i).toFixed(2)),j={id:Date.now(),name:c.productName,price:g,quantity:1,slug:`custom-order-${Date.now()}`,productUrl:c.productUrl,shippingPrice:v,notes:c.notes,referralCode:c.referralCode};r(j),l({productName:"",productUrl:"",price:"",shippingPrice:"",referralCode:"",notes:""}),e({title:t("order.toast.added"),description:t("order.toast.added_desc")})}catch(x){console.error("Added to cart error:",x),e({title:t("order.error.title"),description:t("order.error.generic"),variant:"destructive"})}finally{a(!1)}}};return s.jsx(it,{children:s.jsx(tt,{title:t("order.header.title"),subtitle:t("order.header.subtitle"),padding:"md",id:"order",children:s.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-5 gap-6",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[s.jsx(Ds,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold text-lg",children:t("order.product.title")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"productName",className:"text-sm font-medium",children:t("order.product.name")}),s.jsx(M,{id:"productName",type:"text",placeholder:t("order.product.name_ph"),value:c.productName,onChange:y=>l({...c,productName:y.target.value}),className:"h-11",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"productUrl",className:"text-sm font-medium",children:t("order.product.url")}),s.jsx(M,{id:"productUrl",type:"text",placeholder:t("order.product.url_ph"),value:c.productUrl,onChange:y=>l({...c,productUrl:y.target.value}),className:"h-11",required:!0})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"price",className:"text-sm font-medium flex items-center gap-1.5",children:[s.jsx(Eg,{className:"w-4 h-4"}),t("order.product.price")]}),s.jsx(M,{id:"price",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:c.price,onChange:y=>l({...c,price:y.target.value}),className:"h-11",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"shippingPrice",className:"text-sm font-medium",children:t("order.product.shipping")}),s.jsx(M,{id:"shippingPrice",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:c.shippingPrice,onChange:y=>l({...c,shippingPrice:y.target.value}),className:"h-11"})]})]})]})}),s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"referralCode",className:"text-sm font-medium flex items-center gap-1.5",children:[s.jsx(aa,{className:"w-4 h-4 text-accent"}),t("order.optional.referral")]}),s.jsx(M,{id:"referralCode",type:"text",placeholder:t("order.optional.referral_ph"),value:c.referralCode,onChange:y=>l({...c,referralCode:y.target.value.toUpperCase()}),maxLength:8,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"notes",className:"text-sm font-medium flex items-center gap-1.5",children:[s.jsx(Rg,{className:"w-4 h-4"}),t("order.optional.notes")]}),s.jsx(He,{id:"notes",placeholder:t("order.optional.notes_ph"),value:c.notes,onChange:y=>l({...c,notes:y.target.value}),rows:3,className:"resize-none"})]})]})}),s.jsx("div",{className:"block lg:hidden pt-4 pb-20",children:s.jsx(D,{type:"submit",className:"w-full h-14 text-lg font-bold shadow-lg",disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-6 w-6 animate-spin"}),t("order.actions.processing")]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center leading-none",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-5 w-5"}),t("order.actions.add_to_cart")]}),s.jsxs("span",{className:"text-xs font-normal opacity-80 mt-1",children:["Total: ",p()," DA"]})]})})})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"lg:sticky lg:top-6 space-y-4",children:[s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ET,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold text-lg",children:t("order.summary.title")})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mb-6",children:[s.jsx(Jn,{value:`$${c.price||"0.00"}`,label:t("order.summary.product"),description:t("order.product.title"),accent:"accent"}),s.jsx(Jn,{value:`$${c.shippingPrice||"0.00"}`,label:t("order.summary.shipping"),description:t("order.product.shipping"),accent:"secondary"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Jn,{value:`$${u()}`,label:t("order.summary.total"),description:t("order.summary.usd_total"),accent:"primary"}),s.jsx(Jn,{value:`${p()} DA`,label:t("order.summary.dzd"),description:t("order.summary.total"),accent:"warning"})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(D,{type:"submit",onClick:h,className:"w-full h-12 text-base font-semibold",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-5 w-5 animate-spin"}),t("order.actions.processing")]}):s.jsxs(s.Fragment,{children:[s.jsx(an,{className:"mr-2 h-5 w-5"}),t("order.actions.add_to_cart")]})})})]})}),s.jsx(B,{className:"border border-border/60 shadow-sm bg-gradient-to-br from-primary/5 to-accent/5",children:s.jsxs(V,{className:"p-6 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ei,{className:"w-5 h-5 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:t("order.benefits.secure_title")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t("order.benefits.secure_desc")})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(OT,{className:"w-5 h-5 text-accent mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:t("order.benefits.fast_title")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t("order.benefits.fast_desc")})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ds,{className:"w-5 h-5 text-secondary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:t("order.benefits.track_title")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t("order.benefits.track_desc")})]})]})]})})]})})]})})})},pM=()=>{const{orderId:e}=Mo(),t=$s(),{total:r,name:n,contactType:a,contactValue:i}=t.state||{},{t:o}=ye(),c=()=>{const l=`My Waseet Order #${e}

Total: $${r}
Name: ${n}

Thank you for using Waseet!`,d=`https://wa.me/?text=${encodeURIComponent(l)}`;window.open(d,"_blank")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Nr,{}),s.jsx("main",{className:"flex-1 container py-12",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(B,{className:"border-2 border-success",children:[s.jsxs(ce,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 rounded-full bg-success/10 w-16 h-16 flex items-center justify-center",children:s.jsx(Ur,{className:"h-10 w-10 text-success"})}),s.jsx(xe,{className:"text-2xl sm:text-3xl",children:o("success.title")})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-muted-foreground",children:o("success.processing")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o("success.contactSoon",{type:a==="whatsapp"?"WhatsApp":"Telegram",value:i})})]}),s.jsxs("div",{className:"p-6 bg-muted/50 rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:o("success.orderId")}),s.jsxs("span",{className:"font-mono font-semibold text-lg",children:["#",e]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:o("success.customerName")}),s.jsx("span",{className:"font-medium",children:n})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:o("success.totalAmount")}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",r]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(D,{onClick:c,variant:"outline",className:"w-full",children:[s.jsx(t_,{className:"mr-2 h-4 w-4"}),o("success.shareWhatsapp")]}),s.jsx(fe,{to:"/",className:"block",children:s.jsxs(D,{className:"w-full",children:[s.jsx(Xw,{className:"mr-2 h-4 w-4"}),o("success.returnHome")]})})]}),s.jsx("div",{className:"pt-4 border-t text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[o("success.questions"),s.jsx(fe,{to:"/contact",className:"text-primary hover:underline font-medium",children:o("success.contactPage")})]})})]})]})})}),s.jsx(pa,{})]})},fM=()=>{const{t:e}=ye(),t=[{icon:s.jsx(Zd,{className:"h-6 w-6"}),label:"Email",link:"mailto:alkhayr@waseet.store",color:"text-green-700",bg:"bg-green-50 hover:bg-green-100",border:"border-green-100"},{icon:s.jsx(pn,{className:"h-6 w-6"}),label:"WhatsApp",link:"https://wa.me/15878421051",color:"text-green-600",bg:"bg-green-50 hover:bg-green-100",border:"border-green-100"},{icon:s.jsx(ua,{className:"h-6 w-6"}),label:"Telegram",link:"https://t.me/waseetalkhayr",color:"text-blue-500",bg:"bg-green-50 hover:bg-green-100",border:"border-green-100"},{icon:s.jsx(Qd,{className:"h-6 w-6"}),label:"Facebook",link:"https://www.facebook.com/profile.php?id=61586227243016",color:"text-blue-700",bg:"bg-green-50 hover:bg-green-100",border:"border-green-100"},{icon:s.jsx(Xd,{className:"h-6 w-6"}),label:"Instagram",link:"https://instagram.com/waseet.alkhayr",color:"text-pink-600",bg:"bg-green-50 hover:bg-green-100",border:"border-green-100"},{icon:s.jsx(av,{className:"h-6 w-6"}),label:"TikTok",link:"https://tiktok.com/@waseet.alkhayr",color:"text-black",bg:"bg-green-50 hover:bg-green-100",border:"border-green-100"}],r=[{icon:s.jsx(Zd,{className:"h-6 w-6"}),label:"Email",link:"mailto:support@waseet.store",color:"text-blue-600",bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-100"},{icon:s.jsx(pn,{className:"h-6 w-6"}),label:"WhatsApp",link:"https://wa.me/15873287505",color:"text-green-600",bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-100"},{icon:s.jsx(ua,{className:"h-6 w-6"}),label:"Telegram",link:"https://t.me/waseetstore",color:"text-blue-500",bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-100"},{icon:s.jsx(Qd,{className:"h-6 w-6"}),label:"Facebook",link:"https://www.facebook.com/profile.php?id=61585887913642",color:"text-blue-700",bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-100"},{icon:s.jsx(Xd,{className:"h-6 w-6"}),label:"Instagram",link:"https://instagram.com/waseet.official",color:"text-pink-600",bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-100"},{icon:s.jsx(av,{className:"h-6 w-6"}),label:"TikTok",link:"https://tiktok.com/@waseetofficial",color:"text-black",bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-100"}];return s.jsx(it,{children:s.jsx("div",{className:"min-h-screen bg-gray-50/50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-16",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:e("contact.title")}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("contact.subtitle")})]}),s.jsxs("div",{className:"grid gap-12 lg:grid-cols-2 lg:gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-2 mb-6",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-2xl shadow-sm",children:s.jsx(yt,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Al-Khayr & Blood Donation"}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Humanitarian aid & blood donation services"})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map((n,a)=>s.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:`flex flex-col items-center justify-center p-4 rounded-2xl transition-all duration-200 border ${n.border} ${n.bg} shadow-sm hover:shadow-md hover:-translate-y-1 group cursor-pointer`,children:[s.jsx("div",{className:`mb-3 p-3 rounded-full bg-white shadow-sm group-hover:scale-110 transition-transform ${n.color}`,children:n.icon}),s.jsx("span",{className:"font-semibold text-gray-700 group-hover:text-gray-900 text-sm",children:n.label})]},a))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-2 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-2xl shadow-sm",children:s.jsx(is,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Waseet  Platform Services"}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Orders, exchange, agents, and general support"})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map((n,a)=>s.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:`flex flex-col items-center justify-center p-4 rounded-2xl transition-all duration-200 border ${n.border} ${n.bg} shadow-sm hover:shadow-md hover:-translate-y-1 group cursor-pointer`,children:[s.jsx("div",{className:`mb-3 p-3 rounded-full bg-white shadow-sm group-hover:scale-110 transition-transform ${n.color}`,children:n.icon}),s.jsx("span",{className:"font-semibold text-gray-700 group-hover:text-gray-900 text-sm",children:n.label})]},a))})]})]}),s.jsxs("div",{className:"pt-12 border-t border-gray-200 text-center space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center space-x-2 text-primary/80 font-bold text-xl tracking-tight",children:s.jsx("span",{children:"Waseet"})}),s.jsxs("p",{className:"text-sm text-gray-400 flex items-center justify-center gap-2",children:[s.jsx(is,{className:"h-4 w-4"}),"We never share your contact data"]})]})]})})})},gM=di("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Q({className:e,variant:t,...r}){return s.jsx("div",{className:J(gM({variant:t}),e),...r})}const xM=()=>{const{toast:e}=Ne(),{t}=ye(),[r]=fx();Et();const[n,a]=f.useState(!1),[i,o]=f.useState(r.get("id")||""),[c,l]=f.useState(null),[d,u]=f.useState([]),[p,m]=f.useState(!1);f.useEffect(()=>{const N=r.get("id");N&&(o(N),g(N))},[]);const h=N=>{switch(N){case"processing":return{label:t("tracking_page.status_labels.processing","On the way"),color:"text-indigo-600 bg-indigo-50 border-indigo-200",icon:s.jsx(Js,{className:"w-4 h-4"})};case"done":return{label:t("tracking_page.status_labels.completed","Completed"),color:"text-green-600 bg-green-50 border-green-200",icon:s.jsx($r,{className:"w-4 h-4"})};case"cancelled":return{label:t("tracking_page.status_labels.rejected","Rejected"),color:"text-red-600 bg-red-50 border-red-200",icon:s.jsx(Za,{className:"w-4 h-4"})};case"new":default:return{label:t("tracking_page.status_labels.default","Processing"),color:"text-blue-600 bg-blue-50 border-blue-200",icon:s.jsx(we,{className:"w-4 h-4"})}}},y=N=>{const k=N.replace(/[\s-]/g,"");return/^(\+213|00213|0)(5|6|7)[0-9]{8}$/.test(k)?"phone":/^\d+$/.test(k)?"id":"invalid"},x=N=>{let k=N.replace(/[\s-]/g,"");return k.startsWith("00213")?k="+"+k.substring(2):k.startsWith("0")?k="+213"+k.substring(1):k.startsWith("+")||(k="+213"+k),k},b=N=>{N.preventDefault(),g(i)},g=async N=>{if(!N.trim()){e({title:t("tracking_page.validation.inputRequired.title"),description:t("tracking_page.validation.inputRequired.desc"),variant:"destructive"});return}a(!0),l(null),u([]),m(!0);const k=y(N);try{if(k==="phone"){const _=x(N),{data:C,error:A}=await L.from("orders").select("id, status, total, product_url, name, created_at, notes, price, contact_value").eq("contact_value",_).order("created_at",{ascending:!1});if(A)throw A;const E=(C||[]).map(v);u(E)}else if(k==="id"){const{data:_,error:C}=await L.from("orders").select("id, status, total, product_url, name, created_at, notes, price").eq("id",parseInt(N)).maybeSingle();if(C)throw C;_&&l(v(_))}else e({title:t("tracking_page.validation.invalidFormat.title"),description:t("tracking_page.validation.invalidFormat.desc"),variant:"destructive"})}catch(_){console.error("Search error:",_),e({title:"Error",description:"Storage connection failed.",variant:"destructive"})}finally{a(!1)}},v=N=>{let k="",_=[],C=!1;if(N.notes)try{if(N.notes.startsWith("{")||N.notes.startsWith("[")){const A=JSON.parse(N.notes);k=A.public||"",_=A.items_metadata||[],A.order_type==="custom"&&(C=!0)}}catch{}return N.product_url&&(N.product_url.startsWith("http")||N.product_url.startsWith("https"))&&(C=!0),{...N,publicNote:k,itemsMetadata:_,isCustom:C}},j=({order:N})=>{const{label:k,color:_,icon:C}=h(N.status);return s.jsxs("div",{className:"bg-card p-6 rounded-lg border shadow-sm animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-6 border-b pb-4",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:[t("tracking_page.order_prefix"),N.id]}),s.jsx("div",{className:"mt-4 space-y-2",children:N.itemsMetadata&&N.itemsMetadata.length>0?N.itemsMetadata.map((A,E)=>s.jsx("div",{className:"flex items-center gap-2",children:A.slug?s.jsxs(fe,{to:`/store/product/${A.slug}`,className:"font-semibold text-lg text-primary hover:underline flex items-center gap-1",children:[A.name,s.jsx(xl,{className:"h-3 w-3"})]}):A.product_url?s.jsxs("a",{href:A.product_url,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-lg text-primary hover:underline flex items-center gap-1",children:[A.name,s.jsx(xl,{className:"h-3 w-3"})]}):s.jsx("span",{className:"font-semibold text-lg text-foreground",children:A.name})},E)):s.jsx("div",{className:"font-semibold text-lg text-foreground break-all",children:N.isCustom?s.jsxs("a",{href:N.product_url,target:"_blank",className:"flex items-center gap-1 hover:underline text-primary",children:[t("admin_orders.externalLink")," ",s.jsx(xl,{className:"w-3 h-3"})]}):N.product_url||N.name})}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:new Date(N.created_at).toLocaleDateString()})]}),s.jsxs(Q,{variant:"outline",className:`${_} flex items-center gap-1.5 px-3 py-1 text-sm h-fit whitespace-nowrap`,children:[C,k]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-secondary/20 p-4 rounded-md flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:t("admin_orders.table.total")}),s.jsxs("span",{className:"font-bold font-mono text-lg",children:[N.total," DZD"]})]}),N.publicNote&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50/50 dark:bg-blue-900/10 rounded-lg border border-blue-100 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-700 dark:text-blue-400 font-medium text-xs uppercase tracking-wider",children:[s.jsx(Rg,{className:"w-4 h-4"}),"Note from Team"]}),s.jsx("p",{className:"text-blue-900/80 dark:text-blue-200 leading-relaxed text-sm",children:N.publicNote})]})]})]})},w=({order:N})=>{var C,A,E;const{label:k,color:_}=h(N.status);return s.jsxs("div",{className:"group bg-card hover:bg-muted/30 p-5 rounded-xl border transition-all cursor-pointer",onClick:()=>l(N),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",N.id]}),s.jsx(Q,{variant:"secondary",className:"text-[10px] h-5",children:N.isCustom?t("admin_orders.badges.custom"):t("admin_orders.badges.store")})]}),s.jsx(Q,{variant:"outline",className:`${_} text-[10px] px-2 py-0.5`,children:k})]}),s.jsxs("div",{className:"font-medium text-foreground mb-1 line-clamp-1",children:[((A=(C=N.itemsMetadata)==null?void 0:C[0])==null?void 0:A.name)||(N.isCustom?t("tracking_page.custom_request_title"):N.name),((E=N.itemsMetadata)==null?void 0:E.length)>1&&` ${t("tracking_page.more_items",{count:N.itemsMetadata.length-1})}`]}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-3 pt-3 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:new Date(N.created_at).toLocaleDateString()}),s.jsxs("div",{className:"flex items-center gap-1 text-primary font-medium",children:[t("admin_orders.viewDetails")," ",s.jsx(kg,{className:"w-3 h-3 transition-transform group-hover:translate-x-1"})]})]})]})};return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(Nr,{}),s.jsxs("main",{className:"flex-1 container max-w-3xl py-12 px-4",children:[s.jsxs("div",{className:"text-center space-y-4 mb-10",children:[s.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6 transform rotate-3",children:s.jsx(Ds,{className:"h-8 w-8 text-primary"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:t("tracking_page.header.title")}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:t("tracking_page.header.desc")})]}),s.jsxs(B,{className:"border shadow-md mb-10 overflow-hidden",children:[s.jsx(V,{className:"p-1",children:s.jsxs("form",{onSubmit:b,className:"flex flex-col sm:flex-row gap-2 p-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(M,{className:"pl-9 h-12 border-0 shadow-none focus-visible:ring-0 bg-transparent text-lg",placeholder:t("tracking_page.search.placeholder"),value:i,onChange:N=>o(N.target.value)})]}),s.jsx(D,{type:"submit",size:"lg",className:"h-12 px-8 shrink-0",disabled:n,children:n?s.jsx(we,{className:"w-5 h-5 animate-spin"}):t("tracking_page.search.btn")})]})}),s.jsx("div",{className:"bg-muted/50 px-4 py-2 border-t text-xs text-muted-foreground text-center",children:t("tracking_page.search.tip")})]}),n?s.jsx("div",{className:"py-12 flex justify-center",children:s.jsx(we,{className:"w-8 h-8 text-primary/30 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[c&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.length>0&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>l(null),className:"h-8 -ml-2 text-muted-foreground hover:text-foreground",children:t("tracking_page.results.back")}),s.jsx("h2",{className:"text-lg font-semibold",children:t("tracking_page.results.details")})]}),s.jsx(j,{order:c})]}),!c&&d.length>0&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("tracking_page.results.found",{count:d.length})}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:d.map(N=>s.jsx(w,{order:N},N.id))})]}),p&&!c&&d.length===0&&s.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-xl",children:[s.jsx("div",{className:"bg-muted inline-flex p-3 rounded-full mb-4",children:s.jsx(ya,{className:"w-6 h-6 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-medium mb-1",children:t("tracking_page.results.noOrders.title")}),s.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:t("tracking_page.results.noOrders.desc",{query:i})})]})]})]}),s.jsx(pa,{})]})};var bh="Tabs",[yM,Xq]=cs(bh,[lh]),qS=lh(),[vM,Nx]=yM(bh),US=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:l="automatic",...d}=e,u=Ao(c),[p,m]=Os({prop:n,onChange:a,defaultProp:i??"",caller:bh});return s.jsx(vM,{scope:r,baseId:yr(),value:p,onValueChange:m,orientation:o,dir:u,activationMode:l,children:s.jsx(he.div,{dir:u,"data-orientation":o,...d,ref:t})})});US.displayName=bh;var zS="TabsList",BS=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Nx(zS,r),o=qS(r);return s.jsx(d1,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(he.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});BS.displayName=zS;var VS="TabsTrigger",WS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Nx(VS,r),c=qS(r),l=GS(o.baseId,n),d=YS(o.baseId,n),u=n===o.value;return s.jsx(u1,{asChild:!0,...c,focusable:!a,active:u,children:s.jsx(he.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:le(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:le(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:le(e.onFocus,()=>{const p=o.activationMode!=="manual";!u&&!a&&p&&o.onValueChange(n)})})})});WS.displayName=VS;var HS="TabsContent",KS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,c=Nx(HS,r),l=GS(c.baseId,n),d=YS(c.baseId,n),u=n===c.value,p=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Ns,{present:a||u,children:({present:m})=>s.jsx(he.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});KS.displayName=HS;function GS(e,t){return`${e}-trigger-${t}`}function YS(e,t){return`${e}-content-${t}`}var bM=US,JS=BS,QS=WS,XS=KS;const Qs=bM,Ls=f.forwardRef(({className:e,...t},r)=>s.jsx(JS,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ls.displayName=JS.displayName;const De=f.forwardRef(({className:e,...t},r)=>s.jsx(QS,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));De.displayName=QS.displayName;const Ke=f.forwardRef(({className:e,...t},r)=>s.jsx(XS,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ke.displayName=XS.displayName;const jM=()=>{const e=Et(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState(""),[o,c]=f.useState(""),[l,d]=f.useState("");f.useEffect(()=>{u()},[]);const u=async()=>{const{data:{session:h}}=await L.auth.getSession();if(h){const{data:y}=await L.from("user_roles").select("role").eq("user_id",h.user.id).in("role",["super_admin","humanitarian_admin","admin"]).maybeSingle();y&&e("/admin/dashboard")}},p=async h=>{h.preventDefault(),n(!0);try{const{data:y,error:x}=await L.auth.signInWithPassword({email:a.trim(),password:o});if(x)throw x;if(y.user){const{data:b,error:g}=await L.from("user_roles").select("role").eq("user_id",y.user.id).in("role",["super_admin","humanitarian_admin","admin"]).maybeSingle();if(g)throw g;if(!b){await L.auth.signOut(),t({title:"Access Denied",description:"You don't have admin privileges. Contact the system administrator.",variant:"destructive"});return}t({title:"Success",description:"Logged in successfully"}),e("/admin/dashboard")}}catch(y){console.error("Login error:",y),t({title:"Error",description:y.message||"Invalid email or password",variant:"destructive"})}finally{n(!1)}},m=async h=>{if(h.preventDefault(),o!==l){t({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(o.length<6){t({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}n(!0);try{const{data:y,error:x}=await L.auth.signUp({email:a.trim(),password:o});if(x)throw x;y.user&&(t({title:"Account Created!",description:"Your account has been created. You'll need to be granted admin access before you can log in. Your User ID is: "+y.user.id,duration:1e4}),i(""),c(""),d(""))}catch(y){console.error("Signup error:",y),t({title:"Error",description:y.message||"Failed to create account",variant:"destructive"})}finally{n(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Nr,{}),s.jsx("main",{className:"flex-1 container flex items-center justify-center py-12",children:s.jsxs(B,{className:"w-full max-w-md",children:[s.jsxs(ce,{className:"space-y-3",children:[s.jsx("div",{className:"mx-auto rounded-full bg-primary/10 w-12 h-12 flex items-center justify-center",children:s.jsx(ei,{className:"h-6 w-6 text-primary"})}),s.jsx(xe,{className:"text-2xl text-center",children:"Admin Login"}),s.jsx(nt,{className:"text-center",children:"Enter your credentials to access the admin panel"})]}),s.jsx(V,{children:s.jsxs(Qs,{defaultValue:"login",className:"w-full",children:[s.jsxs(Ls,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(De,{value:"login",children:"Sign In"}),s.jsx(De,{value:"signup",children:"Sign Up"})]}),s.jsx(Ke,{value:"login",children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"login-email",children:"Email"}),s.jsx(M,{id:"login-email",type:"email",placeholder:"admin@waseet.com",value:a,onChange:h=>i(h.target.value),required:!0,autoComplete:"email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"login-password",children:"Password"}),s.jsx(M,{id:"login-password",type:"password",placeholder:"",value:o,onChange:h=>c(h.target.value),required:!0,autoComplete:"current-password"})]}),s.jsx(D,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx(Ke,{value:"signup",children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"signup-email",children:"Email"}),s.jsx(M,{id:"signup-email",type:"email",placeholder:"admin@waseet.com",value:a,onChange:h=>i(h.target.value),required:!0,autoComplete:"email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"signup-password",children:"Password"}),s.jsx(M,{id:"signup-password",type:"password",placeholder:"",value:o,onChange:h=>c(h.target.value),required:!0,autoComplete:"new-password",minLength:6})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(M,{id:"confirm-password",type:"password",placeholder:"",value:l,onChange:h=>d(h.target.value),required:!0,autoComplete:"new-password",minLength:6})]}),s.jsx(D,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"After signup, you'll receive your User ID. Share it with the admin to get access."})]})})]})})]})})]})},Sx=()=>{const[e,t]=f.useState({role:null,isActive:!1,loading:!0,isSuperAdmin:!1,isHumanitarianAdmin:!1});return f.useEffect(()=>{(async()=>{try{const{data:{user:n}}=await L.auth.getUser();if(!n){t(l=>({...l,loading:!1}));return}const{data:a,error:i}=await L.from("user_roles").select("role, is_active").eq("user_id",n.id).single();if(i||!a){console.error("Error fetching admin role:",i),t(l=>({...l,loading:!1}));return}const o=a.role,c=a.is_active??!0;t({role:o,isActive:c,loading:!1,isSuperAdmin:o==="super_admin"&&c,isHumanitarianAdmin:o==="humanitarian_admin"&&c})}catch(n){console.error("Error in useAdminRole:",n),t(a=>({...a,loading:!1}))}})()},[]),e},ZS=()=>{const{isSuperAdmin:e,isHumanitarianAdmin:t}=Sx(),r=$s(),[n,a]=f.useState(!0),i=c=>r.pathname===c,o=[{title:"Overview",items:[{icon:yT,label:"Dashboard",href:"/admin/dashboard",allowed:!0}]},{title:"Humanitarian",items:[{icon:yt,label:"Alkhayr Requests",href:"/admin/alkhayr",allowed:!0},{icon:yo,label:"Blood Donation",href:"/admin/blood",allowed:!0},{icon:Js,label:"Transport Volunteers",href:"/admin/transport",allowed:!0},{icon:aa,label:"Material Donations",href:"/admin/material-donations",allowed:!0}]},{title:"Commerce & Brokerage",items:[{icon:Ma,label:"Orders",href:"/admin/orders",allowed:e},{icon:Ma,label:"Store",href:"/admin/store",allowed:e},{icon:Ma,label:"Import Requests",href:"/admin/import-requests",allowed:e},{icon:Ma,label:"Product Suggestions",href:"/admin/product-suggestions",allowed:e},{icon:ln,label:"Agents",href:"/admin/agent-registrations",allowed:e},{icon:ln,label:"Referrals",href:"/admin/referrals",allowed:e}]},{title:"Currency Exchange",items:[{icon:sv,label:"Exchange Requests",href:"/admin/exchange",allowed:e},{icon:sv,label:"Exchange Rates",href:"/admin/exchange-rates",allowed:e}]},{title:"Content & Pages",items:[{icon:mn,label:"Static Content",href:"/admin/content",allowed:e}]},{title:"Users & Admins",items:[{icon:ln,label:"User Management",href:"/admin/users",allowed:e}]},{title:"Settings & Config",items:[{icon:e_,label:"Platform Settings",href:"/admin/settings",allowed:e}]},{title:"Analytics & Logs",items:[{icon:Jw,label:"System Analytics",href:"/admin/analytics",allowed:e}]}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:s.jsx(D,{variant:"outline",size:"icon",onClick:()=>a(!n),children:n?s.jsx(Ct,{className:"h-4 w-4"}):s.jsx(Zw,{className:"h-4 w-4"})})}),s.jsx("div",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-white border-r transform transition-transform duration-200 ease-in-out md:translate-x-0 ${n?"translate-x-0":"-translate-x-full"}`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"h-16 flex items-center px-6 border-b",children:[s.jsx("span",{className:"text-xl font-bold text-primary",children:"Admin Panel"}),t&&s.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full border border-amber-200",children:"Humanitarian"}),e&&s.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded-full border border-red-200",children:"Super Admin"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("nav",{className:"space-y-6 px-4",children:o.map((c,l)=>{const d=c.items.filter(u=>u.allowed);return d.length===0?null:s.jsxs("div",{children:[s.jsx("h3",{className:"mb-2 px-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c.title}),s.jsx("div",{className:"space-y-1",children:d.map(u=>s.jsxs(fe,{to:u.href,className:`flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${i(u.href)?"bg-primary/10 text-primary":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(u.icon,{className:"mr-3 h-5 w-5"}),u.label]},u.href))})]},l)})})}),s.jsx("div",{className:"p-4 border-t",children:s.jsxs(fe,{to:"/",className:"flex items-center px-2 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900",children:[s.jsx(Ag,{className:"mr-3 h-5 w-5"}),"Exit to Main Site"]})})]})})]})},It=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-gray-50/50 flex flex-col lg:flex-row",children:[s.jsx(ZS,{}),s.jsx("main",{className:"flex-1 lg:pl-72 w-full",children:s.jsx("div",{className:"p-4 md:p-8 max-w-7xl mx-auto w-full",children:e})}),s.jsx(h_,{}),s.jsx(m_,{})]}),wM=()=>{Et();const{toast:e}=Ne(),[t,r]=f.useState(!0),[n,a]=f.useState(!1),[i,o]=f.useState({contact_whatsapp:"",contact_telegram:"",contact_email:"",exchange_rate_usd_to_dzd:""}),[c,l]=f.useState({}),[d,u]=f.useState({mode:"percentage",percentage:"5.00",fixed:"0"});f.useEffect(()=>{p(),y()},[]);const p=async()=>{r(!0);const{data:b,error:g}=await L.from("settings").select("key, value");if(g)e({title:"Error",description:"Failed to load settings",variant:"destructive"});else if(b){const v={};if(b.forEach(j=>{v[j.key]=j.value}),o(v),v.shipping_rates)try{l(JSON.parse(v.shipping_rates))}catch(j){console.error("Error parsing shipping rates",j),l({})}}r(!1)},m=async()=>{a(!0);try{const b=Object.entries(i).filter(([g])=>g!=="shipping_rates").map(([g,v])=>L.from("settings").upsert({key:g,value:v,updated_at:new Date().toISOString()},{onConflict:"key"}));b.push(L.from("settings").upsert({key:"shipping_rates",value:JSON.stringify(c),updated_at:new Date().toISOString()},{onConflict:"key"})),await Promise.all(b),e({title:"Success",description:"Settings updated successfully"})}catch{e({title:"Error",description:"Failed to update settings",variant:"destructive"})}finally{a(!1)}},h=(b,g,v)=>{l(j=>{const w=j[b]||{homePrice:0,deskPrice:0,isHomeEnabled:!0,isDeskEnabled:!0};let N=v;return(g==="homePrice"||g==="deskPrice")&&(N=parseFloat(v)||0),{...j,[b]:{...w,[g]:N}}})},y=async()=>{const{data:b}=await L.from("import_settings").select("*").order("id",{ascending:!1}).limit(1).maybeSingle();b&&u({mode:b.commission_mode||"percentage",percentage:String(b.commission_percentage??"5.00"),fixed:String(b.commission_fixed??"0")})},x=async()=>{a(!0);const b={commission_mode:d.mode,commission_percentage:Number(d.percentage||"0"),commission_fixed:Number(d.fixed||"0")},{error:g}=await L.from("import_settings").insert(b);a(!1),g?e({title:"Error",description:g.message,variant:"destructive"}):(e({title:"Saved",description:"Import commission settings saved"}),y())};return t?s.jsx(It,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Platform Settings"}),s.jsx("p",{className:"text-gray-500",children:"Manage contact info, rates, and commissions."})]}),s.jsxs(B,{children:[s.jsxs(ce,{children:[s.jsx(xe,{children:"Contact Settings"}),s.jsx(nt,{children:"Manage your contact information displayed on the website"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 border p-4 rounded-lg bg-card/50",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Zd,{className:"h-4 w-4"})," Contact Page"]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"whatsapp",children:"WhatsApp"}),s.jsx(M,{id:"whatsapp",placeholder:"+1234567890",value:i.contact_whatsapp||"",onChange:b=>o({...i,contact_whatsapp:b.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"telegram",children:"Telegram"}),s.jsx(M,{id:"telegram",placeholder:"@username",value:i.contact_telegram||"",onChange:b=>o({...i,contact_telegram:b.target.value})})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(P,{htmlFor:"email",children:"Email"}),s.jsx(M,{id:"email",type:"email",placeholder:"support@waseet.com",value:i.contact_email||"",onChange:b=>o({...i,contact_email:b.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4 border p-4 rounded-lg bg-card/50",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"})," Social Popup"]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"popup_facebook",children:"Facebook URL"}),s.jsx(M,{id:"popup_facebook",placeholder:"https://facebook.com/...",value:i.popup_facebook||"",onChange:b=>o({...i,popup_facebook:b.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"popup_instagram",children:"Instagram URL"}),s.jsx(M,{id:"popup_instagram",placeholder:"https://instagram.com/...",value:i.popup_instagram||"",onChange:b=>o({...i,popup_instagram:b.target.value})})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(P,{htmlFor:"popup_telegram",children:"Telegram URL"}),s.jsx(M,{id:"popup_telegram",placeholder:"https://t.me/...",value:i.popup_telegram||"",onChange:b=>o({...i,popup_telegram:b.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4 border p-4 rounded-lg bg-card/50",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Js,{className:"h-4 w-4"})," Al-Khayr Contact"]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"alkhayr_whatsapp",children:"WhatsApp"}),s.jsx(M,{id:"alkhayr_whatsapp",placeholder:"+213...",value:i.alkhayr_whatsapp||"",onChange:b=>o({...i,alkhayr_whatsapp:b.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"alkhayr_telegram",children:"Telegram"}),s.jsx(M,{id:"alkhayr_telegram",placeholder:"waseet",value:i.alkhayr_telegram||"",onChange:b=>o({...i,alkhayr_telegram:b.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"alkhayr_facebook",children:"Facebook"}),s.jsx(M,{id:"alkhayr_facebook",placeholder:"waseet",value:i.alkhayr_facebook||"",onChange:b=>o({...i,alkhayr_facebook:b.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"alkhayr_instagram",children:"Instagram"}),s.jsx(M,{id:"alkhayr_instagram",placeholder:"waseet",value:i.alkhayr_instagram||"",onChange:b=>o({...i,alkhayr_instagram:b.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsx(P,{htmlFor:"exchange_rate",children:"USD to DZD Exchange Rate"}),s.jsx(M,{id:"exchange_rate",type:"number",step:"0.01",min:"0",placeholder:"135.50",value:i.exchange_rate_usd_to_dzd,onChange:b=>o({...i,exchange_rate_usd_to_dzd:b.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This rate will be used to convert USD prices to DZD for customers"})]}),s.jsx(D,{onClick:m,disabled:n,className:"w-full",children:n?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4"}),"Save Contact Settings"]})})]})]}),s.jsxs(B,{children:[s.jsxs(ce,{children:[s.jsx(xe,{children:"Import Requests  Commission Settings"}),s.jsx(nt,{children:"Define how commission is calculated when an import request is completed."})]}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Mode"}),s.jsxs("select",{className:"w-full border rounded-md h-10 px-2",value:d.mode,onChange:b=>u({...d,mode:b.target.value}),children:[s.jsx("option",{value:"percentage",children:"Percentage"}),s.jsx("option",{value:"fixed",children:"Fixed"}),s.jsx("option",{value:"fixed_plus_percentage",children:"Fixed + Percentage"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Percentage (%)"}),s.jsx(M,{type:"number",step:"0.01",value:d.percentage,onChange:b=>u({...d,percentage:b.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Fixed Amount"}),s.jsx(M,{type:"number",step:"0.01",value:d.fixed,onChange:b=>u({...d,fixed:b.target.value})})]})]}),s.jsx(D,{onClick:x,disabled:n,className:"w-full",children:n?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4"}),"Save Commission Settings"]})})]})]}),s.jsxs(B,{children:[s.jsxs(ce,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Js,{className:"h-5 w-5"}),"Shipping Rates (DZD)"]}),s.jsx(nt,{children:"Set the shipping price for each Wilaya. 0 means free shipping."})]}),s.jsxs(V,{children:[s.jsx("div",{className:"grid gap-6 max-h-[600px] overflow-y-auto p-2 border rounded-md mb-4",children:sx.map(b=>{const g=c[b.code]||{},v=g.isHomeEnabled??!0,j=g.isDeskEnabled??!0;return s.jsxs("div",{className:"p-4 border rounded-lg bg-card shadow-sm space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(P,{className:"font-bold text-base truncate",title:b.name,children:[b.code,". ",b.name]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`space-y-2 p-3 rounded-md border ${v?"bg-secondary/20 border-secondary/50":"bg-muted/50 border-transparent opacity-70"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(P,{className:"text-sm font-medium",children:"Home Delivery"}),s.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:v,onChange:w=>h(b.code,"isHomeEnabled",w.target.checked)})]}),s.jsx(M,{type:"number",min:"0",disabled:!v,value:g.homePrice||"",onChange:w=>h(b.code,"homePrice",w.target.value),placeholder:"Price (DZD)",className:"h-8 bg-background"})]}),s.jsxs("div",{className:`space-y-2 p-3 rounded-md border ${j?"bg-secondary/20 border-secondary/50":"bg-muted/50 border-transparent opacity-70"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(P,{className:"text-sm font-medium",children:"Stopdesk"}),s.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:j,onChange:w=>h(b.code,"isDeskEnabled",w.target.checked)})]}),s.jsx(M,{type:"number",min:"0",disabled:!j,value:g.deskPrice||"",onChange:w=>h(b.code,"deskPrice",w.target.value),placeholder:"Price (DZD)",className:"h-8 bg-background"})]})]})]},b.code)})}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(D,{onClick:m,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4"}),"Save Shipping Rates"]})})})]})]})]})})},_M=()=>{const{orderId:e}=Mo();Et();const{toast:t}=Ne(),[r,n]=f.useState(!0),[a,i]=f.useState(!1),[o,c]=f.useState(null),[l,d]=f.useState("new"),[u,p]=f.useState("");f.useState("");const[m,h]=f.useState(""),[y,x]=f.useState(""),[b,g]=f.useState([]),[v,j]=f.useState(""),w=_=>{let C={phone:"",type:"",items:[],url:"",email:"",address:"",cleanNotes:""};const A=F=>new RegExp(`${F}\\s*(.*?)(?:\\r?\\n|$)`,"i"),E=_.match(A("Phone:"));E&&(C.phone=E[1].trim());const S=_.match(A("TYPE:"));S&&(C.type=S[1].trim());const T=_.match(A("URL:"));T&&(C.url=T[1].trim());const R=_.match(A("User Email:"));R&&(C.email=R[1].trim());const I=_.match(/Shipping Address:\s*([\s\S]*?)(?=\r?\n(?:Phone:|TYPE:|Items:|URL:|User Email:)|$|\r?\n\r?\n)/i);if(I){const F=I[1].trim();F.includes("undefined")||(C.address=F)}const z=_.match(/Items:\s*([\s\S]*?)(?=\s*(?:URL:|User Email:|Shipping Address:|$))/i);z&&(C.items=z[1].split(/\r?\n/).map(F=>F.trim()).filter(F=>F));let U=_.replace(/CONTACT INFO:[\s\S]*?(?=\r?\n\r?\n|\n[A-Z]|$)/i,"").replace(new RegExp("Phone:.*?(?:\\r?\\n|$)","gi"),"").replace(new RegExp("TYPE:.*?(?:\\r?\\n|$)","gi"),"").replace(/Items:\s*[\s\S]*?(?=\s*(?:URL:|User Email:|Shipping Address:|$))/i,"").replace(new RegExp("URL:.*?(?:\\r?\\n|$)","gi"),"").replace(new RegExp("User Email:.*?(?:\\r?\\n|$)","gi"),"").replace(/Shipping Address:[\s\S]*?(?=\r?\n(?:Phone:|TYPE:|Items:|URL:|User Email:)|$|\r?\n\r?\n)/i,"").trim();return C.cleanNotes=U,C};f.useEffect(()=>{N()},[e]);const N=async()=>{try{const{data:_,error:C}=await L.from("orders").select("*").eq("id",parseInt(e)).single();if(C)throw C;let A=_.notes||"",E="",S=[];if(_.notes)try{if(_.notes.startsWith("{")||_.notes.startsWith("[")){const T=JSON.parse(_.notes);if(A=T.internal||"",E=T.public||"",T.items_metadata?S=T.items_metadata.map(R=>`${R.quantity}x ${R.name} (${R.price} DZD)`):T.items&&(S=T.items),T.shipping_address&&h(T.shipping_address),T.user_email&&x(T.user_email),T.product_url?j(T.product_url):_.product_url&&j(_.product_url),A&&(A.includes("CONTACT INFO:")||A.match(/Items:\s*(\r?\n|$)/i)||A.match(/URL:\s*http/i))){console.log("Found legacy dump in internalNote:",A);const R=w(A);console.log("Parsed legacy dump:",R),A=R.cleanNotes,R.items.length>0&&(S=R.items),R.email&&x(R.email),R.address&&h(R.address),R.url&&j(R.url),(!_.contact_value||_.contact_value==="undefined")&&R.phone&&(_._displayPhone=R.phone)}else console.log("No legacy dump pattern found in:",A)}else{const T=w(_.notes);console.log("Parsed legacy string:",T),(T.phone||T.email||T.items.length>0||T.url)&&(A=T.cleanNotes,S=T.items,T.email&&x(T.email),T.address&&h(T.address),T.url&&j(T.url),(!_.contact_value||_.contact_value==="undefined")&&T.phone&&(_._displayPhone=T.phone))}}catch(T){console.log("Parsing error",T)}c({..._,user_notes:E}),d(_.status),p(A),g(S),!v&&_.product_url&&j(_.product_url)}catch(_){console.error("Fetch order error:",_),t({title:"Error",description:"Failed to fetch order details",variant:"destructive"})}finally{n(!1)}},k=async()=>{var _;if(o){i(!0);try{let C={};try{o.notes&&(o.notes.startsWith("{")||o.notes.startsWith("["))&&(C=JSON.parse(o.notes))}catch{}const A={...C,internal:u.trim(),public:((_=o.user_notes)==null?void 0:_.trim())||"",shipping_address:m,user_email:y,items:b,product_url:v||o.product_url},{error:E}=await L.from("orders").update({status:l,notes:JSON.stringify(A)}).eq("id",o.id);if(E)throw E;t({title:"Success",description:"Order updated successfully"}),c({...o,status:l,notes:JSON.stringify(A)}),console.log(`Invoking Email for Order Update #${o.id}...`);const S={...o,status:l,email:y,notes:JSON.stringify(A)};console.log(`Invoking Email for Order Update #${o.id} to ${y||"No Email in State"}...`),L.functions.invoke("send-email",{body:{type:"order_update",record:S,old_record:o}}).then(({data:T,error:R})=>{R?console.error("Order Update Email Error:",R):console.log("Order Update Email Success:",T)})}catch(C){console.error("Update order error:",C),t({title:"Error",description:`Failed: ${C.message||C}`,variant:"destructive"})}finally{i(!1)}}};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})}):o?s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50/30",children:[s.jsx(Nr,{}),s.jsxs("main",{className:"flex-1 container py-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{to:"/admin/orders",children:s.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Jd,{className:"h-4 w-4"})})}),s.jsxs("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:["Order #",o.id]}),s.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium border ${o.status==="new"?"bg-blue-50 text-blue-700 border-blue-200":o.status==="processing"?"bg-amber-50 text-amber-700 border-amber-200":o.status==="done"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:o.status.toUpperCase()})]}),s.jsxs("p",{className:"text-sm text-muted-foreground ml-10",children:["Created on ",new Date(o.created_at).toLocaleString()]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(D,{onClick:k,disabled:a,className:"bg-primary hover:bg-primary/90",children:a?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4"})," Save Changes"]})})})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(B,{className:"shadow-sm border-gray-100",children:[s.jsx(ce,{className:"pb-3 border-b border-gray-50 bg-gray-50/50",children:s.jsxs(xe,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx($r,{className:"h-4 w-4 text-primary"})," Customer Details"]})}),s.jsxs(V,{className:"pt-6 grid sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Customer Name"}),s.jsx("div",{className:"mt-1 font-medium text-lg",children:o.name}),y&&s.jsxs("div",{className:"mt-1 flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-semibold text-xs",children:"EMAIL:"})," ",y]}),m&&s.jsxs("div",{className:"mt-3",children:[s.jsx(P,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Shipping Address"}),s.jsx("div",{className:"mt-1 text-sm text-gray-700 bg-amber-50/50 p-2 rounded border border-amber-100 leading-relaxed",children:m})]})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[(()=>{const _=o._displayPhone||o.contact_value,C=(_==null?void 0:_.replace(/\D/g,""))||"",A=o.contact_type==="whatsapp",E=A?`https://wa.me/${C}`:`https://t.me/${C.startsWith("+")?C:"+"+C}`;return s.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",children:A?s.jsx(D,{size:"icon",variant:"outline",className:"h-8 w-8 rounded-full bg-green-50 text-green-600 border-green-200 hover:bg-green-100",children:s.jsx(ua,{className:"h-4 w-4"})}):s.jsx(D,{size:"icon",variant:"outline",className:"h-8 w-8 rounded-full bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100",children:s.jsx(ua,{className:"h-4 w-4"})})})})(),s.jsx("span",{className:"font-medium text-lg ml-2",children:o._displayPhone||o.contact_value})]})]})]})]}),s.jsxs(B,{className:"shadow-sm border-gray-100",children:[s.jsx(ce,{className:"pb-3 border-b border-gray-50 bg-gray-50/50",children:s.jsxs(xe,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx(ev,{className:"h-4 w-4 text-primary"})," Order Content"]})}),s.jsxs(V,{className:"pt-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Product / Link"}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"mt-2",children:(v||o.product_url)&&!((v||o.product_url).startsWith("Store Order")||(v||o.product_url).startsWith("Custom Request"))&&((v||o.product_url).startsWith("http")||(v||o.product_url).startsWith("https"))?s.jsxs("a",{href:v||o.product_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/30 border-blue-100 text-blue-700 hover:bg-blue-50 transition-colors group",children:[s.jsx(xl,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium truncate underline-offset-4 group-hover:underline",children:v||o.product_url})]}):s.jsx("div",{className:"p-3 rounded-lg border bg-gray-50 text-gray-700 font-medium",children:v&&!v.startsWith("Store Order")&&!v.startsWith("Custom Request")?v:b.length>0?b.length+" Items (See Details below)":o.product_url||"No link provided"})})})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Details / Items"}),s.jsx("div",{className:"mt-2 p-4 rounded-lg border bg-gray-50/50 font-mono text-sm whitespace-pre-wrap leading-relaxed",children:b.length>0?b.map((_,C)=>s.jsxs("div",{className:"mb-1",children:[" ",_]},C)):(()=>{var _;try{if(o.notes&&o.notes.startsWith("{")&&((_=JSON.parse(o.notes))!=null&&_.items_metadata))return JSON.parse(o.notes).items_metadata.map(C=>`- ${C.quantity}x ${C.name}`).join(`
`)}catch{}return u||o.notes||"No details."})()})]})]})]}),s.jsxs(B,{className:"shadow-sm border-gray-100",children:[s.jsx(ce,{className:"pb-3 border-b border-gray-50 bg-gray-50/50",children:s.jsxs(xe,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 rounded-full border border-primary flex items-center justify-center text-[10px] font-bold text-primary",children:"$"}),"Financials"]})}),s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center divide-x",children:[s.jsxs("div",{className:"px-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Product Price"}),s.jsxs("div",{className:"font-semibold text-lg mt-1",children:[o.price," ",s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"DZD"})]})]}),s.jsxs("div",{className:"px-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Shipping"}),s.jsxs("div",{className:"font-semibold text-lg mt-1",children:[o.shipping_price," ",s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"DZD"})]})]}),s.jsxs("div",{className:"px-2",children:[s.jsx("div",{className:"text-xs text-primary font-bold",children:"Total"}),s.jsxs("div",{className:"font-bold text-2xl mt-1 text-primary",children:[o.total," ",s.jsx("span",{className:"text-sm font-normal text-primary/70",children:"DZD"})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{className:"shadow-sm border-gray-100",children:[s.jsx(ce,{className:"pb-3 border-b border-gray-50 bg-gray-50/50",children:s.jsx(xe,{className:"text-sm font-semibold",children:"Order Status"})}),s.jsx(V,{className:"pt-4 space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-xs",children:"Current Status"}),s.jsxs(Ee,{value:l,onValueChange:_=>d(_),children:[s.jsx(ke,{className:"h-10",children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"new",children:"Processing (New)"}),s.jsx(K,{value:"processing",children:"On the way"}),s.jsx(K,{value:"done",children:"Completed"}),s.jsx(K,{value:"cancelled",children:"Rejected"})]})]})]})})]}),s.jsxs(B,{className:"shadow-sm border-gray-100",children:[s.jsx(ce,{className:"pb-3 border-b border-gray-50 bg-gray-50/50",children:s.jsx(xe,{className:"text-sm font-semibold",children:"Communication"})}),s.jsxs(V,{className:"pt-4 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"user_notes",className:"text-xs font-semibold flex items-center gap-2 text-primary",children:[s.jsx(Rg,{className:"w-3 h-3"})," Public Note",s.jsx("span",{className:"ml-auto text-[10px] font-normal text-muted-foreground bg-gray-100 px-2 py-0.5 rounded-full",children:"Visible to User"})]}),s.jsx(He,{id:"user_notes",placeholder:"Message for tracking page...",value:o.user_notes||"",onChange:_=>c({...o,user_notes:_.target.value}),rows:3,className:"bg-primary/5 border-primary/20 focus-visible:ring-primary/30 min-h-[80px] text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"notes",className:"text-xs font-semibold flex items-center gap-2 text-gray-700",children:[s.jsx(ev,{className:"w-3 h-3"})," Internal Note",s.jsx("span",{className:"ml-auto text-[10px] font-normal text-muted-foreground bg-gray-100 px-2 py-0.5 rounded-full",children:"Private"})]}),s.jsx(He,{id:"notes",placeholder:"Internal admin comments...",value:u,onChange:_=>p(_.target.value),rows:3,className:"bg-gray-50 min-h-[80px] text-sm"})]})]})]})]})]})]})]}):null},NM=di("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bu=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:J(NM({variant:t}),e),...r}));bu.displayName="Alert";const SM=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));SM.displayName="AlertTitle";const ju=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",e),...t}));ju.displayName="AlertDescription";const kM=()=>{const{toast:e}=Ne(),{t}=ye(),[r,n]=f.useState(!1),a="whatsapp",[i,o]=f.useState("+213"),[c,l]=f.useState(null),[d,u]=f.useState(!1),[p,m]=f.useState(""),[h,y]=f.useState(""),[x,b]=f.useState(!1),[g,v]=f.useState(!1),[j,w]=f.useState(null),N=async E=>{if(E.preventDefault(),!i.trim()){e({title:t("referral.toast.error"),description:t("referral.toast.contact_required"),variant:"destructive"});return}const S=/^\+213[567]\d{8}$/,T=i.replace(/[\s-()]/g,"");if(!S.test(T)){e({title:t("referral.toast.error"),description:t("referral.toast.phone_invalid"),variant:"destructive"});return}n(!0);try{const R=T,{data:I}=await L.from("referral_codes").select("code").eq("owner_contact",R).eq("contact_type",a).maybeSingle();if(I){l(I.code),e({title:t("referral.toast.existing_title"),description:t("referral.toast.existing_desc")}),n(!1);return}const z=()=>{const H="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ne="";for(let ae=0;ae<8;ae++)ne+=H.charAt(Math.floor(Math.random()*H.length));return ne};let U=z(),F=!1,O=0;for(;!F&&O<5;){const{data:H}=await L.from("referral_codes").select("code").eq("code",U).maybeSingle();H?(U=z(),O++):F=!0}if(!F){e({title:t("referral.generationError")||"Error",description:"Failed to generate unique code. Please try again.",variant:"destructive"}),n(!1);return}const{error:$}=await L.from("referral_codes").insert({code:U,owner_contact:R,contact_type:a,total_collected:0,rewards_granted:0,total_earnings_da:0});if($)throw $;l(U),e({title:t("referral.toast.success_title"),description:t("referral.toast.success_desc")})}catch(R){console.error("Error generating code:",R),e({title:t("referral.toast.error"),description:R.message||t("referral.toast.success_desc"),variant:"destructive"})}finally{n(!1)}},k=()=>{c&&(navigator.clipboard.writeText(c),e({title:t("referral.toast.copied_title"),description:t("referral.toast.copied_desc")}))},[_,C]=f.useState([]),A=async E=>{if(E.preventDefault(),!i.trim()){e({title:t("referral.toast.error"),description:t("referral.toast.contact_required"),variant:"destructive"});return}const S=/^\+213[567]\d{8}$/,T=i.replace(/[\s-()]/g,"");if(!S.test(T)){e({title:t("referral.toast.error"),description:t("referral.toast.phone_invalid"),variant:"destructive"});return}v(!0);try{const R=T,{data:I,error:z}=await L.from("referral_codes").select("*").eq("owner_contact",R).eq("contact_type",a).maybeSingle();if(z)throw z;if(!I)e({title:t("referral.toast.check_none_title"),description:t("referral.toast.check_none_desc"),variant:"destructive"}),w(null),C([]);else{w(I);const{data:U,error:F}=await L.from("withdrawal_requests").select("*").eq("referral_code_id",I.id).order("created_at",{ascending:!1});F?console.error("Error fetching withdrawals:",F):C(U||[]),e({title:t("referral.toast.check_found_title"),description:t("referral.toast.check_found_desc")})}}catch(R){console.error("Error checking stats:",R),e({title:t("referral.toast.error"),description:R.message||t("referral.toast.fetch_error"),variant:"destructive"})}finally{v(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(Nr,{}),s.jsx("main",{className:"flex-1 container py-6 sm:py-12 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(aa,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-primary"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:t("referral.headerTitle")}),s.jsx("p",{className:"text-muted-foreground",children:t("referral.headerDesc")})]}),c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{children:[s.jsxs(ce,{children:[s.jsx(xe,{children:t("referral.stats.your_code")}),s.jsx(nt,{children:t("referral.headerDesc")})]}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-muted p-4 rounded-lg text-center",children:s.jsx("span",{className:"text-3xl font-bold tracking-wider",children:c})}),s.jsx(D,{onClick:k,variant:"outline",size:"icon",children:s.jsx(hT,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsx("p",{children:t("referral.contactLabel",{type:"WhatsApp",value:i})})})]})]}),s.jsxs(bu,{children:[s.jsx(aa,{className:"h-4 w-4"}),s.jsx(ju,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold",children:t("referral.howItWorks.title")}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[s.jsx("li",{children:t("referral.howItWorks.step1")}),s.jsx("li",{children:t("referral.howItWorks.step2")}),s.jsx("li",{children:t("referral.howItWorks.step3")}),s.jsx("li",{children:t("referral.howItWorks.step4")})]}),s.jsx("p",{className:"text-sm mt-3",children:t("referral.howItWorks.example")})]})})]}),s.jsx(D,{onClick:()=>{l(null),o("+213"),w(null)},variant:"outline",className:"w-full",children:t("referral.generateAnother")})]}):s.jsxs(B,{children:[s.jsxs(ce,{className:"px-4 sm:px-6",children:[s.jsx(xe,{className:"text-lg sm:text-xl",children:t("referral.genTitle")}),s.jsx(nt,{className:"text-sm",children:t("referral.genDesc")})]}),s.jsxs(V,{className:"px-4 sm:px-6",children:[s.jsxs("form",{onSubmit:N,className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"contact",children:t("referral.labels.whatsapp")}),s.jsx(M,{id:"contact",type:"text",placeholder:t("referral.placeholders.whatsapp"),value:i,onChange:E=>{let S=E.target.value;S.startsWith("+213")||(S="+213"),o(S)},required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t("referral.toast.phone_invalid")})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(D,{type:"submit",disabled:r,className:"w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),t("referral.actions.generating")]}):s.jsxs(s.Fragment,{children:[s.jsx(t_,{className:"mr-2 h-4 w-4"}),t("referral.actions.generate")]})}),s.jsx(D,{type:"button",variant:"outline",disabled:g,onClick:E=>{E.preventDefault(),A(E)},children:g?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),t("referral.actions.checking")]}):s.jsxs(s.Fragment,{children:[s.jsx(Xt,{className:"mr-2 h-4 w-4"}),t("referral.actions.verify")]})})]})]}),j&&s.jsxs("div",{className:"mt-6 space-y-4 border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t("referral.stats.your_code")}),s.jsx(Q,{variant:"outline",className:"font-mono text-lg px-3 py-1",children:j.code})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(B,{children:[s.jsx(ce,{className:"pb-2",children:s.jsx(nt,{children:t("referral.stats.total_collected")})}),s.jsx(V,{children:s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",parseFloat(j.total_collected).toFixed(2)]})})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-2",children:s.jsx(nt,{children:t("referral.stats.rewards")})}),s.jsx(V,{children:s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[j.rewards_granted,"x"]})})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-2",children:s.jsx(nt,{children:t("referral.stats.total_earned")})}),s.jsx(V,{children:s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[parseFloat(j.total_earnings_da).toFixed(0)," DA"]})})]})]}),s.jsxs(bu,{children:[s.jsx(aa,{className:"h-4 w-4"}),s.jsx(ju,{children:(()=>{const E=parseFloat(j.total_collected),T=(Math.floor(E/200)+1)*200-E;return s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[t("referral.stats.milestone_prefix")," ",s.jsxs("strong",{children:["$",T.toFixed(2)]})," ",t("referral.stats.milestone_suffix")," "," ",s.jsx("strong",{children:t("referral.stats.milestone_reward")}),"!"]}),s.jsx("p",{className:"text-xs text-muted-foreground italic",children:t("referral.self_referral_note")})]})})()})]}),(()=>{const E=parseFloat(j.total_earnings_da),S=_.filter(I=>I.status!=="rejected").reduce((I,z)=>I+parseFloat(z.amount_da),0),T=E-S,R=_.find(I=>I.status==="pending");return T<=0&&!R?null:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(B,{className:"bg-primary/5 border-primary/20",children:s.jsxs(V,{className:"pt-6 pb-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("referral.withdraw.available_balance")}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[T.toFixed(0)," DA"]})]}),R?s.jsxs(Q,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(we,{className:"w-3 h-3 mr-1 animate-spin"})," ",t("referral.withdraw.pending_approval")]}):s.jsx(Q,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:t("referral.withdraw.ready")})]})}),R?s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 text-sm text-yellow-800",children:[s.jsxs("p",{children:[s.jsxs("strong",{children:[t("referral.withdraw.pending_request"),":"]})," ",parseFloat(R.amount_da).toFixed(0)," DA requested on ",new Date(R.created_at).toLocaleDateString(),"."]}),s.jsx("p",{className:"mt-1",children:"You can request again once this is processed."})]}):T>=1e3?s.jsxs(D,{onClick:()=>u(!0),className:"w-full",size:"lg",children:[s.jsx("span",{className:"mr-2",children:""}),t("referral.withdraw.button")," (",T.toFixed(0)," DA)"]}):s.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg text-sm text-muted-foreground",children:["Minimum withdrawal amount is 1000 DA. You need ",(1e3-T).toFixed(0)," DA more."]})]}),s.jsx(at,{open:d,onOpenChange:u,children:s.jsxs(st,{children:[s.jsxs(vt,{children:[s.jsx(bt,{children:"Request Withdrawal"}),s.jsx(Is,{children:"Please provide your preferred payment details."})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"p-3 bg-muted rounded-md flex justify-between",children:[s.jsx("span",{children:"Amount to Withdraw:"}),s.jsxs("span",{className:"font-bold",children:[T.toFixed(0)," DA"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"notes",children:"Payment Method & Notes"}),s.jsx("textarea",{id:"notes",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]",placeholder:`Examples:
- CCP: 12345678 key 99 (Name)
- BaridiMob: 00799999...
- Hand to hand in Algiers`,value:p,onChange:I=>m(I.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"email",children:"Email for Notification (Optional)"}),s.jsx(M,{id:"email",type:"email",placeholder:"Enter your email to receive confirmation",value:h,onChange:I=>y(I.target.value)})]})]}),s.jsxs(vs,{children:[s.jsx(D,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsxs(D,{onClick:async()=>{if(!p.trim()){e({title:"Error",description:"Please enter payment details",variant:"destructive"});return}try{n(!0);const{error:I}=await L.from("withdrawal_requests").insert({referral_code_id:j.id,referral_code:j.code,amount_da:T,contact_type:j.contact_type,contact_info:j.owner_contact,payment_notes:p,email:h,status:"pending"});if(I)throw I;u(!1),b(!0),m(""),A({preventDefault:()=>{}}),m(""),y("")}catch(I){console.error(I),e({title:"Error",description:"Failed to submit request",variant:"destructive"})}finally{n(!1)}},disabled:r,children:[r&&s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirm Request"]})]})]})}),s.jsx(at,{open:x,onOpenChange:b,children:s.jsxs(st,{children:[s.jsxs(vt,{children:[s.jsxs(bt,{className:"flex items-center gap-2 text-green-600",children:[" ",t("referral.withdraw.request_submitted")]}),s.jsx(Is,{children:"Your withdrawal request has been received."})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Code:"})," ",j.code]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Amount:"})," ",T.toFixed(0)," DA"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"An admin will review your request and process the payment to the details you provided."})]}),s.jsx(vs,{children:s.jsx(D,{onClick:()=>b(!1),children:"OK"})})]})})]})})()]})]})]})]})}),s.jsx(pa,{})]})},bs=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",e),...t})}));bs.displayName="Table";const js=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));js.displayName="TableHeader";const ws=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));ws.displayName="TableBody";const CM=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));CM.displayName="TableFooter";const Me=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:J("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Me.displayName="TableRow";const re=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));re.displayName="TableHead";const te=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));te.displayName="TableCell";const EM=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));EM.displayName="TableCaption";const PM=()=>{Et();const{toast:e}=Ne(),[t,r]=f.useState(!0),[n,a]=f.useState([]),[i,o]=f.useState({totalCodes:0,totalCollected:0,totalEarnings:0,totalRewards:0}),c=async()=>{r(!0);try{const{data:S,error:T}=await L.from("referral_codes").select("*").order("total_collected",{ascending:!1});if(T)throw T;if(S){a(S);const R=S.reduce((U,F)=>U+parseFloat(F.total_collected.toString()),0),I=S.reduce((U,F)=>U+parseFloat(F.total_earnings_da.toString()),0),z=S.reduce((U,F)=>U+F.rewards_granted,0);o({totalCodes:S.length,totalCollected:R,totalEarnings:I,totalRewards:z})}}catch(S){console.error("Error fetching referral codes:",S),e({title:"Error",description:"Failed to load referral codes",variant:"destructive"})}finally{r(!1)}},l=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[d,u]=f.useState([]),[p,m]=f.useState(!1),[h,y]=f.useState(null),[x,b]=f.useState(null),[g,v]=f.useState(""),[j,w]=f.useState([]),[N,k]=f.useState(!1);f.useEffect(()=>{c(),_()},[]);const _=async()=>{const{data:S}=await L.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});S&&u(S)},C=async S=>{k(!0);const{data:T}=await L.from("orders").select("id, created_at, total, status, notes").eq("referral_code",S).order("created_at",{ascending:!1}).limit(10);T&&w(T),k(!1)},A=S=>{y(S),b(null),v(""),m(!0),C(S.referral_code)},E=async S=>{if(h)try{r(!0);const{error:T}=await L.from("withdrawal_requests").update({status:S,admin_note:g}).eq("id",h.id);if(T)throw T;L.functions.invoke("send-email",{body:{type:"withdrawal_processed",record:{...h,status:S,admin_note:g}}}),e({title:"Success",description:`Request marked as ${S.toUpperCase()} and email sent.`}),m(!1),_()}catch(T){console.error("Error processing withdrawal:",T),e({title:"Error",description:"Failed to process withdrawal",variant:"destructive"})}finally{r(!1)}};return t?s.jsx(It,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsxs(It,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(aa,{className:"h-8 w-8"}),"Referral Management"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"View and manage all referral codes and earnings"})]}),s.jsxs(Qs,{defaultValue:"codes",children:[s.jsxs(Ls,{children:[s.jsx(De,{value:"codes",children:"Referral Codes"}),s.jsx(De,{value:"withdrawals",children:"Withdrawal Requests"})]}),s.jsxs(Ke,{value:"codes",className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(B,{children:[s.jsx(ce,{className:"pb-2",children:s.jsx(nt,{children:"Total Codes"})}),s.jsx(V,{children:s.jsx("p",{className:"text-2xl font-bold",children:i.totalCodes})})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-2",children:s.jsx(nt,{children:"Total Collected"})}),s.jsx(V,{children:s.jsxs("p",{className:"text-2xl font-bold",children:["$",i.totalCollected.toFixed(2)]})})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-2",children:s.jsx(nt,{children:"Total Rewards"})}),s.jsx(V,{children:s.jsx("p",{className:"text-2xl font-bold",children:i.totalRewards})})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-2",children:s.jsx(nt,{children:"Total Earnings"})}),s.jsx(V,{children:s.jsxs("p",{className:"text-2xl font-bold",children:[i.totalEarnings.toFixed(0)," DA"]})})]})]}),s.jsxs(B,{children:[s.jsxs(ce,{children:[s.jsx(xe,{children:"All Referral Codes"}),s.jsx(nt,{children:"Complete list of all generated referral codes and their performance"})]}),s.jsx(V,{children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(aa,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No referral codes generated yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"Code"}),s.jsx(re,{children:"Owner"}),s.jsx(re,{children:"Contact Type"}),s.jsx(re,{className:"text-right",children:"Collected ($)"}),s.jsx(re,{className:"text-center",children:"Rewards"}),s.jsx(re,{className:"text-right",children:"Earnings (DA)"}),s.jsx(re,{className:"text-center",children:"Progress"}),s.jsx(re,{children:"Created"})]})}),s.jsx(ws,{children:n.map(S=>{const T=parseFloat(S.total_collected.toString()),R=(Math.floor(T/200)+1)*200,I=T%200,z=I/200*100;return s.jsxs(Me,{children:[s.jsx(te,{children:s.jsx(Q,{variant:"outline",className:"font-mono text-base",children:S.code})}),s.jsx(te,{className:"font-medium",children:S.owner_contact}),s.jsx(te,{children:s.jsx(Q,{variant:"secondary",children:S.contact_type})}),s.jsxs(te,{className:"text-right font-semibold",children:["$",T.toFixed(2)]}),s.jsx(te,{className:"text-center",children:s.jsxs(Q,{variant:"default",className:"bg-green-600",children:[S.rewards_granted,"x"]})}),s.jsxs(te,{className:"text-right font-bold text-primary",children:[parseFloat(S.total_earnings_da.toString()).toFixed(0)," DA"]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-1 min-w-[120px]",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["$",I.toFixed(0)]}),s.jsxs("span",{children:["/$",R]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${z}%`}})})]})}),s.jsx(te,{className:"text-muted-foreground",children:l(S.created_at)})]},S.id)})})]})})})]})]}),s.jsx(Ke,{value:"withdrawals",children:s.jsxs(B,{children:[s.jsxs(ce,{children:[s.jsx(xe,{children:"Withdrawal Requests"}),s.jsx(nt,{children:"Manage payout requests from partners"})]}),s.jsx(V,{children:d.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No withdrawal requests found."})}):s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"Date"}),s.jsx(re,{children:"Code"}),s.jsx(re,{children:"Contact"}),s.jsx(re,{children:"Payment Details"}),s.jsx(re,{children:"Amount"}),s.jsx(re,{children:"Status"}),s.jsx(re,{children:"Actions"})]})}),s.jsx(ws,{children:d.map(S=>s.jsxs(Me,{children:[s.jsx(te,{children:l(S.created_at)}),s.jsx(te,{children:s.jsx(Q,{variant:"outline",children:S.referral_code})}),s.jsx(te,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:S.contact_info}),S.email&&s.jsx("span",{className:"text-xs text-blue-600",children:S.email}),s.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:S.contact_type})]})}),s.jsx(te,{children:s.jsx("div",{className:"max-w-[200px] text-xs truncate",title:S.payment_notes,children:S.payment_notes||s.jsx("span",{className:"text-muted-foreground italic",children:"No notes"})})}),s.jsxs(te,{className:"font-bold text-green-600",children:[S.amount_da," DA"]}),s.jsx(te,{children:s.jsx(Q,{variant:S.status==="paid"?"default":S.status==="rejected"?"destructive":"secondary",children:S.status})}),s.jsx(te,{children:S.status==="pending"&&s.jsx("div",{className:"flex gap-2",children:s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>A(S),children:[s.jsx(zr,{className:"h-4 w-4 mr-1"})," View & Process"]})})})]},S.id))})]})})]})})]})]}),s.jsx(at,{open:p,onOpenChange:m,children:s.jsxs(st,{className:"max-w-2xl",children:[s.jsxs(vt,{children:[s.jsx(bt,{children:"Review Withdrawal Request"}),s.jsx(Is,{children:"Review details and select an action."})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"User Contact"}),s.jsx("div",{className:"font-medium",children:h==null?void 0:h.contact_info})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Referral Code"}),s.jsx("div",{className:"font-medium",children:h==null?void 0:h.referral_code})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Amount"}),s.jsxs("div",{className:"font-medium text-lg",children:[h==null?void 0:h.amount_da," DA"]})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Payment Info"}),s.jsx("div",{className:"font-medium",children:h==null?void 0:h.payment_notes})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{children:["Recent Orders from ",h==null?void 0:h.referral_code]}),s.jsx(Zl,{className:"h-[200px] border rounded-md p-4",children:N?s.jsx("div",{className:"flex justify-center p-4",children:s.jsx(we,{className:"animate-spin"})}):j.length>0?s.jsx("div",{className:"space-y-3",children:j.map(S=>s.jsxs("div",{className:"flex justify-between items-center border-b pb-2 last:border-0 text-sm",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"font-medium",children:["Order #",S.id]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(S.created_at).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",title:(()=>{var T;try{return((T=(S.notes?JSON.parse(S.notes):{}).items_metadata)==null?void 0:T.map(I=>I.name).join(", "))||"No items info"}catch{return"Error parsing items"}})(),children:(()=>{var T;try{return((T=(S.notes?JSON.parse(S.notes):{}).items_metadata)==null?void 0:T.map(I=>I.name).join(", "))||"Items data unavailable"}catch{return"Error parsing items"}})()})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:[S.total," DA"]}),s.jsx(Q,{variant:"outline",className:"text-[10px]",children:S.status})]})]},S.id))}):s.jsxs("div",{className:"text-center text-muted-foreground py-4 text-sm",children:["No linked orders found.",s.jsx("br",{}),s.jsx("span",{className:"text-xs opacity-70",children:"(Orders before Jan 5th may not be linked)"})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"note",children:"Admin Note / Transaction ID"}),s.jsx(He,{id:"note",placeholder:"Required for processing. E.g., 'Paid via CCP 12345'",value:g,onChange:S=>v(S.target.value),className:"h-24"})]})]}),s.jsx(vs,{className:"gap-2 sm:gap-0",children:s.jsxs("div",{className:"flex w-full justify-between items-center",children:[s.jsx(D,{variant:"ghost",onClick:()=>m(!1),children:"Close"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(D,{variant:"destructive",onClick:()=>{b("rejected"),E("rejected")},disabled:!g.trim()||t,children:[s.jsx(Ct,{className:"h-4 w-4 mr-1"})," Reject"]}),s.jsxs(D,{className:"bg-green-600 hover:bg-green-700",onClick:()=>{b("paid"),E("paid")},disabled:!g.trim()||t,children:[s.jsx(go,{className:"h-4 w-4 mr-1"})," Pay"]})]})]})})]})})]})},TM=()=>{const{t:e}=ye();return s.jsx(it,{children:s.jsx("div",{className:"bg-gradient-to-b from-primary/5 to-background",children:s.jsx(tt,{padding:"lg",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-16",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/70",children:e("about.hero.title")}),s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed max-w-2xl mx-auto",children:e("about.hero.subtitle")})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[s.jsx(xT,{className:"h-6 w-6 text-primary"}),e("about.what.title")]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("about.what.desc1")}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.jsx(xt,{i18nKey:"about.what.desc2",components:{strong:s.jsx("strong",{})}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(B,{className:"bg-background/50 border-primary/20",children:s.jsxs(V,{className:"p-6 flex flex-col items-center text-center gap-2",children:[s.jsx(ln,{className:"h-8 w-8 text-primary mb-2"}),s.jsx("span",{className:"font-semibold",children:e("about.what.cards.mediated")})]})}),s.jsx(B,{className:"bg-background/50 border-primary/20",children:s.jsxs(V,{className:"p-6 flex flex-col items-center text-center gap-2",children:[s.jsx(is,{className:"h-8 w-8 text-primary mb-2"}),s.jsx("span",{className:"font-semibold",children:e("about.what.cards.secure")})]})})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:e("about.services.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("about.services.subtitle")})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(B,{className:"h-full hover:shadow-md transition-shadow",children:s.jsxs(V,{className:"p-6 space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(as,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:e("about.services.cards.store.title")}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e("about.services.cards.store.desc")})]})}),s.jsx(B,{className:"h-full hover:shadow-md transition-shadow",children:s.jsxs(V,{className:"p-6 space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:s.jsx(is,{className:"h-6 w-6 text-emerald-600"})}),s.jsx("h3",{className:"text-xl font-semibold",children:e("about.services.cards.exchange.title")}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e("about.services.cards.exchange.desc")})]})}),s.jsx(B,{className:"h-full hover:shadow-md transition-shadow",children:s.jsxs(V,{className:"p-6 space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-amber-500/10 flex items-center justify-center",children:s.jsx(Js,{className:"h-6 w-6 text-amber-600"})}),s.jsx("h3",{className:"text-xl font-semibold",children:e("about.services.cards.import.title")}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e("about.services.cards.import.desc")})]})})]})]}),s.jsxs("div",{className:"bg-muted/30 rounded-2xl p-8 md:p-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:e("about.how.title")}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-4 relative",children:[s.jsx("div",{className:"hidden md:block absolute top-6 left-[12%] right-[12%] h-0.5 bg-border -z-10"}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 bg-background/80 p-4 rounded-xl backdrop-blur-sm md:bg-transparent md:p-0",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-lg shadow-sm",children:"1"}),s.jsx("h4",{className:"font-semibold",children:e("about.how.steps.1.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about.how.steps.1.desc")})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 bg-background/80 p-4 rounded-xl backdrop-blur-sm md:bg-transparent md:p-0",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-lg shadow-sm",children:"2"}),s.jsx("h4",{className:"font-semibold",children:e("about.how.steps.2.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about.how.steps.2.desc")})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 bg-background/80 p-4 rounded-xl backdrop-blur-sm md:bg-transparent md:p-0",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-lg shadow-sm",children:"3"}),s.jsx("h4",{className:"font-semibold",children:e("about.how.steps.3.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about.how.steps.3.desc")})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 bg-background/80 p-4 rounded-xl backdrop-blur-sm md:bg-transparent md:p-0",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-lg shadow-sm",children:"4"}),s.jsx("h4",{className:"font-semibold",children:e("about.how.steps.4.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about.how.steps.4.desc")})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),e("about.why.title")]}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx($r,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium block",children:e("about.why.items.adapted.title")}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e("about.why.items.adapted.desc")})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx($r,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium block",children:e("about.why.items.human.title")}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e("about.why.items.human.desc")})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx($r,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium block",children:e("about.why.items.centralized.title")}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e("about.why.items.centralized.desc")})]})]})]})]}),s.jsxs("div",{className:"bg-destructive/5 rounded-xl p-6 border border-destructive/10",children:[s.jsxs("h3",{className:"text-lg font-bold text-destructive flex items-center gap-2 mb-4",children:[s.jsx(jr,{className:"h-5 w-5"}),e("about.notice.title")]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("about.notice.desc")}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsx("span",{className:"text-muted-foreground",children:s.jsx(xt,{i18nKey:"about.notice.items.1",components:{strong:s.jsx("strong",{})}})})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsx("span",{className:"text-muted-foreground",children:s.jsx(xt,{i18nKey:"about.notice.items.2",components:{strong:s.jsx("strong",{})}})})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsx("span",{className:"text-muted-foreground",children:s.jsx(xt,{i18nKey:"about.notice.items.3",components:{strong:s.jsx("strong",{})}})})]})]})]})]}),s.jsxs("div",{className:"text-center pt-8 border-t",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:e("about.footer.title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:e("about.footer.desc")}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-secondary/50 px-4 py-2 rounded-full",children:[s.jsx(Cg,{className:"h-4 w-4"}),s.jsx("span",{children:e("about.footer.support")})]})})]})]})})})})},AM=()=>{const e=$s(),{t}=ye();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:t("notFound.oops")}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:t("notFound.returnHome")})]})})},RM=()=>{const{t:e}=ye(),t=[{icon:yt,title:e("alkhayr.zeroCommission.principle1Title"),description:e("alkhayr.zeroCommission.principle1Desc"),color:"text-red-500"},{icon:ei,title:e("alkhayr.zeroCommission.principle2Title"),description:e("alkhayr.zeroCommission.principle2Desc"),color:"text-green-500"},{icon:zr,title:e("alkhayr.zeroCommission.principle3Title"),description:e("alkhayr.zeroCommission.principle3Desc"),color:"text-blue-500"},{icon:Og,title:e("alkhayr.zeroCommission.principle4Title"),description:e("alkhayr.zeroCommission.principle4Desc"),color:"text-purple-500"}];return s.jsx(it,{children:s.jsx(tt,{id:"alkhayr-zero",title:e("alkhayr.zeroCommission.title"),subtitle:e("alkhayr.zeroCommission.subtitle"),padding:"md",variant:"charity",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(ei,{className:"h-16 w-16 text-primary"})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:t.map((r,n)=>{const a=r.icon;return s.jsxs(B,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg bg-gray-50 ${r.color}`,children:s.jsx(a,{className:"h-6 w-6"})}),s.jsx(xe,{className:"text-xl",children:r.title})]})}),s.jsx(V,{children:s.jsx("p",{className:"text-gray-600",children:r.description})})]},n)})}),s.jsx(B,{className:"bg-yellow-50 border-yellow-200",children:s.jsx(V,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-700",children:e("alkhayr.zeroCommission.commercial")})})})]})})})};var jh="Collapsible",[OM,ek]=cs(jh),[DM,kx]=OM(jh),tk=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...c}=e,[l,d]=Os({prop:n,defaultProp:a??!1,onChange:o,caller:jh});return s.jsx(DM,{scope:r,disabled:i,contentId:yr(),open:l,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:s.jsx(he.div,{"data-state":Ex(l),"data-disabled":i?"":void 0,...c,ref:t})})});tk.displayName=jh;var sk="CollapsibleTrigger",rk=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=kx(sk,r);return s.jsx(he.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Ex(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:le(e.onClick,a.onOpenToggle)})});rk.displayName=sk;var Cx="CollapsibleContent",nk=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=kx(Cx,e.__scopeCollapsible);return s.jsx(Ns,{present:r||a.open,children:({present:i})=>s.jsx(IM,{...n,ref:t,present:i})})});nk.displayName=Cx;var IM=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=kx(Cx,r),[c,l]=f.useState(n),d=f.useRef(null),u=Re(t,d),p=f.useRef(0),m=p.current,h=f.useRef(0),y=h.current,x=o.open||c,b=f.useRef(x),g=f.useRef(void 0);return f.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),Dt(()=>{const v=d.current;if(v){g.current=g.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const j=v.getBoundingClientRect();p.current=j.height,h.current=j.width,b.current||(v.style.transitionDuration=g.current.transitionDuration,v.style.animationName=g.current.animationName),l(n)}},[o.open,n]),s.jsx(he.div,{"data-state":Ex(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:x&&a})});function Ex(e){return e?"open":"closed"}var LM=tk,MM=rk,FM=nk,Cr="Accordion",$M=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Px,qM,UM]=Uu(Cr),[wh,Zq]=cs(Cr,[UM,ek]),Tx=ek(),ak=Y.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(Px.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(WM,{...i,ref:t}):s.jsx(VM,{...a,ref:t})})});ak.displayName=Cr;var[ik,zM]=wh(Cr),[ok,BM]=wh(Cr,{collapsible:!1}),VM=Y.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[c,l]=Os({prop:r,defaultProp:n??"",onChange:a,caller:Cr});return s.jsx(ik,{scope:e.__scopeAccordion,value:Y.useMemo(()=>c?[c]:[],[c]),onItemOpen:l,onItemClose:Y.useCallback(()=>i&&l(""),[i,l]),children:s.jsx(ok,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(lk,{...o,ref:t})})})}),WM=Y.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,c]=Os({prop:r,defaultProp:n??[],onChange:a,caller:Cr}),l=Y.useCallback(u=>c((p=[])=>[...p,u]),[c]),d=Y.useCallback(u=>c((p=[])=>p.filter(m=>m!==u)),[c]);return s.jsx(ik,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:d,children:s.jsx(ok,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(lk,{...i,ref:t})})})}),[HM,_h]=wh(Cr),lk=Y.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,c=Y.useRef(null),l=Re(c,t),d=qM(r),p=Ao(a)==="ltr",m=le(e.onKeyDown,h=>{var C;if(!$M.includes(h.key))return;const y=h.target,x=d().filter(A=>{var E;return!((E=A.ref.current)!=null&&E.disabled)}),b=x.findIndex(A=>A.ref.current===y),g=x.length;if(b===-1)return;h.preventDefault();let v=b;const j=0,w=g-1,N=()=>{v=b+1,v>w&&(v=j)},k=()=>{v=b-1,v<j&&(v=w)};switch(h.key){case"Home":v=j;break;case"End":v=w;break;case"ArrowRight":i==="horizontal"&&(p?N():k());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(p?k():N());break;case"ArrowUp":i==="vertical"&&k();break}const _=v%g;(C=x[_].ref.current)==null||C.focus()});return s.jsx(HM,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(Px.Slot,{scope:r,children:s.jsx(he.div,{...o,"data-orientation":i,ref:l,onKeyDown:n?void 0:m})})})}),wu="AccordionItem",[KM,Ax]=wh(wu),ck=Y.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=_h(wu,r),o=zM(wu,r),c=Tx(r),l=yr(),d=n&&o.value.includes(n)||!1,u=i.disabled||e.disabled;return s.jsx(KM,{scope:r,open:d,disabled:u,triggerId:l,children:s.jsx(LM,{"data-orientation":i.orientation,"data-state":fk(d),...c,...a,ref:t,disabled:u,open:d,onOpenChange:p=>{p?o.onItemOpen(n):o.onItemClose(n)}})})});ck.displayName=wu;var dk="AccordionHeader",uk=Y.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=_h(Cr,r),i=Ax(dk,r);return s.jsx(he.h3,{"data-orientation":a.orientation,"data-state":fk(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});uk.displayName=dk;var _f="AccordionTrigger",hk=Y.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=_h(Cr,r),i=Ax(_f,r),o=BM(_f,r),c=Tx(r);return s.jsx(Px.ItemSlot,{scope:r,children:s.jsx(MM,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...c,...n,ref:t})})});hk.displayName=_f;var mk="AccordionContent",pk=Y.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=_h(Cr,r),i=Ax(mk,r),o=Tx(r);return s.jsx(FM,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});pk.displayName=mk;function fk(e){return e?"open":"closed"}var GM=ak,YM=ck,JM=uk,gk=hk,xk=pk;const Dn=GM,qt=f.forwardRef(({className:e,...t},r)=>s.jsx(YM,{ref:r,className:J("border-b",e),...t}));qt.displayName="AccordionItem";const Ut=f.forwardRef(({className:e,children:t,...r},n)=>s.jsx(JM,{className:"flex",children:s.jsxs(gk,{ref:n,className:J("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(Xr,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ut.displayName=gk.displayName;const zt=f.forwardRef(({className:e,children:t,...r},n)=>s.jsx(xk,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:J("pb-4 pt-0",e),children:t})}));zt.displayName=xk.displayName;const QM=()=>{const{t:e}=ye(),t=[{question:e("alkhayr.faq.q1"),answer:e("alkhayr.faq.a1")},{question:e("alkhayr.faq.q2"),answer:e("alkhayr.faq.a2")},{question:e("alkhayr.faq.q3"),answer:e("alkhayr.faq.a3")},{question:e("alkhayr.faq.q4"),answer:e("alkhayr.faq.a4")},{question:e("alkhayr.faq.q5"),answer:e("alkhayr.faq.a5")},{question:e("alkhayr.faq.q6"),answer:e("alkhayr.faq.a6")}];return s.jsx(it,{children:s.jsx(tt,{id:"alkhayr-faq",title:e("alkhayr.faq.title"),subtitle:e("alkhayr.faq.subtitle"),padding:"md",variant:"charity",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(Cg,{className:"h-16 w-16 text-primary"})})}),s.jsx(B,{className:"charity-glass charity-card-hover",children:s.jsx(V,{className:"pt-6",children:s.jsx(Dn,{type:"single",collapsible:!0,className:"w-full",children:t.map((r,n)=>s.jsxs(qt,{value:`item-${n}`,children:[s.jsx(Ut,{className:"text-left",children:s.jsx("span",{className:"font-semibold",children:r.question})}),s.jsx(zt,{children:s.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.answer})})]},n))})})})]})})})};var Nh="Switch",[XM,eU]=cs(Nh),[ZM,eF]=XM(Nh),yk=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:l="on",onCheckedChange:d,form:u,...p}=e,[m,h]=f.useState(null),y=Re(t,j=>h(j)),x=f.useRef(!1),b=m?u||!!m.closest("form"):!0,[g,v]=Os({prop:a,defaultProp:i??!1,onChange:d,caller:Nh});return s.jsxs(ZM,{scope:r,checked:g,disabled:c,children:[s.jsx(he.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":wk(g),"data-disabled":c?"":void 0,disabled:c,value:l,...p,ref:y,onClick:le(e.onClick,j=>{v(w=>!w),b&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),b&&s.jsx(jk,{control:m,bubbles:!x.current,name:n,value:l,checked:g,required:o,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});yk.displayName=Nh;var vk="SwitchThumb",bk=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=eF(vk,r);return s.jsx(he.span,{"data-state":wk(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});bk.displayName=vk;var tF="SwitchBubbleInput",jk=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),c=Re(o,i),l=ch(r),d=Gu(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==r&&h){const y=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(y)}},[l,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jk.displayName=tF;function wk(e){return e?"checked":"unchecked"}var _k=yk,sF=bk;const yc=f.forwardRef(({className:e,...t},r)=>s.jsx(_k,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(sF,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yc.displayName=_k.displayName;const rF=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!0),[a,i]=f.useState([]),[o,c]=f.useState("pending"),[l,d]=f.useState(null),[u,p]=f.useState(!1),[m,h]=f.useState({pending:0,accepted:0,total:0});f.useEffect(()=>{y()},[]);const y=async()=>{n(!0);try{const{data:j,error:w}=await L.from("medicine_requests").select("*").order("created_at",{ascending:!1});if(w)throw w;const N=_=>{var C,A,E,S,T,R;return{id:_.id,legacy_id:_.legacy_id,created_at:_.created_at,table_name:"medicine_requests",origin:_.request_type,requester_name:_.full_name||"Inconnu",contact_phone:_.phone_number||_.contact_value||"",email:_.email,whatsapp:_.whatsapp||((E=(A=(C=_.admin_notes)==null?void 0:C.match(/WhatsApp:\s*([^\n]+)/))==null?void 0:A[1])==null?void 0:E.trim()),telegram:_.telegram||((R=(T=(S=_.admin_notes)==null?void 0:S.match(/Telegram:\s*([^\n]+)/))==null?void 0:T[1])==null?void 0:R.trim()),user_wilaya_raw:_.wilaya||"",user_city_raw:_.city||"",user_country_raw:_.expected_country,address_raw:_.address,contact_type_raw:_.contact_type,medicine_name_raw:_.medicine_name||_.title||"Sans titre",disease_name_raw:_.disease_name,description_raw:_.description||_.medicine_details||"",user_urgency_raw:_.is_urgent===!0,user_proof_url:_.prescription_url||_.main_image_url||"",raw_detail_images:_.detail_images,raw_prescription_images:_.prescription_images,all_detail_images:(()=>{const I=_.detail_images||[],z=Array.isArray(I)?I:typeof I=="string"?JSON.parse(I):[];return z.length===0&&_.request_type==="local"&&_.prescription_url?[_.prescription_url]:z.length===0&&_.main_image_url?[_.main_image_url]:z})(),all_prescription_images:(()=>{const I=_.prescription_images||[],z=Array.isArray(I)?I:typeof I=="string"?JSON.parse(I):[];return z.length===0&&_.request_type==="foreign"&&_.prescription_url?[_.prescription_url]:z})(),financial_ability:_.financial_ability,afford_amount:_.afford_amount||_.offered_amount||_.budget,family_status:_.family_status,monthly_income:_.monthly_income,need_delivery:_.need_delivery==="true"||_.need_delivery===!0||_.need_delivery==="paid"||_.need_delivery==="free",user_priority:_.urgency||_.user_priority,status:_.status||"pending",admin_notes:_.admin_notes||"",display_name:_.display_name||"",display_wilaya:_.display_wilaya||"",display_area:_.display_area||"",display_summary:_.display_summary||"",display_description:_.display_description||"",display_main_image:_.display_main_image||"",display_images:Array.isArray(_.display_images)?_.display_images:[],display_is_urgent:_.display_is_urgent||!1}},k=(j||[]).map(N);i(k),h({pending:k.filter(_=>_.status==="pending").length,accepted:k.filter(_=>["accepted","in_progress","completed","handled"].includes(_.status)).length,total:k.length})}catch(j){console.error("Error fetching:",j),t({title:"Erreur",description:"Impossible de charger les demandes",variant:"destructive"})}finally{n(!1)}},x=async j=>{try{const w=`${Date.now()}_${Math.random().toString(36).substring(7)}.${j.name.split(".").pop()}`,{error:N,data:k}=await L.storage.from("medicine-images").upload(w,j);if(N)throw N;const{data:_}=L.storage.from("medicine-images").getPublicUrl(w);return _.publicUrl}catch(w){return t({title:"Upload Failed",description:w.message,variant:"destructive"}),null}},b=async(j=l)=>{if(j)try{if(["accepted","in_progress","handled","completed"].includes(j.status)&&(!j.display_name||!j.display_summary||!j.display_main_image)){t({title:"Validation choue",description:"Pour rendre public, vous devez remplir: Titre Public, Rsum, et Image Principale.",variant:"destructive"});return}const N={status:j.status,display_name:j.display_name,display_wilaya:j.display_wilaya,display_area:j.display_area,display_summary:j.display_summary,display_description:j.display_description,display_main_image:j.display_main_image,display_images:j.display_images,display_is_urgent:j.display_is_urgent,admin_notes:j.admin_notes},{error:k}=await L.from("medicine_requests").update(N).eq("id",j.id);if(k)throw k;t({title:"Succs",description:"Demande mise  jour avec succs."}),d(null),y()}catch(w){console.error("Update Error:",w),t({title:"Erreur",description:"chec de la mise  jour.",variant:"destructive"})}},g=a.filter(j=>o==="all"?!0:o==="active"?["accepted","in_progress","handled"].includes(j.status):j.status===o),v=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":case"in_progress":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"handled":case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800"}};return s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:e("admin_alkhayr.title")}),s.jsx("p",{className:"text-gray-500",children:e("admin_alkhayr.subtitle")})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsx(B,{className:"bg-white border-l-4 border-yellow-500 shadow-sm",children:s.jsxs(V,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:m.pending}),s.jsx("div",{className:"text-sm text-gray-500",children:e("admin_alkhayr.stats.pending")})]})}),s.jsx(B,{className:"bg-white border-l-4 border-green-500 shadow-sm",children:s.jsxs(V,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:m.accepted}),s.jsx("div",{className:"text-sm text-gray-500",children:e("admin_alkhayr.stats.online")})]})}),s.jsx(B,{className:"bg-white border-l-4 border-blue-500 shadow-sm",children:s.jsxs(V,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:m.total}),s.jsx("div",{className:"text-sm text-gray-500",children:e("admin_alkhayr.stats.total")})]})})]}),s.jsx("div",{className:"bg-white p-2 rounded-lg border inline-block mb-4",children:s.jsx(Qs,{value:o,onValueChange:c,children:s.jsxs(Ls,{className:"bg-transparent",children:[s.jsx(De,{value:"pending",children:e("admin_alkhayr.tabs.pending")}),s.jsx(De,{value:"active",children:e("admin_alkhayr.tabs.online")}),s.jsx(De,{value:"handled",children:e("admin_alkhayr.tabs.handled")}),s.jsx(De,{value:"rejected",children:e("admin_alkhayr.tabs.rejected")}),s.jsx(De,{value:"all",children:e("admin_alkhayr.tabs.all")})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(j=>s.jsx(B,{className:`cursor-pointer hover:shadow-lg transition-all border-l-4 ${j.status==="pending"?"border-l-yellow-400":"border-l-green-400"}`,onClick:()=>d(j),children:s.jsxs(V,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs(Q,{variant:"outline",children:["#",j.legacy_id||j.id.slice(0,8)]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${v(j.status)}`,children:j.status})]}),s.jsx("h3",{className:`font-bold text-lg mb-1 ${j.display_name?"text-gray-900":"text-gray-400 italic"}`,children:j.display_name||e("admin_alkhayr.card.untitled")}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:j.display_summary||s.jsx("span",{className:"italic opacity-50",children:e("admin_alkhayr.card.raw",{val:j.medicine_name_raw})})}),s.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-2",children:[s.jsx(xo,{className:"w-3 h-3"})," ",new Date(j.created_at).toLocaleDateString(),j.origin==="foreign"&&s.jsx(Q,{variant:"secondary",className:"ml-auto text-xs",children:e("alkhayr_public.card.foreign")})]})]})},j.id))}),s.jsx(at,{open:!!l,onOpenChange:j=>!j&&d(null),children:s.jsx(st,{className:"max-w-[95vw] h-[95vh] flex flex-col p-0 overflow-hidden bg-gray-50",children:l&&s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"px-6 py-4 bg-white border-b border-gray-200 flex-shrink-0",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(Fp,{className:"w-5 h-5 text-blue-600"}),e("admin_alkhayr.modal.title",{id:l.id})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(D,{variant:"ghost",onClick:()=>d(null),children:s.jsx(Ct,{className:"w-5 h-5"})})})]})}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-[350px] bg-gray-100 border-r border-gray-200 overflow-y-auto p-6 scrollbar-thin flex-shrink-0",children:[s.jsxs("h3",{className:"font-bold text-gray-500 uppercase tracking-wider text-xs mb-4 flex items-center gap-1",children:[s.jsx(mn,{className:"w-4 h-4"})," ",e("admin_alkhayr.modal.section_raw")]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx(P,{className:"text-xs text-gray-400",children:e("admin_alkhayr.modal.requester")}),s.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(vn,{className:"w-4 h-4 text-gray-400"})," ",l.requester_name]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600 flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2 select-all",children:[s.jsx(Sr,{className:"w-3 h-3"})," ",l.contact_phone,l.contact_type_raw&&l.contact_type_raw!=="phone"&&s.jsx(Q,{variant:"outline",className:"text-[10px] h-5",children:l.contact_type_raw})]}),l.whatsapp&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(pn,{className:"w-3 h-3"})," ",l.whatsapp]}),l.telegram&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[s.jsx("div",{className:"w-3 h-3 flex items-center justify-center font-bold text-[8px] border border-blue-500 rounded-full",children:"T"}),l.telegram]}),l.email&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx("div",{className:"w-3 h-3 flex items-center justify-center font-bold text-[10px]",children:"@"}),l.email]}),l.user_priority&&l.user_priority!=="normal"&&s.jsxs("div",{className:`mt-2 ml-2 inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-bold uppercase ${l.user_priority==="urgent"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:[s.jsx(jr,{className:"w-3 h-3"})," Priorit: ",l.user_priority]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx(P,{className:"text-xs text-gray-400",children:e("admin_alkhayr.modal.location")}),s.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[s.jsx(_s,{className:"w-4 h-4 text-gray-400"}),l.origin==="foreign"&&l.user_country_raw?s.jsxs("span",{className:"capitalize",children:[l.user_country_raw," ",s.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Target)"})]}):s.jsxs("span",{children:[l.user_city_raw,", ",l.user_wilaya_raw]})]}),l.origin==="foreign"&&s.jsxs("div",{className:"mt-1 text-xs text-gray-500 pl-6 border-l-2 ml-1",children:["Origin City: ",l.user_city_raw]}),l.address_raw&&s.jsx("div",{className:"mt-1 text-xs text-gray-500 pl-6 border-l-2 ml-1",children:l.address_raw})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx(P,{className:"text-xs text-gray-400",children:e("admin_alkhayr.modal.need")}),s.jsx("div",{className:"font-bold text-gray-800 mb-1",children:l.medicine_name_raw}),l.disease_name_raw&&s.jsxs("div",{className:"text-xs text-blue-600 font-medium mb-1",children:["Maladie: ",l.disease_name_raw]}),s.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-wrap bg-gray-50 p-2 rounded",children:l.description_raw}),l.user_urgency_raw&&s.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold",children:[s.jsx(jr,{className:"w-3 h-3"})," URGENT (User)"]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm space-y-4",children:[s.jsx(P,{className:"text-xs text-gray-400 block border-b pb-2",children:e("admin_alkhayr.modal.docs")}),l.all_prescription_images&&l.all_prescription_images.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("span",{className:"text-xs font-bold text-blue-600 flex items-center gap-1",children:[s.jsx(mn,{className:"w-3 h-3"})," ",e("admin_alkhayr.modal.prescription")," (",l.all_prescription_images.length,")"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.all_prescription_images.map((j,w)=>s.jsxs("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"block border rounded overflow-hidden group relative",children:[s.jsx("img",{src:j,className:"w-full h-20 object-cover transition group-hover:opacity-80"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/30 text-white text-xs",children:e("admin_alkhayr.modal.open")})]},`presc-${w}`))})]}):l.origin==="foreign"&&s.jsx("div",{className:"text-xs text-gray-400 italic",children:"Aucune ordonnance fournie."}),l.all_detail_images&&l.all_detail_images.length>0?s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsxs("span",{className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[s.jsx(gT,{className:"w-3 h-3"})," ",e("admin_alkhayr.modal.med_photos")," (",l.all_detail_images.length,")"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.all_detail_images.map((j,w)=>s.jsxs("div",{className:"group relative",children:[s.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"block border rounded overflow-hidden",children:s.jsx("img",{src:j,className:"w-full h-20 object-cover transition group-hover:opacity-80"})}),s.jsx(D,{variant:"secondary",size:"sm",className:"absolute bottom-0 left-0 w-full text-[10px] h-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d({...l,display_main_image:j}),children:e("admin_alkhayr.modal.use")})]},`det-${w}`))})]}):s.jsx("div",{className:"text-xs text-gray-400 italic",children:"Aucune photo de mdicament."})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-xs space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-500",children:[e("admin_alkhayr.modal.financial.capability"),":"]}),s.jsx("strong",{children:l.financial_ability||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-500",children:[e("admin_alkhayr.modal.financial.offer"),":"]}),s.jsxs("strong",{className:"text-green-600",children:[l.afford_amount||0," DZD"]})]}),l.family_status&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-500",children:[e("admin_alkhayr.modal.financial.family"),":"]}),s.jsx("strong",{children:l.family_status})]}),l.monthly_income!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-500",children:[e("admin_alkhayr.modal.financial.income"),":"]}),s.jsxs("strong",{children:[l.monthly_income," DZD"]})]}),l.need_delivery!==void 0&&s.jsxs("div",{className:"flex justify-between pt-2 border-t mt-2",children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Js,{className:"w-3 h-3"})," ",e("admin_alkhayr.modal.financial.delivery"),":"]}),s.jsx(Q,{variant:l.need_delivery?"default":"outline",className:l.need_delivery?"bg-blue-600 hover:bg-blue-700":"text-gray-400",children:l.need_delivery?"OUI":"NON"})]})]})]})]}),s.jsxs("div",{className:"flex-1 bg-white overflow-y-auto p-6 scrollbar-thin",children:[s.jsxs("h3",{className:"font-bold text-blue-600 uppercase tracking-wider text-xs mb-4 flex items-center gap-1",children:[s.jsx(as,{className:"w-4 h-4"})," ",e("admin_alkhayr.modal.section_public")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-gray-700 font-semibold",children:e("admin_alkhayr.modal.form.title")}),s.jsx(M,{value:l.display_name,onChange:j=>d({...l,display_name:j.target.value}),placeholder:e("admin_alkhayr.modal.form.title_ph"),className:"border-gray-300 font-medium"}),s.jsx("p",{className:"text-xs text-gray-400",children:e("admin_alkhayr.modal.form.title_help")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-gray-700 font-semibold",children:e("admin_alkhayr.modal.form.wilaya")}),s.jsx(M,{value:l.display_wilaya,onChange:j=>d({...l,display_wilaya:j.target.value}),placeholder:"Ex: Alger"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-gray-700 font-semibold",children:e("admin_alkhayr.modal.form.area")}),s.jsx(M,{value:l.display_area,onChange:j=>d({...l,display_area:j.target.value}),placeholder:"Ex: Bab El Oued"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[s.jsxs("div",{className:"col-span-4 space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 border rounded-xl shadow-sm space-y-4",children:[s.jsx(P,{className:"font-bold",children:e("admin_alkhayr.modal.form.status")}),s.jsxs(Ee,{value:l.status,onValueChange:j=>d({...l,status:j}),children:[s.jsx(ke,{className:"w-full font-bold",children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"pending",children:e("admin_alkhayr.modal.status.pending")}),s.jsx(K,{value:"in_progress",children:e("admin_alkhayr.modal.status.online")}),s.jsx(K,{value:"handled",children:e("admin_alkhayr.modal.status.handled")}),s.jsx(K,{value:"rejected",children:e("admin_alkhayr.modal.status.rejected")})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx(P,{className:"text-red-600 font-bold",children:e("admin_alkhayr.modal.form.urgent_admin")}),s.jsx(yc,{checked:l.display_is_urgent,onCheckedChange:j=>d({...l,display_is_urgent:j})})]})]}),s.jsxs("div",{className:"bg-white p-4 border rounded-xl shadow-sm space-y-2",children:[s.jsx(P,{className:"font-bold text-gray-700",children:"Dlibration / Notes Admin"}),s.jsx(He,{value:l.admin_notes,onChange:j=>d({...l,admin_notes:j.target.value}),placeholder:"Notes internes ou raison de rejet...",className:"min-h-[80px]"})]}),s.jsxs("div",{className:"bg-white p-4 border rounded-xl shadow-sm space-y-2",children:[s.jsx(P,{className:"font-bold",children:"Image Principale (Display) *"}),s.jsxs("div",{className:"aspect-square bg-gray-100 rounded border-2 border-dashed flex items-center justify-center relative overflow-hidden group",children:[l.display_main_image?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:l.display_main_image,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:s.jsx(D,{variant:"secondary",size:"sm",onClick:()=>d({...l,display_main_image:""}),children:"Retirer"})})]}):s.jsxs("div",{className:"text-center p-4",children:[s.jsx(ti,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),s.jsx("span",{className:"text-xs text-gray-400 block",children:"Glisser ou cliquer"})]}),s.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:async j=>{var w;if((w=j.target.files)!=null&&w[0]){p(!0);const N=await x(j.target.files[0]);N&&d({...l,display_main_image:N}),p(!1)}}})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(D,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>d({...l,display_main_image:l.user_proof_url}),children:e("admin_alkhayr.modal.form.use_proof")})})]})]}),s.jsxs("div",{className:"col-span-8 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"font-bold text-gray-700",children:e("admin_alkhayr.modal.form.summary")}),s.jsx(He,{value:l.display_summary,onChange:j=>d({...l,display_summary:j.target.value}),placeholder:e("admin_alkhayr.modal.form.summary_ph"),className:"min-h-[100px] text-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"font-bold text-gray-700",children:e("admin_alkhayr.modal.form.desc")}),s.jsx(He,{value:l.display_description,onChange:j=>d({...l,display_description:j.target.value}),placeholder:e("admin_alkhayr.modal.form.desc_ph"),className:"min-h-[200px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"font-bold text-gray-700",children:e("admin_alkhayr.modal.form.gallery")}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.display_images.map((j,w)=>s.jsxs("div",{className:"w-20 h-20 relative rounded overflow-hidden border group",children:[s.jsx("img",{src:j,className:"w-full h-full object-cover"}),s.jsx("button",{className:"absolute top-0 right-0 bg-red-500 text-white p-1 rounded-bl opacity-0 group-hover:opacity-100",onClick:()=>{const N=[...l.display_images];N.splice(w,1),d({...l,display_images:N})},children:s.jsx(CT,{className:"w-3 h-3"})})]},w)),s.jsxs("label",{className:"w-20 h-20 border-2 border-dashed rounded flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50",children:[s.jsx(ti,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:async j=>{if(j.target.files){p(!0);const w=[];for(const N of Array.from(j.target.files)){const k=await x(N);k&&w.push(k)}d({...l,display_images:[...l.display_images,...w]}),p(!1)}}})]})]})]})]})]})]})]}),s.jsxs("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex justify-between items-center flex-shrink-0 z-10",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Vrification V3 Active  ",l.origin]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(D,{variant:"outline",onClick:()=>d(null),children:e("admin_alkhayr.modal.actions.cancel")}),s.jsxs(D,{onClick:()=>b(),disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white gap-2 min-w-[200px]",children:[s.jsx(nn,{className:"w-4 h-4"})," ",e("admin_alkhayr.modal.actions.save")]})]})]})]})})})]})})},nF=()=>{const{t:e}=ye();return s.jsxs("div",{className:"relative bg-[#1B5E20] text-white py-12 md:py-20 px-4 overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-10",children:[s.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 rounded-full bg-white blur-3xl"}),s.jsx("div",{className:"absolute top-1/2 right-0 w-64 h-64 rounded-full bg-white blur-3xl"})]}),s.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 md:gap-12",children:[s.jsxs("div",{className:"max-w-2xl space-y-6 text-center md:text-left",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-sm font-medium animate-in fade-in slide-in-from-left duration-700",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),e("alkhayr_public.hero.badge")]}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:[e("alkhayr_public.hero.title")," ",s.jsx("br",{}),s.jsx("span",{className:"text-green-200",children:e("alkhayr_public.hero.titleHighlight")})]}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-green-100 max-w-xl leading-relaxed",children:e("alkhayr_public.hero.desc")}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-200 bg-black/20 px-4 py-2 rounded-lg",children:[s.jsx(yt,{className:"h-5 w-5"}),s.jsx("span",{children:e("alkhayr_public.hero.badges.volunteer")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-200 bg-black/20 px-4 py-2 rounded-lg",children:[s.jsx(Yw,{className:"h-5 w-5"}),s.jsx("span",{children:e("alkhayr_public.hero.badges.impact")})]})]})]}),s.jsx("div",{className:"hidden md:block relative",children:s.jsxs("div",{className:"relative w-72 h-72 lg:w-96 lg:h-96",children:[s.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-4 bg-green-500/30 rounded-full blur-xl"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(yt,{className:"w-48 h-48 text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.5)] fill-green-600"})})]})})]})})]})},aF=["Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","Bjaa","Biskra","Bchar","Blida","Bouira","Tamanrasset","Tbessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","Stif","Sada","Skikda","Sidi Bel Abbs","Annaba","Guelma","Constantine","Mda","Mostaganem","M'Sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou Arrridj","Boumerds","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","An Defla","Nama","An Tmouchent","Ghardaa","Relizane","Timimoun","Bordj Badji Mokhtar","Ouled Djellal","Bni Abbs","In Salah","In Guezzam","Touggourt","Djanet","El M'Ghair","El Menia"],iF=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState(!1),[o,c]=f.useState("local"),[l,d]=f.useState({requesterName:"",contactNumber:"",email:"",medicineName:"",images:[],description:"",wilaya:"",city:"",isUrgent:!1,country:"",prescriptionImages:[],hasWhatsapp:!1,whatsapp:"",hasTelegram:!1,telegram:"",financialAbility:"none",offeredAmount:"",needDelivery:!1,userPriority:"normal",confirmInfo:!1}),u=(h,y)=>{h.target.files&&h.target.files.length>0&&d({...l,[y]:Array.from(h.target.files)})},p=()=>!l.requesterName||!l.contactNumber||!l.medicineName||!l.city?(t({title:e("alkhayr_public.submit.errors.required"),description:e("alkhayr_public.submit.errors.required"),variant:"destructive"}),!1):o==="local"&&!l.wilaya?(t({title:e("alkhayr_public.submit.errors.required"),description:e("alkhayr_public.submit.errors.wilaya"),variant:"destructive"}),!1):o==="foreign"&&!l.country?(t({title:e("alkhayr_public.submit.errors.required"),description:e("alkhayr_public.submit.errors.country"),variant:"destructive"}),!1):l.confirmInfo?!0:(t({title:e("alkhayr_public.submit.errors.required"),description:e("alkhayr_public.submit.errors.confirm"),variant:"destructive"}),!1),m=async h=>{if(h.preventDefault(),!!p()){n(!0);try{const y=[];let x=null;const b=[];let g=null;const v="medicine_requests";if(l.images.length>0){for(const _ of l.images){const C=_.name.split(".").pop(),A=`${Math.random()}.${C}`,{error:E}=await L.storage.from("medicine-images").upload(A,_);if(!E){const{data:S}=L.storage.from("medicine-images").getPublicUrl(A);y.push(S.publicUrl)}}y.length>0&&(x=y[0])}if(l.prescriptionImages.length>0&&o==="foreign"){for(const _ of l.prescriptionImages){const C=_.name.split(".").pop(),A=`prescr_${Math.random()}.${C}`,{error:E}=await L.storage.from("medicine-images").upload(A,_);if(!E){const{data:S}=L.storage.from("medicine-images").getPublicUrl(A);b.push(S.publicUrl)}}b.length>0&&(g=b[0])}const j={request_type:o,full_name:l.requesterName,phone_number:l.contactNumber,email:l.email,city:l.city,status:"pending",is_urgent:l.isUrgent,urgency:l.userPriority,financial_ability:l.financialAbility,afford_amount:l.financialAbility==="partial"?l.offeredAmount:null,need_delivery:l.needDelivery,whatsapp:l.hasWhatsapp?l.whatsapp:null,telegram:l.hasTelegram?l.telegram:null,detail_images:y,prescription_url:g};j.admin_notes="",o==="local"?(j.medicine_name=l.medicineName,j.wilaya=l.wilaya,j.description=l.description||""):(j.medicine_name=l.medicineName,j.description=l.description||"",j.expected_country=l.country,j.need_type="medicine");const{error:w}=await L.from(v).insert(j);if(w)throw w;console.log("Invoking Alkhayr email (Client-Side)...");const N=o==="local"?"alkhayr_request_local":"alkhayr_request_foreign",k={...j,id:"new",created_at:new Date().toISOString(),expected_country:l.country,urgency:l.userPriority,is_urgent:l.isUrgent};L.functions.invoke("send-email",{body:{type:N,record:k}}).then(({data:_,error:C})=>{C?console.error("Email API Error:",C):console.log("Email API Success:",_)}),i(!0),t({title:e("alkhayr_public.submit.toast.success.title"),description:e("alkhayr_public.submit.toast.success.desc")})}catch(y){console.error("Error submitting:",y),t({title:e("alkhayr_public.submit.errors.submit"),description:e("alkhayr_public.submit.errors.submit"),variant:"destructive"})}finally{n(!1)}}};return a?s.jsx("div",{className:"max-w-2xl mx-auto py-12 px-4",children:s.jsx(B,{className:"border-[#2E7D32]/20 bg-[#F1F8E9]/50 shadow-lg text-center p-8",children:s.jsxs(V,{className:"space-y-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ur,{className:"h-10 w-10 text-[#2E7D32]"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-[#1F2933]",children:e("alkhayr_public.submit.success.title")}),s.jsx("p",{className:"text-[#374151]",children:e("alkhayr_public.submit.success.desc")})]}),s.jsx(D,{onClick:()=>{i(!1),d({requesterName:"",contactNumber:"",email:"",medicineName:"",images:[],description:"",wilaya:"",city:"",isUrgent:!1,country:"",prescriptionImages:[],hasWhatsapp:!1,whatsapp:"",hasTelegram:!1,telegram:"",financialAbility:"none",offeredAmount:"",needDelivery:!1,userPriority:"normal",confirmInfo:!1})},className:"bg-[#2E7D32] hover:bg-[#1B5E20] text-white",children:e("alkhayr_public.submit.success.btn_new")})]})})}):s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(B,{className:"border-none shadow-none bg-transparent",children:[s.jsxs(ce,{className:"text-center pb-8",children:[s.jsx(xe,{className:"text-3xl font-bold text-[#1B5E20]",children:e("alkhayr_public.submit.title")}),s.jsx(nt,{className:"text-lg",children:e("alkhayr_public.submit.desc")})]}),s.jsxs(V,{children:[s.jsx(Qs,{value:o,onValueChange:c,className:"w-full mb-8",children:s.jsxs(Ls,{className:"grid w-full grid-cols-2 max-w-md mx-auto bg-green-50 border border-green-100 h-auto p-1",children:[s.jsxs(De,{value:"local",className:"py-2.5 data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"})," ",e("alkhayr_public.submit.tabs.local")]}),s.jsxs(De,{value:"foreign",className:"py-2.5 data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white",children:[s.jsx(as,{className:"h-4 w-4 mr-2"})," ",e("alkhayr_public.submit.tabs.foreign")]})]})}),s.jsxs("form",{onSubmit:m,className:"space-y-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-green-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#2E7D32]",children:[s.jsx(Mp,{className:"h-5 w-5"})," ",e("alkhayr_public.submit.sections.medication")]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"medicineName",children:e("alkhayr_public.submit.form.medName")}),s.jsx(M,{id:"medicineName",className:"focus-visible:ring-[#2E7D32]",value:l.medicineName,onChange:h=>d({...l,medicineName:h.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"images",children:e("alkhayr_public.submit.form.images")}),s.jsx(M,{id:"images",type:"file",multiple:!0,onChange:h=>u(h,"images"),className:"focus-visible:ring-[#2E7D32]"}),s.jsx("p",{className:"text-xs text-gray-500",children:e("alkhayr_public.submit.form.imagesHelp")})]}),o==="foreign"&&s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(P,{htmlFor:"prescriptionImages",children:e("alkhayr_public.submit.form.prescription")}),s.jsx(M,{id:"prescriptionImages",type:"file",multiple:!0,onChange:h=>u(h,"prescriptionImages"),className:"focus-visible:ring-[#2E7D32]",required:o==="foreign"}),s.jsx("p",{className:"text-xs text-gray-500",children:e("alkhayr_public.submit.form.prescriptionHelp")})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(P,{htmlFor:"description",children:e("alkhayr_public.submit.form.desc")}),s.jsx(He,{id:"description",className:"focus-visible:ring-[#2E7D32]",value:l.description,onChange:h=>d({...l,description:h.target.value}),rows:2,placeholder:e("alkhayr_public.submit.form.descPlaceholder")})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-green-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#2E7D32]",children:[s.jsx(vn,{className:"h-5 w-5"})," ",e("alkhayr_public.submit.sections.requester")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"requesterName",children:e("alkhayr_public.submit.form.requesterName")}),s.jsx(M,{id:"requesterName",className:"focus-visible:ring-[#2E7D32]",value:l.requesterName,onChange:h=>d({...l,requesterName:h.target.value}),required:!0,placeholder:e("alkhayr_public.submit.form.requesterPlaceholder")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"contactNumber",children:e("alkhayr_public.submit.form.phone")}),s.jsx(M,{id:"contactNumber",type:"tel",className:"focus-visible:ring-[#2E7D32]",value:l.contactNumber,onChange:h=>d({...l,contactNumber:h.target.value}),required:!0,placeholder:e("alkhayr_public.submit.form.phonePlaceholder")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"email",children:"Email"}),s.jsx(M,{id:"email",type:"email",className:"focus-visible:ring-[#2E7D32]",value:l.email,onChange:h=>d({...l,email:h.target.value}),placeholder:"email@example.com"})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t text-sm",children:[s.jsx(P,{className:"text-xs text-gray-500 uppercase tracking-wide",children:e("alkhayr_public.submit.form.otherContacts")}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"hasWhatsapp",checked:l.hasWhatsapp,onCheckedChange:h=>d({...l,hasWhatsapp:h})}),s.jsx(P,{htmlFor:"hasWhatsapp",className:"cursor-pointer",children:e("alkhayr_public.submit.form.whatsapp")})]}),l.hasWhatsapp&&s.jsx(M,{placeholder:e("contact.whatsapp_title"),value:l.whatsapp,onChange:h=>d({...l,whatsapp:h.target.value}),className:"mt-1"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"hasTelegram",checked:l.hasTelegram,onCheckedChange:h=>d({...l,hasTelegram:h})}),s.jsx(P,{htmlFor:"hasTelegram",className:"cursor-pointer",children:e("alkhayr_public.submit.form.telegram")})]}),l.hasTelegram&&s.jsx(M,{placeholder:e("contact.telegram_title"),value:l.telegram,onChange:h=>d({...l,telegram:h.target.value}),className:"mt-1"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-green-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#2E7D32]",children:[s.jsx(_s,{className:"h-5 w-5"})," ",e("alkhayr_public.submit.sections.location")]}),s.jsxs("div",{className:"space-y-4",children:[o==="local"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"wilaya",children:e("alkhayr_public.submit.form.wilaya")}),s.jsxs(Ee,{value:l.wilaya,onValueChange:h=>d({...l,wilaya:h}),children:[s.jsx(ke,{className:"focus:ring-[#2E7D32]",children:s.jsx(Pe,{placeholder:e("alkhayr_public.filter.all")})}),s.jsx(Ce,{className:"max-h-[300px]",children:aF.map(h=>s.jsx(K,{value:h,children:h},h))})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"country",children:e("alkhayr_public.submit.form.country")}),s.jsx(M,{id:"country",placeholder:e("alkhayr_public.submit.form.countryPlaceholder"),className:"focus-visible:ring-[#2E7D32]",value:l.country,onChange:h=>d({...l,country:h.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"city",children:e("alkhayr_public.submit.form.city")}),s.jsx(M,{id:"city",className:"focus-visible:ring-[#2E7D32]",value:l.city,onChange:h=>d({...l,city:h.target.value}),required:!0})]})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-green-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#2E7D32]",children:[s.jsx(Qw,{className:"h-5 w-5"})," ",e("alkhayr_public.submit.sections.financial")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ia,{value:l.financialAbility,onValueChange:h=>{const y={financialAbility:h};h==="delivery_only"&&(y.needDelivery=!0),d({...l,...y})},children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{value:"full",id:"fin-full"}),s.jsx(P,{htmlFor:"fin-full",className:"cursor-pointer",children:e("alkhayr_public.submit.form.financialOptions.full")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{value:"partial",id:"fin-partial"}),s.jsx(P,{htmlFor:"fin-partial",className:"cursor-pointer",children:e("alkhayr_public.submit.form.financialOptions.partial")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{value:"none",id:"fin-none"}),s.jsx(P,{htmlFor:"fin-none",className:"cursor-pointer",children:e("alkhayr_public.submit.form.financialOptions.none")})]}),o==="foreign"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{value:"delivery_only",id:"fin-delivery"}),s.jsx(P,{htmlFor:"fin-delivery",className:"cursor-pointer font-medium text-blue-700",children:e("alkhayr_public.submit.form.financialOptions.delivery")})]})]}),l.financialAbility==="partial"&&s.jsxs("div",{className:"ml-6 space-y-2 animate-in fade-in slide-in-from-top-2",children:[s.jsx(P,{htmlFor:"offeredAmount",children:e("alkhayr_public.submit.form.amount")}),s.jsx(M,{id:"offeredAmount",type:"text",placeholder:"Ex: 5000 DA",value:l.offeredAmount,onChange:h=>d({...l,offeredAmount:h.target.value}),className:"focus-visible:ring-[#2E7D32]"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-green-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#2E7D32]",children:[s.jsx(Js,{className:"h-5 w-5"})," ",e("alkhayr_public.submit.sections.logistics")]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(P,{className:"text-base",children:e("alkhayr_public.submit.form.delivery")}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(D,{type:"button",variant:l.needDelivery?"default":"outline",onClick:()=>d({...l,needDelivery:!0}),className:l.needDelivery?"bg-[#2E7D32]":"",children:e("yes",{defaultValue:"Oui"})}),s.jsx(D,{type:"button",variant:l.needDelivery?"outline":"default",onClick:()=>d({...l,needDelivery:!1}),className:l.needDelivery?"":"bg-gray-600",children:e("no",{defaultValue:"Non"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(P,{className:"text-base",children:e("alkhayr_public.submit.form.priority.label")}),s.jsxs(Ee,{value:l.userPriority,onValueChange:h=>d({...l,userPriority:h}),children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"normal",children:e("alkhayr_public.submit.form.priority.normal")}),s.jsx(K,{value:"important",children:e("alkhayr_public.submit.form.priority.important")}),s.jsx(K,{value:"urgent",children:e("alkhayr_public.submit.form.priority.urgent")})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:e("alkhayr_public.submit.form.priority.help")})]})]})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-100 rounded-xl",children:[s.jsx($e,{id:"isUrgent",className:"mt-1 data-[state=checked]:bg-red-600 border-red-300",checked:l.isUrgent,onCheckedChange:h=>d({...l,isUrgent:h})}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"isUrgent",className:"font-semibold text-red-900 cursor-pointer flex items-center gap-2",children:[s.jsx(ya,{className:"w-4 h-4"})," ",e("alkhayr_public.submit.form.urgent_checkbox.label")]}),s.jsx("p",{className:"text-sm text-red-700",children:e("alkhayr_public.submit.form.urgent_checkbox.desc")})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-xl",children:[s.jsx($e,{id:"confirmInfo",checked:l.confirmInfo,onCheckedChange:h=>d({...l,confirmInfo:h}),required:!0}),s.jsx(P,{htmlFor:"confirmInfo",className:"cursor-pointer text-sm leading-relaxed",children:e("alkhayr_public.submit.form.confirm")})]}),s.jsx(D,{type:"submit",className:"w-full h-14 text-lg font-semibold bg-[#2E7D32] hover:bg-[#1B5E20] shadow-md transition-all duration-300 transform hover:scale-[1.01]",disabled:r,children:e(r?"alkhayr_public.submit.form.submitting":"alkhayr_public.submit.form.submitBtn")})]})]})]})})},oF=["Toutes","Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","Bjaa","Biskra","Bchar","Blida","Bouira","Tamanrasset","Tbessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","Stif","Sada","Skikda","Sidi Bel Abbs","Annaba","Guelma","Constantine","Mda","Mostaganem","M'Sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou Arrridj","Boumerds","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","An Defla","Nama","An Tmouchent","Ghardaa","Relizane","Timimoun","Bordj Badji Mokhtar","Ouled Djellal","Bni Abbs","In Salah","In Guezzam","Touggourt","Djanet","El M'Ghair","El Menia"],lF=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!0),[a,i]=f.useState([]),[o,c]=f.useState([]),[l,d]=f.useState(null),[u,p]=f.useState(!1),[m,h]=f.useState({whatsapp:"213555555555",telegram:"waseet",facebook:"waseet",instagram:"waseet"}),[y,x]=f.useState("all"),[b,g]=f.useState("Toutes"),[v,j]=f.useState(""),[w,N]=f.useState({isOpen:!1,images:[],currentIndex:0});f.useEffect(()=>{_(),k()},[]),f.useEffect(()=>{C()},[y,b,v,a]);const k=async()=>{try{const{data:S}=await L.from("settings").select("*");if(S){const T={...m};S.forEach(R=>{R.key==="alkhayr_whatsapp"&&(T.whatsapp=R.value),R.key==="alkhayr_telegram"&&(T.telegram=R.value),R.key==="alkhayr_facebook"&&(T.facebook=R.value),R.key==="alkhayr_instagram"&&(T.instagram=R.value)}),h(T)}}catch(S){console.error("Error fetching settings",S)}},_=async()=>{n(!0);try{const{data:S,error:T}=await L.from("medicine_requests").select("*").in("status",["in_progress","accepted","handled","completed"]).order("created_at",{ascending:!1});if(T)throw T;const R=z=>({id:z.id,display_name:z.display_name,display_wilaya:z.display_wilaya,display_area:z.display_area,display_summary:z.display_summary,display_description:z.display_description,display_main_image:z.display_main_image,display_images:z.display_images||[],display_is_urgent:z.display_is_urgent||!1,category:z.request_type,status:z.status,created_at:z.created_at});let I=(S||[]).map(R);I=I.filter(z=>z.display_name&&z.display_name.trim().length>0),I.sort((z,U)=>z.display_is_urgent!==U.display_is_urgent?z.display_is_urgent?-1:1:new Date(U.created_at).getTime()-new Date(z.created_at).getTime()),i(I)}catch(S){console.error("Error fetching requests:",S),t({title:e("alkhayr_public.submit.errors.submit"),description:e("alkhayr_public.search_errors.fetch"),variant:"destructive"})}finally{n(!1)}},C=()=>{let S=[...a];if(y!=="all"&&(S=S.filter(T=>T.category===y)),b!=="Toutes"&&(S=S.filter(T=>T.display_wilaya&&T.display_wilaya.includes(b))),v.trim()){const T=v.toLowerCase();S=S.filter(R=>{var I,z,U;return((I=R.display_name)==null?void 0:I.toLowerCase().includes(T))||((z=R.display_summary)==null?void 0:z.toLowerCase().includes(T))||((U=R.display_description)==null?void 0:U.toLowerCase().includes(T))})}c(S)},A=()=>p(!0),E=S=>{const T=new Date(S),I=Math.floor((new Date().getTime()-T.getTime())/(1e3*60*60*24));return I===0?e("alkhayr_public.details.relative_time.today"):I===1?e("alkhayr_public.details.relative_time.yesterday"):e("alkhayr_public.details.relative_time.days_ago",{days:I})};return s.jsxs("div",{className:"space-y-8",children:[s.jsx(B,{className:"border border-green-100 shadow-sm bg-white",children:s.jsxs(V,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:s.jsx(Pg,{className:"h-5 w-5 text-[#2E7D32]"})}),s.jsx("h3",{className:"font-bold text-lg text-[#1F2933]",children:e("alkhayr_public.filter.title")})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("alkhayr_public.filter.type")}),s.jsx(Qs,{value:y,onValueChange:x,children:s.jsxs(Ls,{className:"w-full bg-green-50 border border-green-100",children:[s.jsx(De,{value:"all",className:"flex-1 data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white",children:e("alkhayr_public.filter.all")}),s.jsx(De,{value:"local",className:"flex-1 data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white",children:e("alkhayr_public.filter.local")}),s.jsx(De,{value:"foreign",className:"flex-1 data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white",children:e("alkhayr_public.filter.foreign")})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("alkhayr_public.filter.wilaya")}),s.jsxs(Ee,{value:b,onValueChange:g,disabled:y==="foreign",children:[s.jsx(ke,{className:"border-green-100 focus:ring-[#2E7D32] h-11",children:s.jsx(Pe,{})}),s.jsx(Ce,{className:"max-h-[300px]",children:oF.map(S=>s.jsx(K,{value:S,children:S},S))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("alkhayr_public.filter.search")}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(M,{placeholder:e("alkhayr_public.filter.placeholder"),value:v,onChange:S=>j(S.target.value),className:"pl-9 border-green-100 focus-visible:ring-[#2E7D32]"})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-green-50 pt-4",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-500",children:[o.length," ",e("alkhayr_public.filter.results")]}),s.jsx(D,{variant:"ghost",size:"sm",className:"text-[#2E7D32] hover:bg-green-50",onClick:()=>{x("all"),g("Toutes"),j("")},children:e("alkhayr_public.filter.reset")})]})]})}),s.jsx(at,{open:u,onOpenChange:p,children:s.jsxs(st,{className:"sm:max-w-md w-[95%] rounded-xl",children:[s.jsxs(vt,{children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(is,{className:"w-5 h-5 text-green-600"}),e("alkhayr_public.contact_dialog.title")]}),s.jsx(Is,{children:e("alkhayr_public.contact_dialog.desc")})]}),s.jsxs("div",{className:"grid gap-3 py-4 grid-cols-2",children:[m.whatsapp&&s.jsxs(D,{variant:"outline",className:"w-full flex flex-col items-center justify-center gap-2 h-auto py-4 text-sm hover:bg-green-50 hover:border-green-200",onClick:()=>window.open(`https://wa.me/${m.whatsapp.replace(/[^0-9]/g,"")}`,"_blank"),children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:s.jsx(pn,{className:"h-5 w-5 text-green-600"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:e("alkhayr_public.contact_dialog.whatsapp")})]}),m.facebook&&s.jsxs(D,{variant:"outline",className:"w-full flex flex-col items-center justify-center gap-2 h-auto py-4 text-sm hover:bg-blue-50 hover:border-blue-200",onClick:()=>window.open(`https://facebook.com/${m.facebook}`,"_blank"),children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:s.jsx(Qd,{className:"h-5 w-5 text-blue-600"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:e("alkhayr_public.contact_dialog.facebook")})]}),m.instagram&&s.jsxs(D,{variant:"outline",className:"w-full flex flex-col items-center justify-center gap-2 h-auto py-4 text-sm hover:bg-pink-50 hover:border-pink-200",onClick:()=>window.open(`https://instagram.com/${m.instagram}`,"_blank"),children:[s.jsx("div",{className:"bg-pink-100 p-2 rounded-full",children:s.jsx(Xd,{className:"h-5 w-5 text-pink-600"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:e("alkhayr_public.contact_dialog.instagram")})]})]})]})}),s.jsx(at,{open:!!l,onOpenChange:S=>!S&&d(null),children:s.jsx(st,{className:"max-w-3xl max-h-[90vh] overflow-y-auto p-0 gap-0 border-none rounded-xl",children:l&&s.jsxs("div",{className:"flex flex-col bg-white",children:[s.jsxs("div",{className:"relative h-48 sm:h-64 w-full bg-gray-100",children:[l.display_main_image?s.jsx("img",{src:l.display_main_image,className:"w-full h-full object-contain bg-black/5"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-green-50 text-green-200",children:s.jsx(Mp,{className:"w-20 h-20"})}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(Q,{className:l.category==="local"?"bg-green-600":"bg-blue-600",children:l.category==="local"?e("alkhayr_public.card.local"):e("alkhayr_public.card.foreign")})}),s.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white rounded-full p-2 backdrop-blur-sm transition-colors",children:s.jsx(Ct,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[l.display_is_urgent&&s.jsxs(Q,{variant:"destructive",className:"flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"})," ",e("alkhayr_public.details.urgent")]}),s.jsxs(Q,{variant:"outline",className:"text-gray-500 border-gray-200",children:[s.jsx($l,{className:"w-3 h-3 mr-1"})," ",E(l.created_at)]}),s.jsxs(Q,{variant:"outline",className:"text-gray-500 border-gray-200",children:[s.jsx(_s,{className:"w-3 h-3 mr-1"}),l.display_wilaya," ",l.display_area&&`- ${l.display_area}`]})]}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 leading-tight",children:l.display_name})]}),s.jsx("div",{className:"prose prose-green max-w-none text-gray-700 leading-relaxed whitespace-pre-line",children:l.display_description||s.jsx("span",{className:"text-gray-400 italic",children:e("alkhayr_public.details.no_description")})}),l.display_images&&l.display_images.length>0&&s.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:e("alkhayr_public.details.photos_title")}),s.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:l.display_images.map((S,T)=>s.jsx("img",{src:S,className:"w-24 h-24 object-cover rounded-lg border border-gray-200 cursor-zoom-in hover:opacity-90 transition-opacity",onClick:()=>N({isOpen:!0,images:[l.display_main_image,...l.display_images].filter(Boolean),currentIndex:T+1})},T))})]}),s.jsxs("div",{className:"pt-6 mt-4 border-t border-gray-100",children:[s.jsxs(D,{size:"lg",className:"w-full bg-[#2E7D32] hover:bg-[#1B5E20] text-white shadow-lg text-lg h-14",onClick:A,children:[s.jsx(Sr,{className:"w-5 h-5 mr-2"}),e("alkhayr_public.details.contact_button")]}),s.jsxs("p",{className:"text-center text-xs text-gray-400 mt-3",children:[e("alkhayr_public.details.ref"),": #",l.id.slice(0,8),"  ",e("alkhayr_public.details.managed_by")]})]})]})]})})}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):o.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-gray-200",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Xt,{className:"w-8 h-8 text-gray-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e("alkhayr_public.empty.title")}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e("alkhayr_public.empty.desc")})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(S=>s.jsxs(B,{onClick:()=>d(S),className:"group cursor-pointer hover:shadow-xl transition-all duration-300 border-none shadow-md overflow-hidden bg-white flex flex-col h-full transform hover:-translate-y-1",children:[s.jsxs("div",{className:"aspect-[4/3] bg-gray-200 relative overflow-hidden",children:[S.display_main_image?s.jsx("img",{src:S.display_main_image,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-500 bg-black/5"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-300",children:s.jsx(Mp,{className:"w-12 h-12"})}),S.display_is_urgent&&s.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-red-600 text-white text-xs font-bold uppercase py-1 px-3 flex items-center gap-1 justify-center tracking-widest",children:[s.jsx(jr,{className:"w-3 h-3"})," ",e("alkhayr_public.card.urgent")]}),s.jsx("div",{className:"absolute bottom-2 left-2 right-2 flex justify-between items-end",children:s.jsx(Q,{className:`${S.category==="local"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} text-white border-none shadow-sm`,children:S.category==="local"?e("alkhayr_public.card.local"):e("alkhayr_public.card.foreign")})})]}),s.jsxs(V,{className:"p-5 flex flex-col flex-1",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2 group-hover:text-green-700 transition-colors",children:S.display_name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:S.display_summary}),s.jsxs("div",{className:"mt-auto pt-4 flex items-center justify-between text-xs text-gray-500 border-t border-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_s,{className:"w-3 h-3"}),s.jsxs("span",{className:"truncate max-w-[120px]",children:[S.display_wilaya,S.display_area&&`, ${S.display_area}`]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($l,{className:"w-3 h-3"}),s.jsx("span",{children:E(S.created_at)})]})]})]})]},S.id))}),w.isOpen&&yn.createPortal(s.jsxs("div",{className:"fixed inset-0 z-[5000] bg-black/95 flex items-center justify-center p-4",children:[s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 p-2 z-[5001]",onClick:()=>N({...w,isOpen:!1}),children:s.jsx(Ct,{className:"w-8 h-8"})}),s.jsxs("div",{className:"relative w-full max-w-5xl h-[85vh] flex items-center justify-center",children:[w.images.length>1&&s.jsx("button",{className:"absolute left-4 z-[5001] bg-black/50 p-2 rounded-full text-white hover:bg-black/80",onClick:S=>{S.stopPropagation();const T=(w.currentIndex-1+w.images.length)%w.images.length;N({...w,currentIndex:T})},children:s.jsx(Dp,{className:"w-8 h-8"})}),s.jsx("img",{src:w.images[w.currentIndex],className:"max-h-full max-w-full object-contain select-none shadow-2xl"}),w.images.length>1&&s.jsx("button",{className:"absolute right-4 z-[5001] bg-black/50 p-2 rounded-full text-white hover:bg-black/80",onClick:S=>{S.stopPropagation();const T=(w.currentIndex+1)%w.images.length;N({...w,currentIndex:T})},children:s.jsx(Ip,{className:"w-8 h-8"})}),s.jsxs("div",{className:"absolute bottom-4 text-white font-medium bg-black/50 px-3 py-1 rounded-full text-sm",children:[w.currentIndex+1," / ",w.images.length]})]})]}),document.body)]})},cF=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState(""),[o,c]=f.useState(!1),[l,d]=f.useState([]),u=async()=>{if(!a.trim()){t({title:e("alkhayr_public.submit.toast.error"),description:e("alkhayr_public.profile.login_req"),variant:"destructive"});return}n(!0);try{await p(a),c(!0)}catch(h){console.error(h),t({title:e("alkhayr_public.submit.toast.error"),description:e("alkhayr_public.profile.login_error"),variant:"destructive"})}finally{n(!1)}},p=async h=>{const x=h.replace(/\D/g,"").slice(-9),g=[`0${x}`,x,`213${x}`,`+213${x}`,`00213${x}`].map(N=>`phone_number.eq.${N}`).join(","),{data:v,error:j}=await L.from("medicine_requests").select("*").or(g);if(j)throw new Error("Fetch failed");const w=(v||[]).map(N=>({id:N.id,medicine_name:N.medicine_name||N.title||"Sans Titre",status:N.status,created_at:N.created_at,type:N.request_type,category:N.request_type,admin_notes:N.admin_notes}));d(w.sort((N,k)=>new Date(k.created_at).getTime()-new Date(N.created_at).getTime()))},m=async(h,y)=>{const{error:x}=await L.from("medicine_requests").delete().eq("id",h);x?t({title:e("alkhayr_public.submit.toast.error"),description:e("alkhayr_public.profile.delete_error"),variant:"destructive"}):(t({title:e("alkhayr_public.submit.toast.success.title"),description:e("alkhayr_public.profile.delete_success")}),d(l.filter(b=>b.id!==h)))};return o?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-green-100 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:s.jsx(Ds,{className:"h-6 w-6 text-[#2E7D32]"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-[#1B5E20]",children:e("alkhayr_public.profile.dashboard")}),s.jsx("p",{className:"text-sm text-[#374151]",children:a})]})]}),s.jsxs(D,{variant:"ghost",onClick:()=>{c(!1),i(""),d([])},className:"text-gray-500 hover:text-[#2E7D32]",children:[s.jsx(Ag,{className:"h-4 w-4 mr-2"})," ",e("alkhayr_public.profile.logout")]})]}),s.jsx("div",{className:"grid gap-4",children:l.length===0?s.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-dashed border-gray-200",children:s.jsx("p",{className:"text-[#1F2933]",children:e("alkhayr_public.profile.no_requests")})}):l.map(h=>s.jsx(B,{className:"border-l-4 border-l-[#2E7D32] shadow-sm",children:s.jsxs(V,{className:"p-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg",children:h.medicine_name}),s.jsx(Q,{variant:"outline",children:h.category==="local"?e("alkhayr_public.submit.tabs.local").split(" ")[0]:e("alkhayr_public.submit.tabs.foreign")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#374151]",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"h-3 w-3"}),new Date(h.created_at).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[h.status==="pending"&&s.jsx(Q,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:e("alkhayr_public.profile.status.pending")}),h.status==="accepted"&&s.jsx(Q,{variant:"secondary",className:"bg-green-100 text-green-800",children:e("alkhayr_public.profile.status.approved")}),h.status==="in_progress"&&s.jsx(Q,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:e("alkhayr_public.profile.status.process")||"In Progress"}),h.status==="fulfilled"&&s.jsx(Q,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:e("alkhayr_public.profile.status.fulfilled")}),h.status==="rejected"&&s.jsx(Q,{variant:"secondary",className:"bg-red-100 text-red-800",children:e("alkhayr_public.profile.status.rejected")||"Rejected"})]})]}),h.admin_notes&&s.jsxs("div",{className:"mt-3 text-sm bg-gray-50 p-2 rounded border border-gray-100 text-gray-700",children:[s.jsx("span",{className:"font-semibold text-gray-900 block mb-1",children:"Message:"}),h.admin_notes]})]}),s.jsx(D,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>m(h.id,h.category),children:s.jsx(Co,{className:"h-5 w-5"})})]})},`${h.category}-${h.id}`))})]}):s.jsx("div",{className:"max-w-md mx-auto py-12",children:s.jsxs(B,{className:"border border-green-100 shadow-lg",children:[s.jsxs(ce,{className:"text-center",children:[s.jsx("div",{className:"mx-auto bg-green-50 p-3 rounded-full mb-4 w-16 h-16 flex items-center justify-center",children:s.jsx(Sr,{className:"h-8 w-8 text-[#2E7D32]"})}),s.jsx(xe,{className:"text-xl font-bold text-[#1B5E20]",children:e("alkhayr_public.profile.title")}),s.jsx(nt,{children:e("alkhayr_public.profile.desc")})]}),s.jsx(V,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(M,{type:"tel",placeholder:e("alkhayr_public.profile.phonePlaceholder"),value:a,onChange:h=>i(h.target.value),className:"focus-visible:ring-[#2E7D32]"}),s.jsx(D,{onClick:u,disabled:r,className:"bg-[#2E7D32] hover:bg-[#1B5E20] text-white",children:e(r?"alkhayr_public.profile.loading":"alkhayr_public.profile.access")})]})})]})})},dF=["Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","Bjaa","Biskra","Bchar","Blida","Bouira","Tamanrasset","Tbessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","Stif","Sada","Skikda","Sidi Bel Abbs","Annaba","Guelma","Constantine","Mda","Mostaganem","M'Sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou Arrridj","Boumerds","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","An Defla","Nama","An Tmouchent","Ghardaa","Relizane","Timimoun","Bordj Badji Mokhtar","Ouled Djellal","Bni Abbs","In Salah","In Guezzam","Touggourt","Djanet","El M'Ghair","El Menia"].sort();function uF({onSuccess:e,onCancel:t}){const{t:r}=ye(),{toast:n}=Ne(),[a,i]=f.useState(!1);f.useState([]);const[o,c]=f.useState([]),[l,d]=f.useState(!1),[u,p]=f.useState({full_name:"",phone:"",email:"",has_whatsapp:!1,has_telegram:!1,item_name:"",category:"",condition:"",location:"",description:"",consent:!1}),m=async x=>{if(!x.target.files||x.target.files.length===0)return;d(!0);const b=Array.from(x.target.files),g=[];for(const v of b){const j=`${Math.random().toString(36).substring(7)}-${v.name}`,{data:w,error:N}=await L.storage.from("donation-images").upload(j,v);if(w){const{data:k}=L.storage.from("donation-images").getPublicUrl(j);g.push(k.publicUrl)}}c([...o,...g]),d(!1)},h=x=>{const b=[...o];b.splice(x,1),c(b)},y=async x=>{if(x.preventDefault(),!u.consent){n({title:r("alkhayr_public.submit.errors.required"),description:r("alkhayr_public.submit.errors.confirm"),variant:"destructive"});return}if(o.length===0){n({title:"Photos Requises",description:"Veuillez ajouter au moins une photo.",variant:"destructive"});return}i(!0);try{const{error:b}=await L.from("material_donations").insert({full_name:u.full_name,phone_number:u.phone,email:u.email,whatsapp:u.has_whatsapp,telegram:u.has_telegram,item_name:u.item_name,category:u.category,condition:u.condition,location:u.location,description:u.description,images:o,main_image:o[0],status:"pending"});if(b||(console.log("Invoking Material Donation email..."),L.functions.invoke("send-email",{body:{type:"material_donation",record:{full_name:u.full_name,phone_number:u.phone,email:u.email,item_name:u.item_name,category:u.category,condition:u.condition,location:u.location,id:"new",created_at:new Date().toISOString()}}}).then(({data:g,error:v})=>{v?console.error("Email API Error:",v):console.log("Email API Success:",g)}),b))throw b;n({title:r("alkhayr_public.donations.form.success_title"),description:r("alkhayr_public.donations.form.success_desc"),className:"bg-green-600 text-white"}),e()}catch(b){console.error(b),n({title:"Error",description:r("alkhayr_public.submit.errors.submit"),variant:"destructive"})}finally{i(!1)}};return s.jsxs(B,{className:"border-green-100 shadow-lg max-w-3xl mx-auto",children:[s.jsx(ce,{className:"bg-green-50/50 border-b border-green-100",children:s.jsx(xe,{className:"text-xl text-green-800",children:r("alkhayr_public.donations.form.title")})}),s.jsx(V,{className:"p-6",children:s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-lg space-y-4 border border-blue-100",children:[s.jsx("h3",{className:"font-semibold text-blue-900 text-sm",children:r("alkhayr_public.donations.form.donor_info")}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.name")}),s.jsx(M,{required:!0,value:u.full_name,onChange:x=>p({...u,full_name:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.phone")}),s.jsx(M,{required:!0,type:"tel",value:u.phone,onChange:x=>p({...u,phone:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Email"}),s.jsx(M,{type:"email",placeholder:"email@example.com",value:u.email,onChange:x=>p({...u,email:x.target.value})})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"whatsapp",checked:u.has_whatsapp,onCheckedChange:x=>p({...u,has_whatsapp:x})}),s.jsx(P,{htmlFor:"whatsapp",className:"cursor-pointer font-normal",children:r("alkhayr_public.donations.form.has_whatsapp")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"telegram",checked:u.has_telegram,onCheckedChange:x=>p({...u,has_telegram:x})}),s.jsx(P,{htmlFor:"telegram",className:"cursor-pointer font-normal",children:r("alkhayr_public.donations.form.has_telegram")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:r("alkhayr_public.donations.form.item_details")}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.item_name")}),s.jsx(M,{required:!0,value:u.item_name,onChange:x=>p({...u,item_name:x.target.value}),placeholder:"Ex: Chaise roulante, Glucomtre..."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.category")}),s.jsxs(Ee,{onValueChange:x=>p({...u,category:x}),required:!0,children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:r("alkhayr_public.donations.form.category")})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"medicine",children:r("alkhayr_public.donations.card.medicine")}),s.jsx(K,{value:"equipment",children:r("alkhayr_public.donations.card.equipment")}),s.jsx(K,{value:"other",children:r("alkhayr_public.donations.card.other")})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.condition")}),s.jsxs(Ee,{onValueChange:x=>p({...u,condition:x}),required:!0,children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:r("alkhayr_public.donations.form.condition")})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"new",children:r("alkhayr_public.donations.card.new")}),s.jsx(K,{value:"used_good",children:r("alkhayr_public.donations.card.used_good")}),s.jsx(K,{value:"used_fair",children:r("alkhayr_public.donations.card.used_fair")})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.location")}),s.jsxs(Ee,{onValueChange:x=>p({...u,location:x}),required:!0,children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:"Wilaya"})}),s.jsx(Ce,{className:"max-h-[200px]",children:dF.map(x=>s.jsx(K,{value:x,children:x},x))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.description")}),s.jsx(He,{className:"min-h-[100px]",value:u.description,onChange:x=>p({...u,description:x.target.value}),placeholder:"..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:r("alkhayr_public.donations.form.photos")}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"flex flex-col items-center justify-center w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 bg-white",children:[l?s.jsx(we,{className:"h-6 w-6 animate-spin text-gray-400"}):s.jsx(ti,{className:"h-6 w-6 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:r("alkhayr_public.donations.form.uploading")}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:m,disabled:l})]}),o.map((x,b)=>s.jsxs("div",{className:"relative w-24 h-24 group",children:[s.jsx("img",{src:x,className:"w-full h-full object-cover rounded-lg border"}),s.jsx("button",{type:"button",className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>h(b),children:s.jsx(Ct,{className:"h-3 w-3"})})]},b))]})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 pt-4 border-t",children:[s.jsx($e,{id:"consent",checked:u.consent,onCheckedChange:x=>p({...u,consent:x})}),s.jsx(P,{htmlFor:"consent",className:"text-sm text-gray-600 font-normal cursor-pointer leading-tight",children:r("alkhayr_public.donations.form.consent")})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(D,{type:"button",variant:"outline",className:"flex-1",onClick:t,children:"Annuler"}),s.jsxs(D,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700",disabled:a||l||!u.consent,children:[a?s.jsx(we,{className:"h-4 w-4 animate-spin mr-2"}):null,r("alkhayr_public.donations.form.submit")]})]})]})})]})}function hF({open:e,onOpenChange:t,donation:r}){const{t:n}=ye(),[a,i]=f.useState(0),[o,c]=f.useState(!1);if(!r)return null;const l=[];r.main_image&&l.push(r.main_image),r.images&&r.images.length>0&&r.images.forEach(h=>{h!==r.main_image&&!l.includes(h)&&l.push(h)});const d=l.length>0,u=h=>{h==null||h.stopPropagation(),i(y=>(y+1)%l.length)},p=h=>{h==null||h.stopPropagation(),i(y=>(y-1+l.length)%l.length)},m=h=>{const y=new Date(h),b=Math.floor((new Date().getTime()-y.getTime())/(1e3*60*60*24));return b===0?n("alkhayr_public.details.relative_time.today"):b===1?n("alkhayr_public.details.relative_time.yesterday"):n("alkhayr_public.details.relative_time.days_ago",{days:b})};return s.jsxs(s.Fragment,{children:[s.jsx(at,{open:e,onOpenChange:t,children:s.jsxs(st,{className:"max-w-6xl max-h-[90vh] p-0 overflow-hidden flex flex-col md:flex-row md:h-[700px] gap-0",children:[s.jsx(Cw,{children:s.jsxs(vt,{children:[s.jsxs(bt,{children:[n("alkhayr_public.donations.card.details_title")," - ",r.item_name]}),s.jsx(Is,{children:"Description"})]})}),s.jsxs("div",{className:"relative w-full md:w-1/2 bg-black/5 flex items-center justify-center overflow-hidden shrink-0 group md:h-full h-[300px]",children:[d?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:l[a],alt:r.item_name,className:"w-full h-full object-contain cursor-zoom-in transition-transform duration-300",onClick:()=>c(!0)}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:s.jsxs("span",{className:"text-white text-xs flex items-center gap-1 bg-black/40 px-2 py-1 rounded-full backdrop-blur-sm",children:[s.jsx(DT,{className:"h-3 w-3"})," Zoom"]})}),l.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(D,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white rounded-full z-10",onClick:p,children:s.jsx(Dp,{className:"h-6 w-6"})}),s.jsx(D,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white rounded-full z-10",onClick:u,children:s.jsx(Ip,{className:"h-6 w-6"})}),s.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 bg-black/50 px-2 py-1 rounded-full text-xs text-white z-10",children:[a+1," / ",l.length]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(Ds,{className:"h-16 w-16 opacity-20 mb-2"}),s.jsx("span",{children:n("alkhayr_public.donations.card.no_images")})]}),s.jsx(D,{variant:"ghost",size:"icon",className:"absolute left-2 top-2 bg-white/80 hover:bg-white rounded-full text-black md:hidden z-20",onClick:()=>t(!1),children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white relative",children:[s.jsx(D,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 z-10 hidden md:flex text-gray-500 hover:text-black",onClick:()=>t(!1),children:s.jsx(Ct,{className:"h-5 w-5"})}),s.jsx("div",{className:"p-6 md:p-8 flex-1 overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[s.jsx(Q,{variant:"secondary",className:"bg-green-100 text-green-800 hover:bg-green-200",children:r.category==="medicine"?n("alkhayr_public.donations.card.medicine"):r.category==="equipment"?n("alkhayr_public.donations.card.equipment"):n("alkhayr_public.donations.card.other")}),s.jsxs(Q,{variant:"outline",className:"border-green-200 text-green-700",children:[n("alkhayr_public.donations.card.qty"),": ",r.quantity||1]})]}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 leading-tight mb-2 pr-8",children:r.item_name}),s.jsxs("div",{className:"flex items-center text-slate-500 text-sm",children:[s.jsx(_s,{className:"h-4 w-4 mr-1 text-green-600"}),s.jsx("span",{className:"font-medium",children:r.location}),s.jsx("span",{className:"mx-2 text-slate-300",children:""}),s.jsx("span",{className:"capitalize",children:r.condition==="new"?n("alkhayr_public.donations.card.new"):r.condition==="used_good"?n("alkhayr_public.donations.card.used_good"):n("alkhayr_public.donations.card.used_fair")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-slate-900 text-sm uppercase tracking-wide",children:n("alkhayr_public.donations.card.description_title")}),s.jsx("div",{className:"prose prose-sm text-slate-600 leading-relaxed bg-slate-50 p-4 rounded-lg border border-slate-100",children:r.admin_description||r.description||n("alkhayr_public.donations.card.no_description")})]}),s.jsxs("div",{className:"pt-4 flex items-center justify-between text-xs text-slate-400 border-t",children:[s.jsxs("span",{children:[n("alkhayr_public.donations.card.added_on")," ",m(r.created_at)]}),s.jsxs("span",{children:["ID: ",r.id.replace(/\D/g,"").slice(0,8)]})]})]})}),s.jsx("div",{className:"p-4 md:p-6 border-t bg-gray-50/50 mt-auto",children:s.jsx(D,{className:"w-full bg-green-600 hover:bg-green-700 text-white h-12 text-lg font-medium shadow-sm hover:shadow-md transition-all gap-2",asChild:!0,children:s.jsxs("a",{href:"/contact",children:[s.jsx(Tg,{className:"h-5 w-5"}),n("alkhayr_public.donations.card.contact_collect")]})})})]})]})}),o&&yn.createPortal(s.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/95 flex items-center justify-center animate-in fade-in duration-200",onClick:()=>c(!1),children:[s.jsx("div",{className:"absolute top-4 right-4 z-[10000] flex gap-2",children:s.jsx(D,{variant:"ghost",size:"icon",className:"text-white/70 hover:text-white hover:bg-white/10 rounded-full",onClick:()=>c(!1),children:s.jsx(Ct,{className:"h-8 w-8"})})}),s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx("img",{src:l[a],alt:"Full screen view",className:"w-auto h-auto max-w-[95vw] max-h-[95vh] object-contain shadow-2xl",onClick:h=>h.stopPropagation()}),l.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(D,{className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full border-0 h-12 w-12",onClick:h=>{h.stopPropagation(),p()},children:s.jsx(Dp,{className:"h-8 w-8"})}),s.jsx(D,{className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full border-0 h-12 w-12",onClick:h=>{h.stopPropagation(),u()},children:s.jsx(Ip,{className:"h-8 w-8"})}),s.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-white/80 bg-black/40 px-4 py-1 rounded-full",children:[a+1," / ",l.length]})]})]})]}),document.body)]})}function mF({}){const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,c]=f.useState(null),[l,d]=f.useState(!1),u=async()=>{i(!0);try{const{data:m,error:h}=await L.from("material_donations").select("*").eq("status","approved").order("created_at",{ascending:!1});if(h)throw h;n(m||[])}catch(m){console.error(m),t({title:e("alkhayr_public.submit.errors.submit"),description:"Failed to load donations.",variant:"destructive"})}finally{i(!1)}};f.useEffect(()=>{u()},[]);const p=m=>{c(m),d(!0)};return a?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsx(we,{className:"h-10 w-10 animate-spin text-green-600"})}):r.length===0?s.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-lg",children:[s.jsx(cT,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("h3",{className:"text-lg font-medium",children:e("alkhayr_public.donations.empty.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("alkhayr_public.donations.empty.desc")})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:r.map(m=>s.jsxs(B,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300 border-green-100 cursor-pointer group flex flex-col h-full",onClick:()=>p(m),children:[s.jsxs("div",{className:"aspect-video relative bg-gray-100 overflow-hidden",children:[m.main_image||m.images&&m.images.length>0?s.jsx("img",{src:m.main_image||m.images[0],alt:m.item_name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-green-50",children:s.jsx(Ds,{className:"h-10 w-10 opacity-20"})}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 duration-300",children:s.jsxs(Q,{className:"bg-black/70 hover:bg-black/80 text-white gap-1 pointer-events-none",children:[s.jsx(zr,{className:"h-3 w-3"})," ",e("alkhayr_public.donations.card.view_details")]})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Q,{variant:"secondary",className:"bg-white/90 text-green-700 backdrop-blur-sm shadow-sm",children:m.category==="medicine"?e("alkhayr_public.donations.card.medicine"):m.category==="equipment"?e("alkhayr_public.donations.card.equipment"):e("alkhayr_public.donations.card.other")})})]}),s.jsxs(ce,{className:"pb-2",children:[s.jsx(xe,{className:"text-lg font-bold text-green-900 line-clamp-1 group-hover:text-green-700 transition-colors",children:m.item_name}),s.jsxs("div",{className:"flex items-center text-sm text-green-700 gap-1.5 font-medium",children:[s.jsx(_s,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:m.location})]})]}),s.jsxs(V,{className:"pb-4 flex-grow",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-3 min-h-[60px]",children:m.admin_description||e("alkhayr_public.donations.card.no_description")}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(Q,{variant:"outline",className:"text-xs border-green-200 text-green-600 bg-green-50/50",children:m.condition==="new"?e("alkhayr_public.donations.card.new"):m.condition==="used_good"?e("alkhayr_public.donations.card.used_good"):e("alkhayr_public.donations.card.used_fair")}),m.quantity>1&&s.jsxs(Q,{variant:"outline",className:"text-xs border-blue-200 text-blue-600 bg-blue-50/50",children:[e("alkhayr_public.donations.card.qty"),": ",m.quantity]})]})]}),s.jsx(Yn,{className:"pt-0 mt-auto",children:s.jsx(D,{className:"w-full gap-2 bg-green-600 hover:bg-green-700 text-white z-10 relative",asChild:!0,onClick:h=>h.stopPropagation(),children:s.jsxs("a",{href:"/contact",children:[s.jsx(Tg,{className:"h-4 w-4"}),e("alkhayr_public.donations.card.contact")]})})})]},m.id))}),s.jsx(hF,{open:l,onOpenChange:d,donation:o})]})}function pF(){const{t:e}=ye(),[t,r]=f.useState("browse");return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"inline-flex flex-col items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-green-900 mb-2",children:e("alkhayr_public.donations.title")}),s.jsx("p",{className:"text-green-700 max-w-xl mx-auto",children:e("alkhayr_public.donations.subtitle")})]}),s.jsxs("div",{className:"inline-flex bg-green-50 p-1 rounded-lg border border-green-100",children:[s.jsx("button",{onClick:()=>r("browse"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${t==="browse"?"bg-white text-green-700 shadow-sm":"text-green-600 hover:text-green-800"}`,children:e("alkhayr_public.donations.view_items")}),s.jsx("button",{onClick:()=>r("offer"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${t==="offer"?"bg-white text-green-700 shadow-sm":"text-green-600 hover:text-green-800"}`,children:e("alkhayr_public.donations.propose_item")})]})]}),s.jsx("div",{children:t==="browse"?s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4 px-2",children:s.jsx("h3",{className:"font-semibold text-lg text-green-800",children:e("alkhayr_public.donations.available_items")})}),s.jsx(mF,{})]}):s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsx(uF,{onSuccess:()=>r("browse")})})})]})}const fF=()=>{const{t:e}=ye(),[t,r]=fx(),n=t.get("type")==="my-requests"?"profile":t.get("type")==="requests"?"search":t.get("type")==="donate"?"donate":"submit",[a,i]=f.useState(n);f.useEffect(()=>{window.scrollTo(0,0)},[]);const o=c=>{i(c);let l="local";c==="search"&&(l="requests"),c==="profile"&&(l="my-requests"),c==="donate"&&(l="donate"),r({type:l})};return s.jsx(it,{children:s.jsxs("div",{className:"min-h-screen bg-[#F1F8E9]",children:[s.jsx(nF,{}),s.jsx(tt,{id:"alkhayr-main",padding:"md",className:"relative -mt-4 md:-mt-8 z-10",children:s.jsx("div",{className:"container mx-auto max-w-6xl px-4",children:s.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-green-100 p-4 md:p-8",children:s.jsxs(Qs,{value:a,onValueChange:o,className:"space-y-4 md:space-y-8",children:[s.jsx("div",{className:"flex justify-center w-full",children:s.jsxs(Ls,{className:"h-auto p-1.5 bg-green-50/50 border border-green-100 rounded-2xl md:rounded-full grid grid-cols-2 w-full gap-2 md:flex md:w-auto",children:[s.jsxs(De,{value:"submit",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(yt,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("alkhayr_public.tabs.submit")})]}),s.jsxs(De,{value:"search",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(Xt,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("alkhayr_public.tabs.search")})]}),s.jsxs(De,{value:"donate",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(aa,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("alkhayr_public.tabs.donate")})]}),s.jsxs(De,{value:"profile",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#2E7D32] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(vn,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("alkhayr_public.tabs.profile")})]})]})}),s.jsxs("div",{className:"min-h-[400px]",children:[s.jsx(Ke,{value:"submit",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(iF,{})}),s.jsx(Ke,{value:"search",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(lF,{})}),s.jsx(Ke,{value:"donate",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(pF,{})}),s.jsx(Ke,{value:"profile",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(cF,{})})]})]})})})})]})})},Nk=({formData:e,setFormData:t,wilayas:r,t:n})=>{var a;return s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(vn,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:n("alkhayr.local.form.fullName")||"Informations Personnelles"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"fullName",className:"text-xs font-medium",children:[n("alkhayr.local.form.fullName")," *"]}),s.jsx(M,{id:"fullName",value:e.fullName,onChange:i=>t({...e,fullName:i.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"city",className:"text-xs font-medium",children:[n("alkhayr.local.form.city")," *"]}),s.jsx(M,{id:"city",value:e.city,onChange:i=>t({...e,city:i.target.value}),className:"h-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"wilaya",className:"text-xs font-medium",children:"Wilaya *"}),s.jsxs(Ee,{value:(a=e.wilayaId)==null?void 0:a.toString(),onValueChange:i=>{const o=r.find(c=>c.id.toString()===i);o&&t({...e,wilayaId:o.id,wilaya:o.name_fr})},children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:"Slectionner une Wilaya"})}),s.jsx(Ce,{children:r.map(i=>s.jsxs(K,{value:i.id.toString(),children:[i.code," - ",i.name_fr]},i.id))})]})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"phone",className:"text-xs font-medium",children:"Numro de tlphone *"}),s.jsx(M,{id:"phone",placeholder:"Ex: 0550123456",value:e.phone,onChange:i=>t({...e,phone:i.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"email",className:"text-xs font-medium",children:"Email *"}),s.jsx(M,{id:"email",type:"email",placeholder:"Ex: email@example.com",value:e.email,onChange:i=>t({...e,email:i.target.value}),className:"h-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx(P,{className:"text-xs font-medium",children:"Autres moyens de contact (Optionnel)"}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${e.contactType.whatsapp?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{id:"contact_whatsapp",checked:e.contactType.whatsapp,onCheckedChange:i=>t({...e,contactType:{...e.contactType,whatsapp:i}})}),s.jsx(P,{htmlFor:"contact_whatsapp",className:"cursor-pointer font-semibold flex items-center gap-2",children:"WhatsApp"})]}),e.contactType.whatsapp&&s.jsx(M,{placeholder:"Numro WhatsApp",value:e.contactValues.whatsapp,onChange:i=>t({...e,contactValues:{...e.contactValues,whatsapp:i.target.value}}),className:"h-9 bg-white"})]}),s.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${e.contactType.telegram?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{id:"contact_telegram",checked:e.contactType.telegram,onCheckedChange:i=>t({...e,contactType:{...e.contactType,telegram:i}})}),s.jsx(P,{htmlFor:"contact_telegram",className:"cursor-pointer font-semibold flex items-center gap-2",children:"Telegram"})]}),e.contactType.telegram&&s.jsx(M,{placeholder:"Username Telegram",value:e.contactValues.telegram,onChange:i=>t({...e,contactValues:{...e.contactValues,telegram:i.target.value}}),className:"h-9 bg-white"})]})]})]})]})]})]})})};function gF(){const{t:e}=ye(),t=Et(),{toast:r}=Ne(),[n,a]=f.useState(!1),[i,o]=f.useState([]);f.useEffect(()=>{(async()=>{const{data:h}=await L.from("wilayas").select("*").order("code");o(h||[])})()},[]);const[c,l]=f.useState({fullName:"",city:"",email:"",phone:"",contactType:{whatsapp:!1,telegram:!1},contactValues:{whatsapp:"",telegram:""},medicineName:"",prescriptionFile:null,title:"",category:"humanitarian",wilaya:"",wilayaId:null,financialAbility:"cannot_pay",affordAmount:"",needDelivery:"no",urgency:"normal",notes:""}),d=m=>{m.target.files&&m.target.files[0]&&l({...c,prescriptionFile:m.target.files[0]})},u=async m=>{try{const h=m.name.split(".").pop(),x=`prescriptions/${`${Math.random().toString(36).substring(2)}_${Date.now()}.${h}`}`,{error:b}=await L.storage.from("alkhayr-prescriptions").upload(x,m);if(b)throw b;const{data:g}=L.storage.from("alkhayr-prescriptions").getPublicUrl(x);return g.publicUrl}catch(h){return console.error("Error uploading prescription:",h),null}},p=async m=>{m.preventDefault(),a(!0);try{if(!c.fullName.trim()){r({title:e("alkhayr.local.form.fullName"),description:"Required",variant:"destructive"}),a(!1);return}if(!c.city.trim()){r({title:e("alkhayr.local.form.city"),description:"Required",variant:"destructive"}),a(!1);return}if(!c.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)){r({title:"Email",description:"Email valide requis",variant:"destructive"}),a(!1);return}if(!c.phone.trim()){r({title:e("alkhayr.local.form.contact"),description:"Numro de tlphone requis",variant:"destructive"}),a(!1);return}const h=["phone"],y=[`Phone: ${c.phone}`];if(c.contactType.whatsapp){if(!c.contactValues.whatsapp.trim()){r({title:"WhatsApp",description:"Veuillez entrer votre numro WhatsApp",variant:"destructive"}),a(!1);return}h.push("whatsapp"),y.push(`WhatsApp: ${c.contactValues.whatsapp}`)}if(c.contactType.telegram){if(!c.contactValues.telegram.trim()){r({title:"Telegram",description:"Veuillez entrer votre nom d'utilisateur Telegram",variant:"destructive"}),a(!1);return}h.push("telegram"),y.push(`Telegram: ${c.contactValues.telegram}`)}if(!c.medicineName.trim()){r({title:e("alkhayr.local.form.medicineName"),description:"Required",variant:"destructive"}),a(!1);return}let x=null;if(c.prescriptionFile&&(x=await u(c.prescriptionFile),!x)){r({title:e("order.validation.error"),description:"Failed to upload prescription",variant:"destructive"}),a(!1);return}const{error:b}=await L.from("medicine_requests").insert({request_type:"local",full_name:c.fullName,city:c.city,email:c.email,phone_number:c.contactValue||c.phone,title:c.title,category:c.category,wilaya:c.wilaya,wilaya_id:c.wilayaId,medicine_name:c.medicineName,prescription_url:x,financial_ability:c.financialAbility,afford_amount:c.affordAmount?parseFloat(c.affordAmount):null,need_delivery:c.needDelivery,urgency:c.urgency,admin_notes:(c.notes||"")+`

Contact Details: `+y.join(" | "),status:"pending",approved:!1});b?(console.error("Error submitting request:",b),r({title:e("order.error.title"),description:e("order.error.generic"),variant:"destructive"})):(r({title:e("alkhayr.local.success.title"),description:e("alkhayr.local.success.desc")}),t("/alkhayr/requests"))}catch(h){console.error("Error:",h),r({title:e("order.error.title"),description:e("order.error.generic"),variant:"destructive"})}finally{a(!1)}};return s.jsxs("div",{className:"container max-w-3xl mx-auto py-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(yt,{className:"h-10 w-10 text-primary charity-pulse"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold charity-text-gradient",children:e("alkhayr.local.title")})]}),s.jsx("p",{className:"text-base md:text-lg text-foreground/80 font-medium max-w-2xl mx-auto",children:e("alkhayr.local.subtitle")}),s.jsxs("div",{className:"mt-6 bg-primary/5 border border-primary/20 rounded-lg p-4 text-sm text-foreground/80",children:[" ",s.jsx("strong",{children:"Note:"})," Votre demande sera examine par notre quipe avant d'tre approuve et visible aux bnvoles."]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsx(Nk,{formData:c,setFormData:l,wilayas:i,t:e}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(ti,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:e("alkhayr.local.form.medicineName")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"medicineName",className:"text-xs font-medium",children:[e("alkhayr.local.form.medicineName")," *"]}),s.jsx(M,{id:"medicineName",placeholder:e("alkhayr.local.form.medicineNamePlaceholder"),value:c.medicineName,onChange:m=>l({...c,medicineName:m.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"prescription",className:"text-xs font-medium",children:e("alkhayr.local.form.prescription")}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(M,{id:"prescription",type:"file",accept:"image/*,.pdf",onChange:d,className:"cursor-pointer h-10 pt-2"})}),c.prescriptionFile&&s.jsxs("p",{className:"text-xs text-muted-foreground pl-1",children:[" ",c.prescriptionFile.name]})]})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(yt,{className:"w-4 h-4"}),s.jsxs("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:[e("alkhayr.local.form.financialAbility")," & ",e("alkhayr.local.form.needDelivery")]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(P,{className:"text-xs font-medium",children:e("alkhayr.local.form.financialAbility")}),s.jsxs(ia,{value:c.financialAbility,onValueChange:m=>l({...c,financialAbility:m}),className:"grid sm:grid-cols-3 gap-3",children:[s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.financialAbility==="can_pay"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"can_pay",id:"can_pay",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.local.form.canPay")})]}),s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.financialAbility==="cannot_pay"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"cannot_pay",id:"cannot_pay",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.local.form.cannotPay")})]}),s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.financialAbility==="partially"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"partially",id:"partially",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.local.form.canPayPartially")})]})]})]}),(c.financialAbility==="can_pay"||c.financialAbility==="partially")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"affordAmount",className:"text-xs font-medium",children:[e("alkhayr.local.form.affordAmount")," (DZD)"]}),s.jsx(M,{id:"affordAmount",type:"number",min:"0",step:"0.01",value:c.affordAmount,onChange:m=>l({...c,affordAmount:m.target.value}),className:"h-10"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(P,{className:"text-xs font-medium",children:e("alkhayr.local.form.needDelivery")}),s.jsxs(ia,{value:c.needDelivery,onValueChange:m=>l({...c,needDelivery:m}),className:"grid sm:grid-cols-3 gap-3",children:[s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.needDelivery==="paid"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"paid",id:"paid",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.local.form.paidDelivery")})]}),s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.needDelivery==="free"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"free",id:"free",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.local.form.freeDelivery")})]}),s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.needDelivery==="no"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"no",id:"no",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.local.form.noDelivery")})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(P,{className:"text-xs font-medium",children:e("alkhayr.local.form.urgency")}),s.jsxs(ia,{value:c.urgency,onValueChange:m=>l({...c,urgency:m}),className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.urgency==="urgent"?"border-red-500 bg-red-50":"border-border hover:border-red-200"}`,children:[s.jsx(At,{value:"urgent",id:"urgent",className:"sr-only"}),s.jsxs("span",{className:"text-red-600 font-semibold flex items-center gap-1",children:[" ",e("alkhayr.local.form.urgent")]})]}),s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${c.urgency==="normal"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"normal",id:"normal",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.local.form.normal")})]})]})]})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"notes",className:"text-xs font-medium",children:e("alkhayr.local.form.notes")}),s.jsx(He,{id:"notes",value:c.notes,onChange:m=>l({...c,notes:m.target.value}),rows:4,className:"resize-none"})]}),s.jsx(D,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-white font-bold py-6 rounded-lg shadow-md transition-all hover:scale-[1.01]",size:"lg",disabled:n,children:e(n?"alkhayr.local.form.submitting":"alkhayr.local.form.submit")})]})})]})}),s.jsx("div",{className:"space-y-5 lg:sticky lg:top-8 h-fit",children:s.jsx(B,{className:"border border-info/40 bg-info/5 shadow-sm",children:s.jsxs(V,{className:"p-5 space-y-3 text-sm",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(yt,{className:"w-10 h-10 text-primary"})}),s.jsx("p",{className:"font-medium",children:e("alkhayr.local.subtitle")}),s.jsx("p",{className:"text-xs text-foreground/70",children:" Votre demande sera examine par notre quipe avant d'tre approuve et visible aux bnvoles."})]})})})]})]})}const xF=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState([]);f.useEffect(()=>{(async()=>{const{data:h}=await L.from("wilayas").select("*").order("code");i(h||[])})()},[]);const[o,c]=f.useState(null),[l,d]=f.useState({fullName:"",city:"",phone:"",email:"",contactType:{whatsapp:!1,telegram:!1},contactValues:{whatsapp:"",telegram:""},medicineDetails:"",expectedCountry:"",needType:"purchase_and_shipping",financialAbility:"can_pay",budget:"",urgency:"normal",notes:"",title:"",category:"humanitarian",wilaya:"",wilayaId:null}),u=m=>{m.target.files&&m.target.files[0]&&c(m.target.files[0])},p=async m=>{m.preventDefault(),n(!0);try{if(!l.fullName||!l.city||!l.medicineDetails||!o){t({title:e("order.validation.error"),description:e("order.validation.name_required"),variant:"destructive"}),n(!1);return}if(o){const k=["image/jpeg","image/png","image/webp","application/pdf"];if(o.size>5242880){t({title:"Fichier trop volumineux",description:"La taille maximale est de 5MB.",variant:"destructive"}),n(!1);return}if(!k.includes(o.type)){t({title:"Format invalide",description:"Formats accepts: JPG, PNG, WEBP, PDF.",variant:"destructive"}),n(!1);return}}if(!l.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){t({title:"Email",description:"Email valide requis",variant:"destructive"}),n(!1);return}if(!l.phone.trim()){t({title:e("alkhayr.foreign.form.contact"),description:"Numro de tlphone requis",variant:"destructive"}),n(!1);return}const h=["phone"],y=[`Phone: ${l.phone}`];if(l.contactType.whatsapp){if(!l.contactValues.whatsapp.trim()){t({title:"WhatsApp",description:"Veuillez entrer votre numro WhatsApp",variant:"destructive"}),n(!1);return}h.push("whatsapp"),y.push(`WhatsApp: ${l.contactValues.whatsapp}`)}if(l.contactType.telegram){if(!l.contactValues.telegram.trim()){t({title:"Telegram",description:"Veuillez entrer votre nom d'utilisateur Telegram",variant:"destructive"}),n(!1);return}h.push("telegram"),y.push(`Telegram: ${l.contactValues.telegram}`)}const x=o.name.split(".").pop(),g=`${`${Date.now()}_${Math.random().toString(36).substring(7)}.${x}`}`,{error:v}=await L.storage.from("alkhayr-prescriptions").upload(g,o);if(v){console.error("Upload error:",v),t({title:e("order.error.title"),description:e("order.error.generic"),variant:"destructive"}),n(!1);return}const{data:{publicUrl:j}}=L.storage.from("alkhayr-prescriptions").getPublicUrl(g),{error:w}=await L.from("medicine_requests").insert({request_type:"foreign",full_name:l.fullName,city:l.city,email:l.email,phone_number:l.phone,title:l.title,category:l.category,wilaya:l.wilaya,wilaya_id:l.wilayaId,medicine_name:l.medicineDetails,prescription_url:j,expected_country:l.expectedCountry,need_type:l.needType,financial_ability:l.financialAbility,afford_amount:l.budget?parseFloat(l.budget):null,urgency:l.urgency,is_urgent:l.urgency==="urgent",admin_notes:(l.notes||"")+`

Contact Details: `+y.join(" | "),status:"pending"});if(w){console.error("Insert error:",w),t({title:e("order.error.title"),description:e("order.error.generic"),variant:"destructive"}),n(!1);return}t({title:e("alkhayr.foreign.success.title"),description:e("alkhayr.foreign.success.desc")}),d({fullName:"",city:"",email:"",phone:"",contactType:{whatsapp:!1,telegram:!1},contactValues:{whatsapp:"",telegram:""},medicineDetails:"",expectedCountry:"",needType:"purchase_and_shipping",financialAbility:"can_pay",budget:"",urgency:"normal",notes:"",title:"",category:"humanitarian",wilaya:"",wilayaId:null}),c(null)}catch(h){console.error("Error:",h),t({title:e("order.error.title"),description:e("order.error.generic"),variant:"destructive"})}finally{n(!1)}};return s.jsxs("div",{className:"container max-w-3xl mx-auto py-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(as,{className:"h-10 w-10 text-primary charity-pulse"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold charity-text-gradient",children:e("alkhayr.foreign.title")})]}),s.jsx("p",{className:"text-base md:text-lg text-foreground/80 font-medium max-w-2xl mx-auto",children:e("alkhayr.foreign.subtitle")}),s.jsxs("div",{className:"mt-6 bg-primary/5 border border-primary/20 rounded-lg p-4 text-sm text-foreground/80 max-w-2xl mx-auto",children:[" ",s.jsx("strong",{children:"Note:"})," Votre demande sera examine par notre quipe avant d'tre approuve et visible aux bnvoles."]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsx(Nk,{formData:l,setFormData:d,wilayas:a,t:e}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(ti,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:e("alkhayr.foreign.form.medicineName")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"medicineDetails",children:[e("alkhayr.foreign.form.medicineName")," *"]}),s.jsx(He,{id:"medicineDetails",placeholder:e("alkhayr.foreign.form.medicineNamePlaceholder"),value:l.medicineDetails,onChange:m=>d({...l,medicineDetails:m.target.value}),className:"resize-none",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"prescription",children:[e("alkhayr.foreign.form.prescription")," *"]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(M,{id:"prescription",type:"file",accept:"image/*,.pdf",onChange:u,required:!0,className:"cursor-pointer pt-2"})}),o&&s.jsxs("p",{className:"text-xs text-muted-foreground pl-1",children:[" ",o.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"expectedCountry",children:e("alkhayr.foreign.form.expectedCountry")}),s.jsx(M,{id:"expectedCountry",placeholder:e("alkhayr.foreign.form.expectedCountryPlaceholder"),value:l.expectedCountry,onChange:m=>d({...l,expectedCountry:m.target.value})})]})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(as,{className:"w-4 h-4"}),s.jsxs("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:[e("alkhayr.foreign.form.needType")," & ",e("alkhayr.foreign.form.financialAbility")]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(P,{children:[e("alkhayr.foreign.form.needType")," *"]}),s.jsxs(ia,{value:l.needType,onValueChange:m=>d({...l,needType:m}),className:"grid sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${l.needType==="purchase_and_shipping"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"purchase_and_shipping",id:"purchase_and_shipping",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.foreign.form.purchaseAndShipping")})]}),s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${l.needType==="shipping_only"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"shipping_only",id:"shipping_only",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.foreign.form.shippingOnly")})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{children:[e("alkhayr.foreign.form.financialAbility")," *"]}),s.jsxs(Ee,{value:l.financialAbility,onValueChange:m=>d({...l,financialAbility:m}),children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"can_pay",children:e("alkhayr.foreign.form.canPay")}),s.jsx(K,{value:"cannot_pay",children:e("alkhayr.foreign.form.cannotPay")}),s.jsx(K,{value:"partially",children:e("alkhayr.foreign.form.canPayPartially")})]})]})]}),l.financialAbility!=="cannot_pay"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"budget",children:e("alkhayr.foreign.form.budget")}),s.jsx(M,{id:"budget",type:"number",step:"0.01",value:l.budget,onChange:m=>d({...l,budget:m.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(P,{children:[e("alkhayr.foreign.form.urgency")," *"]}),s.jsxs(ia,{value:l.urgency,onValueChange:m=>d({...l,urgency:m}),className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${l.urgency==="urgent"?"border-red-500 bg-red-50":"border-border hover:border-red-200"}`,children:[s.jsx(At,{value:"urgent",id:"urgent",className:"sr-only"}),s.jsxs("span",{className:"text-red-600 font-semibold",children:[" ",e("alkhayr.foreign.form.urgent")]})]}),s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition-all text-xs ${l.urgency==="normal"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(At,{value:"normal",id:"normal",className:"sr-only"}),s.jsx("span",{children:e("alkhayr.foreign.form.normal")})]})]})]})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"notes",children:e("alkhayr.foreign.form.notes")}),s.jsx(He,{id:"notes",value:l.notes,onChange:m=>d({...l,notes:m.target.value}),className:"resize-none",rows:4})]}),s.jsx(D,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-white font-bold py-6 rounded-lg shadow-md transition-all hover:scale-[1.01]",disabled:r,children:e(r?"alkhayr.foreign.form.submitting":"alkhayr.foreign.form.submit")})]})})]})}),s.jsx("div",{className:"space-y-5 lg:sticky lg:top-8 h-fit",children:s.jsx(B,{className:"border border-info/40 bg-info/5 shadow-sm",children:s.jsxs(V,{className:"p-5 space-y-3 text-sm",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(as,{className:"w-10 h-10 text-primary"})}),s.jsx("p",{className:"font-medium",children:e("alkhayr.foreign.subtitle")}),s.jsx("p",{className:"text-xs text-foreground/70",children:" Votre demande sera examine par notre quipe avant d'tre approuve et visible aux bnvoles."})]})})})]})]})};function yF(e){return Object.prototype.toString.call(e)==="[object Object]"}function $b(e){return yF(e)||Array.isArray(e)}function vF(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Rx(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const c=e[o],l=t[o];return typeof c=="function"?`${c}`==`${l}`:!$b(c)||!$b(l)?c===l:Rx(c,l)})}function qb(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function bF(e,t){if(e.length!==t.length)return!1;const r=qb(e),n=qb(t);return r.every((a,i)=>{const o=n[i];return Rx(a,o)})}function Ox(e){return typeof e=="number"}function Nf(e){return typeof e=="string"}function Sh(e){return typeof e=="boolean"}function Ub(e){return Object.prototype.toString.call(e)==="[object Object]"}function ut(e){return Math.abs(e)}function Dx(e){return Math.sign(e)}function jl(e,t){return ut(e-t)}function jF(e,t){if(e===0||t===0||ut(e)<=ut(t))return 0;const r=jl(ut(e),ut(t));return ut(r/e)}function wF(e){return Math.round(e*100)/100}function ec(e){return tc(e).map(Number)}function vr(e){return e[vc(e)]}function vc(e){return Math.max(0,e.length-1)}function Ix(e,t){return t===vc(e)}function zb(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function tc(e){return Object.keys(e)}function Sk(e,t){return[e,t].reduce((r,n)=>(tc(n).forEach(a=>{const i=r[a],o=n[a],c=Ub(i)&&Ub(o);r[a]=c?Sk(i,o):o}),r),{})}function Sf(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function _F(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(l){return i(l)/2}function i(l){return t-l}function o(l,d){return Nf(e)?r[e](l):e(t,l,d)}return{measure:o}}function sc(){let e=[];function t(a,i,o,c={passive:!0}){let l;if("addEventListener"in a)a.addEventListener(i,o,c),l=()=>a.removeEventListener(i,o,c);else{const d=a;d.addListener(o),l=()=>d.removeListener(o)}return e.push(l),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function NF(e,t,r,n){const a=sc(),i=1e3/60;let o=null,c=0,l=0;function d(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function u(){h(),a.clear()}function p(b){if(!l)return;o||(o=b,r(),r());const g=b-o;for(o=b,c+=g;c>=i;)r(),c-=i;const v=c/i;n(v),l&&(l=t.requestAnimationFrame(p))}function m(){l||(l=t.requestAnimationFrame(p))}function h(){t.cancelAnimationFrame(l),o=null,c=0,l=0}function y(){o=null,c=0}return{init:d,destroy:u,start:m,stop:h,update:r,render:n}}function SF(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,c=u(),l=p();function d(y){const{height:x,width:b}=y;return n?x:b}function u(){return n?"top":r?"right":"left"}function p(){return n?"bottom":r?"left":"right"}function m(y){return y*o}return{scroll:a,cross:i,startEdge:c,endEdge:l,measureSize:d,direction:m}}function ii(e=0,t=0){const r=ut(e-t);function n(d){return d<e}function a(d){return d>t}function i(d){return n(d)||a(d)}function o(d){return i(d)?n(d)?e:t:d}function c(d){return r?d-r*Math.ceil((d-t)/r):d}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:c}}function kk(e,t,r){const{constrain:n}=ii(0,e),a=e+1;let i=o(t);function o(m){return r?ut((a+m)%a):n(m)}function c(){return i}function l(m){return i=o(m),p}function d(m){return u().set(c()+m)}function u(){return kk(e,c(),r)}const p={get:c,set:l,add:d,clone:u};return p}function kF(e,t,r,n,a,i,o,c,l,d,u,p,m,h,y,x,b,g,v){const{cross:j,direction:w}=e,N=["INPUT","SELECT","TEXTAREA"],k={passive:!1},_=sc(),C=sc(),A=ii(50,225).constrain(h.measure(20)),E={mouse:300,touch:400},S={mouse:500,touch:600},T=y?43:25;let R=!1,I=0,z=0,U=!1,F=!1,O=!1,$=!1;function H(G){if(!v)return;function be(Ge){(Sh(v)||v(G,Ge))&&Fe(Ge)}const Ie=t;_.add(Ie,"dragstart",Ge=>Ge.preventDefault(),k).add(Ie,"touchmove",()=>{},k).add(Ie,"touchend",()=>{}).add(Ie,"touchstart",be).add(Ie,"mousedown",be).add(Ie,"touchcancel",q).add(Ie,"contextmenu",q).add(Ie,"click",de,!0)}function ne(){_.clear(),C.clear()}function ae(){const G=$?r:t;C.add(G,"touchmove",ee,k).add(G,"touchend",q).add(G,"mousemove",ee,k).add(G,"mouseup",q)}function pe(G){const be=G.nodeName||"";return N.includes(be)}function me(){return(y?S:E)[$?"mouse":"touch"]}function Oe(G,be){const Ie=p.add(Dx(G)*-1),Ge=u.byDistance(G,!y).distance;return y||ut(G)<A?Ge:b&&be?Ge*.5:u.byIndex(Ie.get(),0).distance}function Fe(G){const be=Sf(G,n);$=be,O=y&&be&&!G.buttons&&R,R=jl(a.get(),o.get())>=2,!(be&&G.button!==0)&&(pe(G.target)||(U=!0,i.pointerDown(G),d.useFriction(0).useDuration(0),a.set(o),ae(),I=i.readPoint(G),z=i.readPoint(G,j),m.emit("pointerDown")))}function ee(G){if(!Sf(G,n)&&G.touches.length>=2)return q(G);const Ie=i.readPoint(G),Ge=i.readPoint(G,j),ot=jl(Ie,I),pt=jl(Ge,z);if(!F&&!$&&(!G.cancelable||(F=ot>pt,!F)))return q(G);const Lt=i.pointerMove(G);ot>x&&(O=!0),d.useFriction(.3).useDuration(.75),c.start(),a.add(w(Lt)),G.preventDefault()}function q(G){const Ie=u.byDistance(0,!1).index!==p.get(),Ge=i.pointerUp(G)*me(),ot=Oe(w(Ge),Ie),pt=jF(Ge,ot),Lt=T-10*pt,Be=g+pt/50;F=!1,U=!1,C.clear(),d.useDuration(Lt).useFriction(Be),l.distance(ot,!y),$=!1,m.emit("pointerUp")}function de(G){O&&(G.stopPropagation(),G.preventDefault(),O=!1)}function ie(){return U}return{init:H,destroy:ne,pointerDown:ie}}function CF(e,t){let n,a;function i(p){return p.timeStamp}function o(p,m){const y=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(Sf(p,t)?p:p.touches[0])[y]}function c(p){return n=p,a=p,o(p)}function l(p){const m=o(p)-o(a),h=i(p)-i(n)>170;return a=p,h&&(n=p),m}function d(p){if(!n||!a)return 0;const m=o(a)-o(n),h=i(p)-i(n),y=i(p)-i(a)>170,x=m/h;return h&&!y&&ut(x)>.1?x:0}return{pointerDown:c,pointerMove:l,pointerUp:d,readPoint:o}}function EF(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function PF(e){function t(n){return e*(n/100)}return{measure:t}}function TF(e,t,r,n,a,i,o){const c=[e].concat(n);let l,d,u=[],p=!1;function m(b){return a.measureSize(o.measure(b))}function h(b){if(!i)return;d=m(e),u=n.map(m);function g(v){for(const j of v){if(p)return;const w=j.target===e,N=n.indexOf(j.target),k=w?d:u[N],_=m(w?e:n[N]);if(ut(_-k)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(v=>{(Sh(i)||i(b,v))&&g(v)}),r.requestAnimationFrame(()=>{c.forEach(v=>l.observe(v))})}function y(){p=!0,l&&l.disconnect()}return{init:h,destroy:y}}function AF(e,t,r,n,a,i){let o=0,c=0,l=a,d=i,u=e.get(),p=0;function m(){const k=n.get()-e.get(),_=!l;let C=0;return _?(o=0,r.set(n),e.set(n),C=k):(r.set(e),o+=k/l,o*=d,u+=o,e.add(o),C=u-p),c=Dx(C),p=u,N}function h(){const k=n.get()-t.get();return ut(k)<.001}function y(){return l}function x(){return c}function b(){return o}function g(){return j(a)}function v(){return w(i)}function j(k){return l=k,N}function w(k){return d=k,N}const N={direction:x,duration:y,velocity:b,seek:m,settled:h,useBaseFriction:v,useBaseDuration:g,useFriction:w,useDuration:j};return N}function RF(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),c=ii(.1,.99);let l=!1;function d(){return!(l||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function u(h){if(!d())return;const y=e.reachedMin(t.get())?"min":"max",x=ut(e[y]-t.get()),b=r.get()-t.get(),g=c.constrain(x/o);r.subtract(b*g),!h&&ut(b)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function p(h){l=!h}return{shouldConstrain:d,constrain:u,toggleActive:p}}function OF(e,t,r,n,a){const i=ii(-t+e,0),o=p(),c=u(),l=m();function d(y,x){return jl(y,x)<=1}function u(){const y=o[0],x=vr(o),b=o.lastIndexOf(y),g=o.indexOf(x)+1;return ii(b,g)}function p(){return r.map((y,x)=>{const{min:b,max:g}=i,v=i.constrain(y),j=!x,w=Ix(r,x);return j?g:w||d(b,v)?b:d(g,v)?g:v}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:x}=c;return o.slice(y,x)}return{snapsContained:l,scrollContainLimit:c}}function DF(e,t,r){const n=t[0],a=r?n-e:vr(t);return{limit:ii(a,n)}}function IF(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:c,reachedMax:l}=ii(i,o);function d(m){return m===1?l(r.get()):m===-1?c(r.get()):!1}function u(m){if(!d(m))return;const h=e*(m*-1);n.forEach(y=>y.add(h))}return{loop:u}}function LF(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function MF(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:c}=a,l=p().map(t.measure),d=m(),u=h();function p(){return c(n).map(x=>vr(x)[o]-x[0][i]).map(ut)}function m(){return n.map(x=>r[i]-x[i]).map(x=>-ut(x))}function h(){return c(d).map(x=>x[0]).map((x,b)=>x+l[b])}return{snaps:d,snapsAligned:u}}function FF(e,t,r,n,a,i){const{groupSlides:o}=a,{min:c,max:l}=n,d=u();function u(){const m=o(i),h=!e||t==="keepSnaps";return r.length===1?[i]:h?m:m.slice(c,l).map((y,x,b)=>{const g=!x,v=Ix(b,x);if(g){const j=vr(b[0])+1;return zb(j)}if(v){const j=vc(i)-vr(b)[0]+1;return zb(j,vr(b)[0])}return y})}return{slideRegistry:d}}function $F(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:c}=n;function l(y){return y.concat().sort((x,b)=>ut(x)-ut(b))[0]}function d(y){const x=e?o(y):c(y),b=t.map((v,j)=>({diff:u(v-x,0),index:j})).sort((v,j)=>ut(v.diff)-ut(j.diff)),{index:g}=b[0];return{index:g,distance:x}}function u(y,x){const b=[y,y+r,y-r];if(!e)return y;if(!x)return l(b);const g=b.filter(v=>Dx(v)===x);return g.length?l(g):vr(b)-r}function p(y,x){const b=t[y]-a.get(),g=u(b,x);return{index:y,distance:g}}function m(y,x){const b=a.get()+y,{index:g,distance:v}=d(b),j=!e&&i(b);if(!x||j)return{index:g,distance:y};const w=t[g]-v,N=y+u(w,0);return{index:g,distance:N}}return{byDistance:m,byIndex:p,shortcut:u}}function qF(e,t,r,n,a,i,o){function c(p){const m=p.distance,h=p.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),h&&(r.set(t.get()),t.set(p.index),o.emit("select"))}function l(p,m){const h=a.byDistance(p,m);c(h)}function d(p,m){const h=t.clone().set(p),y=a.byIndex(h.get(),m);c(y)}return{distance:l,index:d}}function UF(e,t,r,n,a,i,o,c){const l={passive:!0,capture:!0};let d=0;function u(h){if(!c)return;function y(x){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const v=r.findIndex(j=>j.includes(x));Ox(v)&&(a.useDuration(0),n.index(v,0),o.emit("slideFocus"))}i.add(document,"keydown",p,!1),t.forEach((x,b)=>{i.add(x,"focus",g=>{(Sh(c)||c(h,g))&&y(b)},l)})}function p(h){h.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function il(e){let t=e;function r(){return t}function n(l){t=o(l)}function a(l){t+=o(l)}function i(l){t-=o(l)}function o(l){return Ox(l)?l:l.get()}return{get:r,set:n,add:a,subtract:i}}function Ck(e,t){const r=e.scroll==="x"?o:c,n=t.style;let a=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function c(m){return`translate3d(0px,${m}px,0px)`}function l(m){if(i)return;const h=wF(e.direction(m));h!==a&&(n.transform=r(h),a=h)}function d(m){i=!m}function u(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:l,toggleActive:d}}function zF(e,t,r,n,a,i,o,c,l){const u=ec(a),p=ec(a).reverse(),m=g().concat(v());function h(_,C){return _.reduce((A,E)=>A-a[E],C)}function y(_,C){return _.reduce((A,E)=>h(A,C)>0?A.concat([E]):A,[])}function x(_){return i.map((C,A)=>({start:C-n[A]+.5+_,end:C+t-.5+_}))}function b(_,C,A){const E=x(C);return _.map(S=>{const T=A?0:-r,R=A?r:0,I=A?"end":"start",z=E[S][I];return{index:S,loopPoint:z,slideLocation:il(-1),translate:Ck(e,l[S]),target:()=>c.get()>z?T:R}})}function g(){const _=o[0],C=y(p,_);return b(C,r,!1)}function v(){const _=t-o[0]-1,C=y(u,_);return b(C,-r,!0)}function j(){return m.every(({index:_})=>{const C=u.filter(A=>A!==_);return h(C,t)<=.1})}function w(){m.forEach(_=>{const{target:C,translate:A,slideLocation:E}=_,S=C();S!==E.get()&&(A.to(S),E.set(S))})}function N(){m.forEach(_=>_.translate.clear())}return{canLoop:j,clear:N,loop:w,loopPoints:m}}function BF(e,t,r){let n,a=!1;function i(l){if(!r)return;function d(u){for(const p of u)if(p.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(u=>{a||(Sh(r)||r(l,u))&&d(u)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function VF(e,t,r,n){const a={};let i=null,o=null,c,l=!1;function d(){c=new IntersectionObserver(y=>{l||(y.forEach(x=>{const b=t.indexOf(x.target);a[b]=x}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>c.observe(y))}function u(){c&&c.disconnect(),l=!0}function p(y){return tc(a).reduce((x,b)=>{const g=parseInt(b),{isIntersecting:v}=a[g];return(y&&v||!y&&!v)&&x.push(g),x},[])}function m(y=!0){if(y&&i)return i;if(!y&&o)return o;const x=p(y);return y&&(i=x),y||(o=x),x}return{init:d,destroy:u,get:m}}function WF(e,t,r,n,a,i){const{measureSize:o,startEdge:c,endEdge:l}=e,d=r[0]&&a,u=y(),p=x(),m=r.map(o),h=b();function y(){if(!d)return 0;const v=r[0];return ut(t[c]-v[c])}function x(){if(!d)return 0;const v=i.getComputedStyle(vr(n));return parseFloat(v.getPropertyValue(`margin-${l}`))}function b(){return r.map((v,j,w)=>{const N=!j,k=Ix(w,j);return N?m[j]+u:k?m[j]+p:w[j+1][c]-v[c]}).map(ut)}return{slideSizes:m,slideSizesWithGaps:h,startGap:u,endGap:p}}function HF(e,t,r,n,a,i,o,c,l){const{startEdge:d,endEdge:u,direction:p}=e,m=Ox(r);function h(g,v){return ec(g).filter(j=>j%v===0).map(j=>g.slice(j,j+v))}function y(g){return g.length?ec(g).reduce((v,j,w)=>{const N=vr(v)||0,k=N===0,_=j===vc(g),C=a[d]-i[N][d],A=a[d]-i[j][u],E=!n&&k?p(o):0,S=!n&&_?p(c):0,T=ut(A-S-(C+E));return w&&T>t+l&&v.push(j),_&&v.push(g.length),v},[]).map((v,j,w)=>{const N=Math.max(w[j-1]||0);return g.slice(N,v)}):[]}function x(g){return m?h(g,r):y(g)}return{groupSlides:x}}function KF(e,t,r,n,a,i,o){const{align:c,axis:l,direction:d,startIndex:u,loop:p,duration:m,dragFree:h,dragThreshold:y,inViewThreshold:x,slidesToScroll:b,skipSnaps:g,containScroll:v,watchResize:j,watchSlides:w,watchDrag:N,watchFocus:k}=i,_=2,C=EF(),A=C.measure(t),E=r.map(C.measure),S=SF(l,d),T=S.measureSize(A),R=PF(T),I=_F(c,T),z=!p&&!!v,U=p||!!v,{slideSizes:F,slideSizesWithGaps:O,startGap:$,endGap:H}=WF(S,A,E,r,U,a),ne=HF(S,T,b,p,A,E,$,H,_),{snaps:ae,snapsAligned:pe}=MF(S,I,A,E,ne),me=-vr(ae)+vr(O),{snapsContained:Oe,scrollContainLimit:Fe}=OF(T,me,pe,v,_),ee=z?Oe:pe,{limit:q}=DF(me,ee,p),de=kk(vc(ee),u,p),ie=de.clone(),se=ec(r),G=({dragHandler:Zs,scrollBody:$o,scrollBounds:ui,options:{loop:jn}})=>{jn||ui.constrain(Zs.pointerDown()),$o.seek()},be=({scrollBody:Zs,translate:$o,location:ui,offsetLocation:jn,previousLocation:wn,scrollLooper:wc,slideLooper:_n,dragHandler:Th,animation:Ah,eventHandler:qo,scrollBounds:_c,options:{loop:Nc}},hi)=>{const er=Zs.settled(),Rh=!_c.shouldConstrain(),_e=Nc?er:er&&Rh,ze=_e&&!Th.pointerDown();ze&&Ah.stop();const Ye=ui.get()*hi+wn.get()*(1-hi);jn.set(Ye),Nc&&(wc.loop(Zs.direction()),_n.loop()),$o.to(jn.get()),ze&&qo.emit("settle"),_e||qo.emit("scroll")},Ie=NF(n,a,()=>G(Fo),Zs=>be(Fo,Zs)),Ge=.68,ot=ee[de.get()],pt=il(ot),Lt=il(ot),Be=il(ot),Zt=il(ot),ds=AF(pt,Be,Lt,Zt,m,Ge),_t=$F(p,ee,me,q,Zt),us=qF(Ie,de,ie,ds,_t,Zt,o),bc=LF(q),jc=sc(),hs=VF(t,r,o,x),{slideRegistry:Hr}=FF(z,v,ee,Fe,ne,se),Ph=UF(e,r,Hr,us,ds,jc,o,k),Fo={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:A,slideRects:E,animation:Ie,axis:S,dragHandler:kF(S,e,n,a,Zt,CF(S,a),pt,Ie,us,ds,_t,de,o,R,h,y,g,Ge,N),eventStore:jc,percentOfView:R,index:de,indexPrevious:ie,limit:q,location:pt,offsetLocation:Be,previousLocation:Lt,options:i,resizeHandler:TF(t,o,a,r,S,j,C),scrollBody:ds,scrollBounds:RF(q,Be,Zt,ds,R),scrollLooper:IF(me,q,Be,[pt,Be,Lt,Zt]),scrollProgress:bc,scrollSnapList:ee.map(bc.get),scrollSnaps:ee,scrollTarget:_t,scrollTo:us,slideLooper:zF(S,T,me,F,O,ae,ee,Be,r),slideFocus:Ph,slidesHandler:BF(t,o,w),slidesInView:hs,slideIndexes:se,slideRegistry:Hr,slidesToScroll:ne,target:Zt,translate:Ck(S,t)};return Fo}function GF(){let e={},t;function r(d){t=d}function n(d){return e[d]||[]}function a(d){return n(d).forEach(u=>u(t,d)),l}function i(d,u){return e[d]=n(d).concat([u]),l}function o(d,u){return e[d]=n(d).filter(p=>p!==u),l}function c(){e={}}const l={init:r,emit:a,off:o,on:i,clear:c};return l}const YF={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function JF(e){function t(i,o){return Sk(i,o||{})}function r(i){const o=i.breakpoints||{},c=tc(o).filter(l=>e.matchMedia(l).matches).map(l=>o[l]).reduce((l,d)=>t(l,d),{});return t(i,c)}function n(i){return i.map(o=>tc(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function QF(e){let t=[];function r(i,o){return t=o.filter(({options:c})=>e.optionsAtMedia(c).active!==!1),t.forEach(c=>c.init(i,e)),o.reduce((c,l)=>Object.assign(c,{[l.name]:l}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function _u(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=JF(a),o=QF(i),c=sc(),l=GF(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:p}=i,{on:m,off:h,emit:y}=l,x=S;let b=!1,g,v=d(YF,_u.globalOptions),j=d(v),w=[],N,k,_;function C(){const{container:se,slides:G}=j;k=(Nf(se)?e.querySelector(se):se)||e.children[0];const Ie=Nf(G)?k.querySelectorAll(G):G;_=[].slice.call(Ie||k.children)}function A(se){const G=KF(e,k,_,n,a,se,l);if(se.loop&&!G.slideLooper.canLoop()){const be=Object.assign({},se,{loop:!1});return A(be)}return G}function E(se,G){b||(v=d(v,se),j=u(v),w=G||w,C(),g=A(j),p([v,...w.map(({options:be})=>be)]).forEach(be=>c.add(be,"change",S)),j.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(ie),g.eventHandler.init(ie),g.resizeHandler.init(ie),g.slidesHandler.init(ie),g.options.loop&&g.slideLooper.loop(),k.offsetParent&&_.length&&g.dragHandler.init(ie),N=o.init(ie,w)))}function S(se,G){const be=ne();T(),E(d({startIndex:be},se),G),l.emit("reInit")}function T(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),o.destroy(),c.clear()}function R(){b||(b=!0,c.clear(),T(),l.emit("destroy"),l.clear())}function I(se,G,be){!j.active||b||(g.scrollBody.useBaseFriction().useDuration(G===!0?0:j.duration),g.scrollTo.index(se,be||0))}function z(se){const G=g.index.add(1).get();I(G,se,-1)}function U(se){const G=g.index.add(-1).get();I(G,se,1)}function F(){return g.index.add(1).get()!==ne()}function O(){return g.index.add(-1).get()!==ne()}function $(){return g.scrollSnapList}function H(){return g.scrollProgress.get(g.offsetLocation.get())}function ne(){return g.index.get()}function ae(){return g.indexPrevious.get()}function pe(){return g.slidesInView.get()}function me(){return g.slidesInView.get(!1)}function Oe(){return N}function Fe(){return g}function ee(){return e}function q(){return k}function de(){return _}const ie={canScrollNext:F,canScrollPrev:O,containerNode:q,internalEngine:Fe,destroy:R,off:h,on:m,emit:y,plugins:Oe,previousScrollSnap:ae,reInit:x,rootNode:ee,scrollNext:z,scrollPrev:U,scrollProgress:H,scrollSnapList:$,scrollTo:I,selectedScrollSnap:ne,slideNodes:de,slidesInView:pe,slidesNotInView:me};return E(t,r),setTimeout(()=>l.emit("init"),0),ie}_u.globalOptions=void 0;function Lx(e={},t=[]){const r=f.useRef(e),n=f.useRef(t),[a,i]=f.useState(),[o,c]=f.useState(),l=f.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return f.useEffect(()=>{Rx(r.current,e)||(r.current=e,l())},[e,l]),f.useEffect(()=>{bF(n.current,t)||(n.current=t,l())},[t,l]),f.useEffect(()=>{if(vF()&&o){_u.globalOptions=Lx.globalOptions;const d=_u(o,r.current,n.current);return i(d),()=>d.destroy()}else i(void 0)},[o,i]),[c,a]}Lx.globalOptions=void 0;const Ek=f.createContext(null);function kh(){const e=f.useContext(Ek);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Pk=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},c)=>{const[l,d]=Lx({...t,axis:e==="horizontal"?"x":"y"},n),[u,p]=f.useState(!1),[m,h]=f.useState(!1),y=f.useCallback(v=>{v&&(p(v.canScrollPrev()),h(v.canScrollNext()))},[]),x=f.useCallback(()=>{d==null||d.scrollPrev()},[d]),b=f.useCallback(()=>{d==null||d.scrollNext()},[d]),g=f.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),x()):v.key==="ArrowRight"&&(v.preventDefault(),b())},[x,b]);return f.useEffect(()=>{!d||!r||r(d)},[d,r]),f.useEffect(()=>{if(d)return y(d),d.on("reInit",y),d.on("select",y),()=>{d==null||d.off("select",y)}},[d,y]),s.jsx(Ek.Provider,{value:{carouselRef:l,api:d,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:u,canScrollNext:m},children:s.jsx("div",{ref:c,onKeyDownCapture:g,className:J("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});Pk.displayName="Carousel";const Tk=f.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=kh();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:J("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Tk.displayName="CarouselContent";const kf=f.forwardRef(({className:e,...t},r)=>{const{orientation:n}=kh();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:J("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});kf.displayName="CarouselItem";const Ak=f.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:c}=kh();return s.jsxs(D,{ref:a,variant:t,size:r,className:J("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!c,onClick:o,...n,children:[s.jsx(Jd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Ak.displayName="CarouselPrevious";const Rk=f.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:c}=kh();return s.jsxs(D,{ref:a,variant:t,size:r,className:J("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!c,onClick:o,...n,children:[s.jsx(kg,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});Rk.displayName="CarouselNext";const ki={severe:{variant:"destructive",icon:s.jsx(jr,{className:"w-3 h-3"})},cancer:{variant:"destructive",icon:s.jsx(jr,{className:"w-3 h-3"})},surgery:{variant:"destructive",icon:s.jsx(nv,{className:"w-3 h-3"})},medium:{variant:"secondary",icon:s.jsx(nv,{className:"w-3 h-3"})},diabetes:{variant:"secondary",icon:s.jsx(Lp,{className:"w-3 h-3"})},normal:{variant:"outline",icon:s.jsx(Lp,{className:"w-3 h-3"})},rare:{variant:"default",icon:s.jsx(as,{className:"w-3 h-3"})}},XF=()=>{const{t:e}=ye(),[t,r]=f.useState(!1),[n,a]=f.useState("all"),[i,o]=f.useState([]),[c,l]=f.useState(null),[d,u]=f.useState([]),[p,m]=f.useState(null),h=async()=>{r(!0);try{const{data:x,error:b}=await L.from("alkhayr_requests").select("*").order("created_at",{ascending:!1});if(b)throw b;o(x)}catch(x){console.error("Failed to load requests",x)}finally{r(!1)}};f.useEffect(()=>{h()},[]),f.useEffect(()=>{c?(async()=>{const{data:b}=await L.from("request_images").select("*").eq("request_id",c.id).eq("is_approved",!0);u(b||[])})():u([])},[c]);const y=i.filter(x=>n==="all"||x.classification===n);return s.jsxs("div",{className:"container max-w-7xl mx-auto space-y-10 py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"text-center mb-12 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[s.jsx(Q,{variant:"outline",className:"mb-4 py-1 px-4 text-base border-primary/20 text-primary bg-primary/5 rounded-full",children:e("alkhayr_public.promo_badge")}),s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:e("alkhayr.requests.title")}),s.jsx("p",{className:"text-[#374151] text-lg max-w-2xl mx-auto leading-relaxed",children:e("alkhayr.requests.subtitle")})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-10",children:["all","severe","cancer","surgery","medium","diabetes","rare","normal"].map(x=>s.jsx(D,{variant:n===x?"default":"outline",onClick:()=>a(x),size:"sm",className:`capitalize rounded-full px-4 transition-all ${n===x?"shadow-md scale-105":"hover:bg-primary/5"}`,children:e(x==="all"?"alkhayr_public.filter.all":"classification."+x)},x))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(x=>s.jsxs(B,{className:"group overflow-hidden border-border/50 bg-card hover:shadow-2xl hover:border-primary/20 transition-all duration-500 cursor-pointer flex flex-col h-full rounded-2xl",onClick:()=>l(x),children:[s.jsxs("div",{className:"relative w-full aspect-video bg-muted overflow-hidden",children:[x.prescription_url?s.jsx("img",{src:x.prescription_url,alt:x.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):s.jsx("div",{className:"flex items-center justify-center w-full h-full bg-slate-100 dark:bg-slate-800",children:s.jsx(yt,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 opacity-50"})}),s.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[s.jsx(Q,{className:"bg-white/90 text-black shadow-sm backdrop-blur-md hover:bg-white",children:x.category||"Humanitaire"}),x.status==="completed"&&s.jsx(Q,{className:"bg-blue-600 text-white shadow-sm",children:e("alkhayr_public.status.completed")})]}),s.jsx("div",{className:"absolute top-3 right-3",children:x.classification&&ki[x.classification]&&s.jsxs(Q,{variant:ki[x.classification].variant,className:"shadow-sm backdrop-blur-md",children:[ki[x.classification].icon,s.jsx("span",{className:"ml-1",children:e("classification."+x.classification)})]})}),x.urgency==="urgent"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-600/90 text-white text-center text-xs font-bold py-1 backdrop-blur-sm",children:e("alkhayr_public.details.urgent")})]}),s.jsxs(V,{className:"p-6 flex-1 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-[#374151] mb-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_s,{className:"w-3 h-3"}),x.wilaya||"Algrie"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"w-3 h-3"}),new Date(x.created_at).toLocaleDateString()]})]}),s.jsx("h3",{className:"text-xl font-bold leading-tight group-hover:text-primary transition-colors line-clamp-2",children:x.title}),s.jsx("p",{className:"text-sm text-[#374151] line-clamp-3 leading-relaxed",children:x.description})]}),s.jsx(Yn,{className:"p-6 pt-0 mt-auto",children:s.jsxs(D,{className:"w-full rounded-xl group-hover:bg-primary group-hover:text-white transition-colors",variant:"secondary",children:[e("alkhayr_public.card.view")," ",s.jsx(kg,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]},x.id))}),y.length===0&&s.jsxs("div",{className:"text-center py-24 bg-muted/20 rounded-3xl border border-dashed border-muted-foreground/20",children:[s.jsx(yt,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-6"}),s.jsx("h3",{className:"text-2xl font-bold mb-2 text-[#1F2933]",children:e("alkhayr_public.empty.title")}),s.jsx("p",{className:"text-[#374151] max-w-md mx-auto",children:e("alkhayr_public.empty.desc")})]}),s.jsx(at,{open:!!c,onOpenChange:x=>!x&&l(null),children:s.jsx(st,{className:"max-w-4xl h-[90vh] p-0 overflow-hidden flex flex-col gap-0 rounded-2xl border-0 shadow-2xl",children:c&&s.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[s.jsx("div",{className:"w-full md:w-2/5 bg-black/5 dark:bg-black/20 border-r overflow-hidden relative group",children:s.jsx(Zl,{className:"h-full max-h-[40vh] md:max-h-full",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"rounded-xl overflow-hidden shadow-sm border bg-white aspect-square cursor-zoom-in relative",onClick:()=>m(c.prescription_url||null),children:c.prescription_url?s.jsx("img",{src:c.prescription_url,className:"w-full h-full object-cover",alt:"Main"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(yt,{className:"w-12 h-12 opacity-20"})})}),d.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map((x,b)=>s.jsx("div",{className:"rounded-lg overflow-hidden border bg-white aspect-square cursor-zoom-in hover:opacity-90 transition-opacity",onClick:()=>m(x.image_url),children:s.jsx("img",{src:x.image_url,className:"w-full h-full object-cover",alt:`Gallery ${b}`})},b))})]})})}),s.jsxs("div",{className:"flex-1 flex flex-col h-full bg-background",children:[s.jsx(Zl,{className:"flex-1",children:s.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Q,{variant:"outline",className:"rounded-full px-3",children:c.category}),c.classification&&ki[c.classification]&&s.jsxs(Q,{variant:ki[c.classification].variant,className:"gap-1 rounded-full px-3",children:[ki[c.classification].icon,e("classification."+c.classification)]}),c.urgency==="urgent"&&s.jsx(Q,{variant:"destructive",className:"rounded-full px-3",children:e("alkhayr_public.details.urgent")})]}),s.jsx("h2",{className:"text-3xl font-bold leading-tight",children:c.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#374151] border-b pb-6",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_s,{className:"w-4 h-4"})," ",c.wilaya||"Algrie"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"w-4 h-4"})," Publi le ",new Date(c.created_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 font-bold text-lg",children:[s.jsx(as,{className:"w-5 h-5 text-primary"})," ",e("alkhayr_public.details.story")]}),s.jsx("p",{className:"text-lg leading-relaxed text-foreground/90 whitespace-pre-line",children:c.description})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx("div",{className:"p-4 rounded-xl border bg-muted/30",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"mt-1",children:s.jsx(vn,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:e("alkhayr_public.details.beneficiary")}),s.jsx("p",{className:"text-sm text-[#374151]",children:c.public_name||e("alkhayr_public.details.anonymous")})]})]})}),c.public_notes&&s.jsx("div",{className:"p-4 rounded-xl border bg-yellow-50/50 border-yellow-100 col-span-2",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"mt-1",children:s.jsx(jr,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm text-yellow-800",children:e("alkhayr_public.details.note_title")}),s.jsx("p",{className:"text-sm text-yellow-700 leading-relaxed",children:c.public_notes})]})]})})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-muted/10 backdrop-blur flex justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-xs text-[#374151]",children:[e("alkhayr_public.details.ref"),": ",s.jsxs("span",{className:"font-mono select-all",children:["#",c.id]})]}),s.jsx(D,{size:"lg",className:"rounded-xl px-8 shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all",children:e("alkhayr_public.details.donate_now")})]})]})]})})}),s.jsx(at,{open:!!p,onOpenChange:x=>!x&&m(null),children:s.jsx(st,{className:"max-w-[98vw] h-[95vh] p-0 bg-black/95 border-0 shadow-none flex items-center justify-center z-[50]",children:s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[s.jsx(D,{variant:"ghost",className:"absolute top-4 right-4 text-white hover:bg-white/20 rounded-full w-12 h-12 p-0 z-50",onClick:()=>m(null),children:s.jsx(Za,{className:"w-8 h-8"})}),s.jsxs(Pk,{className:"w-full h-full max-h-[90vh] max-w-5xl",opts:{startIndex:(c==null?void 0:c.prescription_url)===p?0:d.findIndex(x=>x.image_url===p)+(c!=null&&c.prescription_url?1:0)},children:[s.jsxs(Tk,{children:[(c==null?void 0:c.prescription_url)&&s.jsx(kf,{className:"flex items-center justify-center h-full",children:s.jsx("img",{src:c.prescription_url,alt:"Main",className:"max-w-full max-h-[85vh] object-contain"})}),d.map((x,b)=>s.jsx(kf,{className:"flex items-center justify-center h-full",children:s.jsx("img",{src:x.image_url,alt:`Gallery ${b}`,className:"max-w-full max-h-[85vh] object-contain"})},b))]}),s.jsx(Ak,{className:"left-2 bg-white/10 hover:bg-white/20 text-white border-0"}),s.jsx(Rk,{className:"right-2 bg-white/10 hover:bg-white/20 text-white border-0"})]})]})})})]})},ZF=()=>{ye();const{toast:e}=Ne(),[t,r]=f.useState(!1),[n,a]=f.useState(""),[i,o]=f.useState([]),[c,l]=f.useState(!1),d=p=>{switch(p){case"accepted":case"approved":return{color:"bg-green-500",icon:$r,label:"Accept & Publi",desc:"Votre demande a t valide et est visible par les donateurs."};case"completed":return{color:"bg-blue-600",icon:$r,label:"Termin",desc:"Votre demande a t traite avec succs."};case"rejected":return{color:"bg-red-500",icon:Za,label:"Refus",desc:"Votre demande n'a pas pu tre accepte."};case"reviewing":return{color:"bg-blue-500",icon:tv,label:"En revue",desc:"Un administrateur est en train d'examiner votre dossier."};default:return{color:"bg-yellow-500",icon:xo,label:"En attente",desc:"Votre demande est en attente de traitement."}}},u=async p=>{if(p.preventDefault(),!n.trim()){e({title:"Champ requis",description:"Veuillez entrer votre numro de tlphone.",variant:"destructive"});return}r(!0),o([]),l(!1);try{const m=n.trim(),{data:h,error:y}=await L.from("medicine_requests").select("id, title, medicine_name, status, created_at, admin_notes, request_type").ilike("phone_number",`%${m}%`).order("created_at",{ascending:!1});if(y)throw y;const x=(h||[]).map(b=>({id:b.id,title:b.title||b.medicine_name||"Sans titre",status:b.status,created_at:b.created_at,user_notes:b.admin_notes,type:b.request_type}));o(x),l(!0)}catch(m){console.error("Search error:",m),e({title:"Erreur",description:"Impossible de rechercher les demandes. Ressayez plus tard.",variant:"destructive"})}finally{r(!1)}};return s.jsxs("div",{className:"container max-w-lg mx-auto py-12 px-4",children:[s.jsxs("div",{className:"text-center mb-10 space-y-4",children:[s.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Xt,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:"Mes Demandes"}),s.jsx("p",{className:"text-muted-foreground",children:"Saisissez votre numro de tlphone pour voir l'tat de vos demandes."})]}),s.jsxs(B,{className:"border-t-4 border-t-primary shadow-lg mb-8",children:[s.jsxs(ce,{children:[s.jsx(xe,{children:"Recherche"}),s.jsx(nt,{children:"Utilisez le numro fourni lors de la cration de la demande."})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:u,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"phone",children:"Numro de tlphone"}),s.jsx(M,{id:"phone",placeholder:"ex: 0550...",value:n,onChange:p=>a(p.target.value),required:!0,className:"text-lg tracking-wide"})]}),s.jsxs(D,{type:"submit",className:"w-full text-lg h-12",disabled:t,children:[t?s.jsx(tv,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Xt,{className:"mr-2 h-4 w-4"}),t?"Recherche...":"Voir mes demandes"]})]})})]}),c&&i.length===0&&s.jsxs("div",{className:"text-center p-8 bg-muted/30 rounded-xl border border-dashed animate-in fade-in zoom-in-95 duration-300",children:[s.jsx(ya,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-lg",children:"Aucune demande trouve"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Aucune demande associe  ce numro. Vrifiez le format (ex: 0550...)."})]}),i.length>0&&s.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("h2",{className:"text-xl font-semibold px-1",children:["Rsultats (",i.length,")"]}),i.map(p=>s.jsxs(B,{className:"overflow-hidden border-2 border-primary/5 shadow-md hover:shadow-lg transition-all",children:[s.jsx("div",{className:`h-1.5 w-full ${d(p.status).color}`}),s.jsxs(ce,{className:"pb-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Q,{variant:"outline",className:"uppercase text-[10px] tracking-wider",children:p.type==="local"?"Locale":"tranger"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",p.id.slice(0,8)]})]}),s.jsx(xe,{className:"text-lg line-clamp-1",children:p.title||"Demande sans titre"})]}),s.jsx(Q,{className:`${d(p.status).color} text-white shrink-0`,children:d(p.status).label})]}),s.jsxs(nt,{className:"flex items-center gap-1 text-xs mt-1",children:[s.jsx($l,{className:"w-3 h-3"})," ",new Date(p.created_at).toLocaleDateString()]})]}),s.jsxs(V,{className:"pb-4 pt-0 space-y-3",children:[s.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex gap-3 items-start text-sm",children:[(()=>{const m=d(p.status).icon;return s.jsx(m,{className:`w-5 h-5 shrink-0 mt-0.5 ${d(p.status).color.replace("bg-","text-")}`})})(),s.jsx("div",{children:s.jsx("p",{className:"text-muted-foreground leading-snug",children:d(p.status).desc})})]}),p.user_notes&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg text-sm",children:[s.jsxs("div",{className:"font-semibold text-yellow-800 flex items-center gap-2 mb-1",children:[s.jsx(mn,{className:"w-3 h-3"})," Note Admin:"]}),s.jsxs("p",{className:"text-yellow-700 italic",children:['"',p.user_notes,'"']})]})]})]},`${p.type}-${p.id}`))]})]})},e8=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState({fullName:"",currentCountry:"",city:"",phone:"",email:"",contactType:{whatsapp:!1,telegram:!1},contactValues:{whatsapp:"",telegram:""},canSendMedicine:!1,canBuyMedicine:!1,canShipParcels:!1,canProvideFunding:!1,canCoordinate:!1,financialAbility:"cannot_pay",maxAmount:"",extraNotes:"",notifyUrgent:!1,notifyFunding:!1,notifyImport:!1,agreedToTerms:!1}),o=()=>!a.fullName||!a.currentCountry||!a.city?(t({title:e("order.validation.error"),description:e("order.validation.name_required"),variant:"destructive"}),!1):a.phone.trim()?a.contactType.whatsapp&&!a.contactValues.whatsapp?(t({title:e("order.validation.error"),description:"Numro WhatsApp requis",variant:"destructive"}),!1):a.contactType.telegram&&!a.contactValues.telegram?(t({title:e("order.validation.error"),description:"Nom d'utilisateur Telegram requis",variant:"destructive"}),!1):!a.canSendMedicine&&!a.canBuyMedicine&&!a.canShipParcels&&!a.canProvideFunding&&!a.canCoordinate?(t({title:e("order.validation.error"),description:e("order.validation.name_required"),variant:"destructive"}),!1):a.agreedToTerms?!0:(t({title:e("order.validation.error"),description:e("order.validation.name_required"),variant:"destructive"}),!1):(t({title:e("order.validation.error"),description:"Numro de tlphone requis",variant:"destructive"}),!1),c=async l=>{if(l.preventDefault(),!!o()){n(!0);try{const d=["phone"],u=[`Phone: ${a.phone}`];a.contactType.whatsapp&&(d.push("whatsapp"),u.push(`WhatsApp: ${a.contactValues.whatsapp.trim()}`)),a.contactType.telegram&&(d.push("telegram"),u.push(`Telegram: ${a.contactValues.telegram.trim()}`));const{error:p}=await L.from("diaspora_volunteers").insert({full_name:a.fullName,current_country:a.currentCountry,city:a.city,email:a.email,contact_type:d.join(", "),contact_value:u.join(" | "),can_send_medicine:a.canSendMedicine,can_buy_medicine:a.canBuyMedicine,can_ship_parcels:a.canShipParcels,can_provide_financial_support:a.canProvideFunding,can_coordinate:a.canCoordinate,financial_ability:a.financialAbility,max_amount:a.maxAmount?parseFloat(a.maxAmount):null,extra_notes:a.extraNotes,notify_urgent_cases:a.notifyUrgent,notify_funding_needed:a.notifyFunding,notify_import_requests:a.notifyImport,agreed_to_terms:a.agreedToTerms});if(p){console.error("Insert error:",p),t({title:e("order.error.title"),description:e("order.error.generic"),variant:"destructive"}),n(!1);return}t({title:e("alkhayr.diaspora.success.title"),description:e("alkhayr.diaspora.success.desc")}),i({fullName:"",currentCountry:"",city:"",phone:"",contactType:{whatsapp:!1,telegram:!1},contactValues:{whatsapp:"",telegram:""},canSendMedicine:!1,canBuyMedicine:!1,canShipParcels:!1,canProvideFunding:!1,canCoordinate:!1,financialAbility:"cannot_pay",maxAmount:"",extraNotes:"",notifyUrgent:!1,notifyFunding:!1,notifyImport:!1,agreedToTerms:!1})}catch(d){console.error("Error:",d),t({title:e("order.error.title"),description:e("order.error.generic"),variant:"destructive"})}finally{n(!1)}}};return s.jsxs("div",{className:"max-w-6xl mx-auto py-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold charity-text-gradient mb-2",children:e("alkhayr.diaspora.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("alkhayr.diaspora.subtitle")})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:c,className:"space-y-5",children:[s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(vn,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:e("alkhayr.diaspora.form.personalInfo")})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"fullName",className:"text-xs font-medium",children:[e("alkhayr.diaspora.form.fullName")," *"]}),s.jsx(M,{id:"fullName",value:a.fullName,onChange:l=>i({...a,fullName:l.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"currentCountry",className:"text-xs font-medium",children:[e("alkhayr.diaspora.form.country")," *"]}),s.jsx(M,{id:"currentCountry",value:a.currentCountry,onChange:l=>i({...a,currentCountry:l.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{htmlFor:"city",className:"text-xs font-medium",children:[e("alkhayr.diaspora.form.city")," *"]}),s.jsx(M,{id:"city",value:a.city,onChange:l=>i({...a,city:l.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"phone",className:"text-xs font-medium",children:"Numro de tlphone *"}),s.jsx(M,{id:"phone",placeholder:"Ex: 0550123456",value:a.phone,onChange:l=>i({...a,phone:l.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"email",className:"text-xs font-medium",children:"Email *"}),s.jsx(M,{id:"email",type:"email",placeholder:"Ex: email@example.com",value:a.email,onChange:l=>i({...a,email:l.target.value}),className:"h-10",required:!0})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx(P,{className:"text-xs font-medium",children:"Autres moyens de contact (Optionnel)"}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${a.contactType.whatsapp?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{id:"contact_whatsapp",checked:a.contactType.whatsapp,onCheckedChange:l=>i(d=>({...d,contactType:{...d.contactType,whatsapp:l}}))}),s.jsx(P,{htmlFor:"contact_whatsapp",className:"cursor-pointer font-semibold flex items-center gap-2",children:"WhatsApp"})]}),a.contactType.whatsapp&&s.jsx(M,{placeholder:e("order.personal.contact_ph_whatsapp"),value:a.contactValues.whatsapp,onChange:l=>i(d=>({...d,contactValues:{...d.contactValues,whatsapp:l.target.value}})),className:"h-9 bg-white"})]}),s.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${a.contactType.telegram?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{id:"contact_telegram",checked:a.contactType.telegram,onCheckedChange:l=>i(d=>({...d,contactType:{...d.contactType,telegram:l}}))}),s.jsx(P,{htmlFor:"contact_telegram",className:"cursor-pointer font-semibold flex items-center gap-2",children:"Telegram"})]}),a.contactType.telegram&&s.jsx(M,{placeholder:e("order.personal.contact_ph_telegram"),value:a.contactValues.telegram,onChange:l=>i(d=>({...d,contactValues:{...d.contactValues,telegram:l.target.value}})),className:"h-9 bg-white"})]})]})]})]})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-3",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(ST,{className:"w-4 h-4"}),s.jsxs("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:[e("alkhayr.diaspora.form.canOffer")," *"]})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"canSendMedicine",checked:a.canSendMedicine,onCheckedChange:l=>i({...a,canSendMedicine:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.sendMedicine")})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"canBuyMedicine",checked:a.canBuyMedicine,onCheckedChange:l=>i({...a,canBuyMedicine:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.buyMedicine")})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"canShipParcels",checked:a.canShipParcels,onCheckedChange:l=>i({...a,canShipParcels:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.shipParcels")})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"canProvideFunding",checked:a.canProvideFunding,onCheckedChange:l=>i({...a,canProvideFunding:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.financialSupport")})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"canCoordinate",checked:a.canCoordinate,onCheckedChange:l=>i({...a,canCoordinate:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.coordination")})]})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(RT,{className:"w-4 h-4"}),s.jsxs("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:[e("alkhayr.diaspora.form.financialAbility")," *"]})]}),s.jsxs(Ee,{value:a.financialAbility,onValueChange:l=>i({...a,financialAbility:l}),children:[s.jsx(ke,{className:"h-10",children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"can_pay",children:e("alkhayr.diaspora.form.canFullyCover")}),s.jsx(K,{value:"cannot_pay",children:e("alkhayr.diaspora.form.cannotCover")}),s.jsx(K,{value:"partially",children:e("alkhayr.diaspora.form.canPartiallyCover")})]})]}),a.financialAbility!=="cannot_pay"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"maxAmount",className:"text-xs font-medium",children:e("alkhayr.diaspora.form.maxAmount")}),s.jsx(M,{id:"maxAmount",type:"number",step:"0.01",value:a.maxAmount,onChange:l=>i({...a,maxAmount:l.target.value}),className:"h-10"})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-3",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(mn,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:e("alkhayr.diaspora.form.extraNotes")})]}),s.jsx(He,{id:"extraNotes",placeholder:e("alkhayr.diaspora.form.extraNotesPlaceholder"),value:a.extraNotes,onChange:l=>i({...a,extraNotes:l.target.value}),rows:3,className:"resize-none"})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-3",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(Op,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:e("alkhayr.diaspora.form.notifications")})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"notifyUrgent",checked:a.notifyUrgent,onCheckedChange:l=>i({...a,notifyUrgent:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.urgentCases")})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"notifyFunding",checked:a.notifyFunding,onCheckedChange:l=>i({...a,notifyFunding:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.fundingNeeded")})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx($e,{id:"notifyImport",checked:a.notifyImport,onCheckedChange:l=>i({...a,notifyImport:l})}),s.jsx("span",{children:e("alkhayr.diaspora.form.importRequests")})]})]})]})}),s.jsx(B,{className:"border border-primary/60 bg-background shadow-none hover:shadow-md transition-all",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20 w-fit mb-2",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold text-xs uppercase tracking-wide",children:e("alkhayr.diaspora.form.agree")})]}),s.jsxs("label",{className:"flex items-start gap-3 text-xs leading-relaxed",children:[s.jsx($e,{id:"agreedToTerms",checked:a.agreedToTerms,onCheckedChange:l=>i({...a,agreedToTerms:l}),required:!0}),s.jsxs("span",{children:[e("alkhayr.diaspora.form.agree")," *"]})]}),s.jsx(D,{type:"submit",disabled:r,className:"w-full h-11 text-sm font-semibold bg-primary hover:bg-primary/90 text-white shadow-md",children:e(r?"alkhayr.diaspora.form.submitting":"alkhayr.diaspora.form.submit")})]})})]})}),s.jsx("div",{className:"space-y-5 lg:sticky lg:top-8 h-fit",children:s.jsx(B,{className:"border border-info/40 bg-info/5 shadow-sm",children:s.jsxs(V,{className:"p-5 space-y-3 text-sm",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(yt,{className:"w-10 h-10 text-primary"})}),s.jsx("p",{className:"font-medium",children:e("alkhayr.diaspora.subtitle")}),s.jsx("p",{className:"text-xs text-foreground/70",children:" Votre inscription sera examine avant approbation."})]})})})]})]})},t8=()=>{const{t:e}=ye(),[t,r]=fx();Et();const n=t.get("type")||"local",a=i=>{r({type:i}),window.scrollTo({top:0,behavior:"smooth"})};return s.jsx(it,{children:s.jsx(tt,{id:"unified-requests-legacy",padding:"sm",className:"pt-4",variant:"charity",children:s.jsxs("div",{className:"container mx-auto max-w-7xl",children:[s.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-center",children:s.jsx("p",{className:"font-semibold",children:e("alkhayr.legacy_mode_warning")})}),s.jsxs(Qs,{value:n,onValueChange:a,className:"space-y-6",children:[s.jsx("div",{className:"w-full py-4 text-center",children:s.jsxs(Ls,{className:"h-auto flex-wrap justify-center gap-2 p-1 bg-muted/40 backdrop-blur inline-flex",children:[s.jsxs(De,{value:"local",className:"gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("alkhayr.nav.local")})]}),s.jsxs(De,{value:"foreign",className:"gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[s.jsx(as,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("alkhayr.nav.foreign")})]}),s.jsxs(De,{value:"requests",className:"gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[s.jsx(vT,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("alkhayr.requests.title")})]}),s.jsxs(De,{value:"my-requests",className:"gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[s.jsx(ln,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("alkhayr.nav.myRequests")})]}),s.jsxs(De,{value:"diaspora",className:"gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[s.jsx(TT,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("alkhayr.nav.diaspora")})]})]})}),s.jsxs("div",{className:"min-h-[60vh] animate-in fade-in duration-500",children:[s.jsx(Ke,{value:"local",className:"space-y-6",children:s.jsx(gF,{})}),s.jsx(Ke,{value:"foreign",className:"space-y-6",children:s.jsx(xF,{})}),s.jsx(Ke,{value:"requests",className:"space-y-6",children:s.jsx(XF,{})}),s.jsx(Ke,{value:"my-requests",className:"space-y-6",children:s.jsx(ZF,{})}),s.jsx(Ke,{value:"diaspora",className:"space-y-6",children:s.jsx(e8,{})})]})]})]})})})},s8=()=>{const{t:e}=ye();return s.jsxs("div",{className:"relative bg-[#8E0000] text-white py-12 md:py-20 px-4 overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-10",children:[s.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 rounded-full bg-white blur-3xl"}),s.jsx("div",{className:"absolute top-1/2 right-0 w-64 h-64 rounded-full bg-white blur-3xl"})]}),s.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 md:gap-12",children:[s.jsxs("div",{className:"max-w-2xl space-y-6 text-center md:text-left",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-sm font-medium animate-in fade-in slide-in-from-left duration-700",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),e("blood.hero.badge")]}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:[e("blood.hero.main_title_1")," ",s.jsx("br",{}),s.jsx("span",{className:"text-red-200",children:e("blood.hero.main_title_2")})]}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-red-100 max-w-xl leading-relaxed",children:e("blood.hero.description")}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-200 bg-black/20 px-4 py-2 rounded-lg",children:[s.jsx(Tg,{className:"h-5 w-5"}),s.jsx("span",{children:e("blood.hero.volunteer")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-200 bg-black/20 px-4 py-2 rounded-lg",children:[s.jsx(yo,{className:"h-5 w-5"}),s.jsx("span",{children:e("blood.hero.impact")})]})]})]}),s.jsx("div",{className:"hidden md:block relative",children:s.jsxs("div",{className:"relative w-72 h-72 lg:w-96 lg:h-96",children:[s.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-4 bg-red-500/30 rounded-full blur-xl"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(yo,{className:"w-48 h-48 text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.5)] fill-red-600"})})]})})]})})]})},r8=["A+","A-","B+","B-","AB+","AB-","O+","O-"],n8=["Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","Bjaa","Biskra","Bchar","Blida","Bouira","Tamanrasset","Tbessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","Stif","Sada","Skikda","Sidi Bel Abbs","Annaba","Guelma","Constantine","Mda","Mostaganem","M'Sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou Arrridj","Boumerds","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","An Defla","Nama","An Tmouchent","Ghardaa","Relizane","Timimoun","Bordj Badji Mokhtar","Ouled Djellal","Bni Abbs","In Salah","In Guezzam","Touggourt","Djanet","El M'Ghair","El Menia"],a8=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState(!1),[o,c]=f.useState(""),[l,d]=f.useState({fullName:"",phoneNumber:"",email:"",age:"",bloodType:"",lastDonationDate:"",wilaya:"",city:"",medicalConditions:"",willingToBeContacted:!0,canShareInfo:!0,contactApp:"aucun",whatsappNumber:"",telegramUsername:""}),u=()=>l.wilaya?l.city.trim()?!0:(t({title:"Erreur",description:e("blood.register.errors.city"),variant:"destructive"}),!1):(t({title:"Erreur",description:e("blood.register.errors.wilaya"),variant:"destructive"}),!1),p=async m=>{if(m.preventDefault(),!!u()){n(!0);try{const{data:h}=await L.rpc("get_donor_by_phone",{phone:l.phoneNumber.trim()}).maybeSingle();if(h){t({title:"Erreur",description:e("blood.register.errors.duplicate_phone")||"Ce numro est dj enregistr/This number is already registered.",variant:"destructive"}),n(!1);return}const{error:y}=await L.from("blood_donors").insert({full_name:l.fullName,phone_number:l.phoneNumber,email:l.email||null,age:parseInt(l.age),blood_type:l.bloodType,last_donation_date:l.lastDonationDate||null,wilaya:l.wilaya,city:l.city,medical_conditions:l.medicalConditions||null,willing_to_be_contacted:l.willingToBeContacted,can_share_info:l.canShareInfo,is_active:!0,approved_by_admin:!1,contact_app:l.contactApp,whatsapp_number:l.contactApp==="whatsapp"?l.whatsappNumber:null,telegram_username:l.contactApp==="telegram"?l.telegramUsername:null});if(y){console.error("Error registering donor:",y),t({title:"Erreur",description:e("blood.register.errors.reg_error"),variant:"destructive"});return}t({title:e("blood.register.success_title"),description:e("blood.register.success_desc")}),i(!0),c(l.phoneNumber),d({fullName:"",phoneNumber:"",email:"",age:"",bloodType:"",lastDonationDate:"",wilaya:"",city:"",medicalConditions:"",willingToBeContacted:!0,canShareInfo:!0,contactApp:"aucun",whatsappNumber:"",telegramUsername:""}),L.functions.invoke("send-email",{body:{type:"blood_donor_registration",record:{full_name:l.fullName,phone_number:l.phoneNumber,email:l.email,age:l.age,blood_type:l.bloodType,last_donation_date:l.lastDonationDate,wilaya:l.wilaya,city:l.city,medical_conditions:l.medicalConditions}}}).then(({error:x})=>{x&&console.error("Email Error:",x)})}catch(h){console.error("Error:",h),t({title:"Erreur",description:e("blood.register.errors.unexpected"),variant:"destructive"})}finally{n(!1)}}};return a?s.jsx("div",{className:"max-w-2xl mx-auto py-12 px-4",children:s.jsx(B,{className:"border-[#C62828]/20 bg-[#FDECEA]/50 shadow-lg text-center p-8",children:s.jsxs(V,{className:"space-y-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ur,{className:"h-10 w-10 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-[#1F2933]",children:e("blood.register.success_title")}),s.jsx("p",{className:"text-[#374151]",children:e("blood.register.success_desc")})]}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(D,{onClick:()=>{var m;return(m=document.querySelector('[value="profile"]'))==null?void 0:m.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},className:"bg-[#C62828] hover:bg-[#8E0000] text-white",children:e("blood.register.btn_profile")}),s.jsx(D,{variant:"outline",onClick:()=>i(!1),children:e("blood.register.btn_another")})]})]})})}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(B,{className:"border-none shadow-none bg-transparent",children:[s.jsxs(ce,{className:"text-center pb-8",children:[s.jsx(xe,{className:"text-3xl font-bold text-[#8E0000]",children:e("blood.register.title")}),s.jsx(nt,{className:"text-lg",children:e("blood.register.subtitle")})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:p,className:"space-y-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-red-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#C62828]",children:[s.jsx(Sr,{className:"h-5 w-5"})," ",e("blood.register.personal_info")]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"fullName",children:e("blood.register.full_name")}),s.jsx(M,{id:"fullName",className:"focus-visible:ring-[#C62828]",value:l.fullName,onChange:m=>d({...l,fullName:m.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"phoneNumber",children:e("blood.register.phone")}),s.jsx(M,{id:"phoneNumber",type:"tel",className:"focus-visible:ring-[#C62828]",value:l.phoneNumber,onChange:m=>d({...l,phoneNumber:m.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"email",children:e("blood.register.email")}),s.jsx(M,{id:"email",type:"email",className:"focus-visible:ring-[#C62828]",value:l.email,onChange:m=>d({...l,email:m.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"age",children:e("blood.register.age")}),s.jsx(M,{id:"age",type:"number",min:"18",max:"65",className:"focus-visible:ring-[#C62828]",value:l.age,onChange:m=>d({...l,age:m.target.value}),required:!0})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-red-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#C62828]",children:[s.jsx(yo,{className:"h-5 w-5"})," ",e("blood.register.blood_info")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"bloodType",children:e("blood.register.blood_type")}),s.jsxs(Ee,{value:l.bloodType,onValueChange:m=>d({...l,bloodType:m}),children:[s.jsx(ke,{className:"focus:ring-[#C62828]",children:s.jsx(Pe,{placeholder:"Slectionner..."})}),s.jsx(Ce,{children:r8.map(m=>s.jsx(K,{value:m,children:m},m))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"lastDonationDate",children:e("blood.register.last_donation")}),s.jsx(M,{id:"lastDonationDate",type:"date",className:"focus-visible:ring-[#C62828]",value:l.lastDonationDate,onChange:m=>d({...l,lastDonationDate:m.target.value})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-red-100 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#C62828]",children:[s.jsx(_s,{className:"h-5 w-5"})," ",e("blood.register.location")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"wilaya",children:e("blood.register.wilaya")}),s.jsxs(Ee,{value:l.wilaya,onValueChange:m=>d({...l,wilaya:m}),children:[s.jsx(ke,{className:"focus:ring-[#C62828] h-11",children:s.jsx(Pe,{placeholder:"Slectionner..."})}),s.jsx(Ce,{className:"max-h-[300px]",children:n8.map(m=>s.jsx(K,{value:m,children:m},m))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"city",children:e("blood.register.city")}),s.jsx(M,{id:"city",className:"focus-visible:ring-[#C62828]",value:l.city,onChange:m=>d({...l,city:m.target.value}),required:!0})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-red-100 shadow-sm space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"medicalConditions",children:e("blood.register.medical_info")}),s.jsx(He,{id:"medicalConditions",className:"focus-visible:ring-[#C62828]",value:l.medicalConditions,onChange:m=>d({...l,medicalConditions:m.target.value}),rows:2})]}),s.jsxs("div",{className:"space-y-3 pt-4 border-t border-red-100",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($e,{id:"willingToBeContacted",className:"data-[state=checked]:bg-[#C62828] border-red-200",checked:l.willingToBeContacted,onCheckedChange:m=>d({...l,willingToBeContacted:m})}),s.jsx("label",{htmlFor:"willingToBeContacted",className:"text-sm cursor-pointer",children:e("blood.register.consent_contact")})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($e,{id:"canShareInfo",className:"data-[state=checked]:bg-[#C62828] border-red-200",checked:l.canShareInfo,onCheckedChange:m=>d({...l,canShareInfo:m})}),s.jsx("label",{htmlFor:"canShareInfo",className:"text-sm cursor-pointer",children:e("blood.register.consent_public")})]})]})]}),s.jsx(D,{type:"submit",className:"w-full h-14 text-lg font-semibold bg-[#C62828] hover:bg-[#8E0000] shadow-md transition-all duration-300 transform hover:scale-[1.01]",disabled:r,children:e(r?"blood.register.submitting":"blood.register.submit")})]})})]}),s.jsx("div",{className:"mt-8 bg-[#FDECEA] border border-[#ffcdd2] rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsx("div",{className:"bg-white p-3 rounded-full shadow-sm",children:s.jsx(yt,{className:"h-6 w-6 text-[#C62828]"})}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h4",{className:"font-bold text-[#8E0000] mb-1",children:e("blood.register.eligibility_title")}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start text-sm text-[#1F2933]",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[" ",e("blood.register.criteria_age")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",e("blood.register.criteria_weight")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",e("blood.register.criteria_health")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",e("blood.register.criteria_recent")]})]})]})]})})]})},i8=()=>{var C;const{t:e}=ye(),t=$s();Et();const{toast:r}=Ne(),[n,a]=f.useState(!1),[i,o]=f.useState(null),[c,l]=f.useState(((C=t.state)==null?void 0:C.phoneNumber)||""),[d,u]=f.useState(!1),[p,m]=f.useState(!1),[h,y]=f.useState(""),[x,b]=f.useState(!1),[g,v]=f.useState({can_share_info:!1,willing_to_be_contacted:!1});f.useEffect(()=>{i&&v({can_share_info:i.can_share_info,willing_to_be_contacted:i.willing_to_be_contacted})},[i]);const j=async()=>{if(i){m(!0);try{const{error:A}=await L.from("blood_donors").update({can_share_info:g.can_share_info,willing_to_be_contacted:g.willing_to_be_contacted}).eq("id",i.id);if(A)throw A;r({title:e("alkhayr_public.details.success"),description:e("blood.profile.update_success")}),o({...i,can_share_info:g.can_share_info,willing_to_be_contacted:g.willing_to_be_contacted}),b(!1)}catch(A){console.error("Error updating profile:",A),r({title:e("alkhayr_public.details.error"),description:e("blood.profile.update_error"),variant:"destructive"})}finally{m(!1)}}};f.useEffect(()=>{var A;c&&((A=t.state)!=null&&A.phoneNumber)&&w(c)},[]);const w=async A=>{if(!A.trim()){r({title:e("alkhayr_public.details.error"),description:e("blood.profile.errors.enter_phone"),variant:"destructive"});return}a(!0);try{const{data:E,error:S}=await L.rpc("get_donor_by_phone",{phone:A.trim()}).maybeSingle();if(S||!E){r({title:e("blood.profile.donor_not_found"),description:e("blood.profile.donor_not_found_desc"),variant:"destructive"}),o(null);return}o(E),y(E.last_donation_date||"")}catch(E){console.error("Error fetching donor:",E),r({title:"Erreur",description:"Une erreur est survenue",variant:"destructive"})}finally{a(!1)}},N=async()=>{if(i){m(!0);try{const{error:A}=await L.from("blood_donors").update({last_donation_date:h||null}).eq("id",i.id);if(A){r({title:"Erreur",description:"Impossible de mettre  jour",variant:"destructive"});return}r({title:e("alkhayr_public.details.success"),description:e("blood.profile.update_success")}),i.email?(console.log("[BloodProfile] Sending update email to:",i.email),L.functions.invoke("send-email",{body:{type:"blood_donation_thank_you",record:{full_name:i.full_name,email:i.email,last_donation_date:h}}}).then(({data:E,error:S})=>{if(S){console.error("[BloodProfile] Function Error:",S),r({title:"Email Error",description:"Backend outdated? Please deploy.",variant:"destructive"});const T=L.supabaseUrl||"",R=T.split(".")[0].split("/").pop(),I=T.includes("localhost")?"LOCAL":`Proj: ${R}`;E&&E.message&&typeof E.message=="string"&&E.message.includes("Unknown type")?r({title:"Deployment Check",description:`${E.message} (${I})`,variant:"destructive"}):E&&E.name==="validation_error"?r({title:"Email Error",description:"Resend Validation Error: "+E.message,variant:"destructive"}):r({title:"Notification",description:`Envoy! ID: ${(E==null?void 0:E.id)||"OK"}`,duration:4e3})}}).catch(E=>{console.error("[BloodProfile] Network/Invoke Error:",E),r({title:"System Error",description:`Check console: ${E.message||"Network error"}`,variant:"destructive"})})):(console.log("[BloodProfile] No email found, skipping."),r({title:"Debug: No Email",description:`Donor ID: ${i.id} has no email.`,variant:"destructive"}),r({title:"Info",description:"Aucun email li, pas de notif.",duration:3e3})),o({...i,last_donation_date:h||null}),u(!1)}catch(A){console.error("Error updating:",A),r({title:"Erreur",description:"Une erreur est survenue",variant:"destructive"})}finally{m(!1)}}},_=i?(A=>{if(!A)return null;const E=new Date(A),R=56-Math.ceil((new Date().getTime()-E.getTime())/(1e3*60*60*24));return R>0?R:0})(i.last_donation_date):null;return i?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-red-100 shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold text-[#8E0000]",children:e("blood.profile.welcome",{name:i.full_name.split(" ")[0]})}),s.jsxs(D,{variant:"ghost",onClick:()=>{o(null),l("")},className:"text-gray-500 hover:text-[#C62828]",children:[s.jsx(Ag,{className:"h-4 w-4 mr-2"})," ",e("blood.profile.logout")]})]}),s.jsxs(bu,{className:`border-l-4 ${_===0||_===null?"bg-green-50 border-green-500 border-l-green-600":"bg-orange-50 border-orange-200 border-l-orange-500"}`,children:[_===0||_===null?s.jsx(Ur,{className:"h-5 w-5 text-green-600"}):s.jsx(ya,{className:"h-5 w-5 text-orange-600"}),s.jsxs(ju,{className:"ml-2 text-base font-medium",children:[_===null&&s.jsx("span",{className:"text-green-800",children:e("blood.profile.eligible")}),_===0&&s.jsx("span",{className:"text-green-800",children:e("blood.profile.eligible_again")}),_&&_>0&&s.jsx("span",{className:"text-orange-800",children:e("blood.profile.days_remaining",{count:_})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(B,{className:"border-red-50 shadow-md",children:[s.jsx(ce,{className:"pb-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(xe,{className:"text-lg font-bold text-[#1F2933]",children:e("blood.profile.personal_info")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{className:"bg-[#C62828] text-lg font-bold px-3 py-1",children:i.blood_type}),!x&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-[#C62828] hover:bg-red-50 h-8 px-2",children:s.jsx(on,{className:"h-4 w-4"})})]})]})}),s.jsxs(V,{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-[#374151] text-xs",children:e("blood.profile.full_name")}),s.jsx("p",{className:"font-semibold text-[#1F2933]",children:i.full_name})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-[#374151] text-xs",children:e("blood.profile.age")}),s.jsxs("p",{className:"font-semibold text-[#1F2933]",children:[i.age," ",e("alkhayr_public.details.years")]})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-[#374151] text-xs",children:e("blood.profile.phone")}),s.jsx("p",{className:"font-semibold text-[#1F2933]",children:i.phone_number})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-[#374151] text-xs",children:e("blood.profile.wilaya")}),s.jsx("p",{className:"font-semibold text-[#1F2933]",children:i.wilaya})]})]}),s.jsx("div",{className:"pt-2 border-t border-gray-100",children:x?s.jsxs("div",{className:"space-y-3 bg-red-50/50 p-3 rounded-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(P,{htmlFor:"shareInfo",className:"cursor-pointer",children:e("blood.profile.public_visible")}),s.jsx("input",{type:"checkbox",id:"shareInfo",className:"w-5 h-5 accent-[#C62828]",checked:g.can_share_info,onChange:A=>v({...g,can_share_info:A.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(P,{htmlFor:"contact",className:"cursor-pointer",children:e("blood.profile.emergency_contact")}),s.jsx("input",{type:"checkbox",id:"contact",className:"w-5 h-5 accent-[#C62828]",checked:g.willing_to_be_contacted,onChange:A=>v({...g,willing_to_be_contacted:A.target.checked})})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>b(!1),children:e("blood.profile.cancel")}),s.jsxs(D,{size:"sm",onClick:j,disabled:p,className:"bg-[#C62828] hover:bg-[#8E0000] text-white",children:[s.jsx(nn,{className:"h-4 w-4 mr-1"})," ",e("blood.profile.save")]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 items-center",children:[s.jsx("span",{className:"text-sm text-[#374151]",children:e("blood.profile.public_visible")}),s.jsx(Q,{variant:i.can_share_info?"default":"secondary",className:i.can_share_info?"bg-green-600":"",children:i.can_share_info?e("blood.profile.yes"):e("blood.profile.no")})]}),s.jsxs("div",{className:"flex justify-between py-2 items-center",children:[s.jsx("span",{className:"text-sm text-[#374151]",children:e("blood.profile.emergency_contact")}),s.jsx(Q,{variant:i.willing_to_be_contacted?"default":"secondary",className:i.willing_to_be_contacted?"bg-green-600":"",children:i.willing_to_be_contacted?e("blood.profile.yes"):e("blood.profile.no")})]})]})})]})]}),s.jsxs(B,{className:"border-red-50 shadow-md",children:[s.jsx(ce,{className:"pb-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(xe,{className:"text-lg font-bold text-[#1F2933] flex items-center gap-2",children:[s.jsx($l,{className:"h-5 w-5 text-[#C62828]"})," ",e("blood.profile.history")]}),!d&&s.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>u(!0),className:"text-[#C62828] hover:bg-red-50",children:[s.jsx(on,{className:"h-4 w-4 mr-1"})," ",e("blood.profile.edit")]})]})}),s.jsx(V,{className:"pt-4",children:d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-[#374151]",children:e("blood.profile.last_donation")}),s.jsx(M,{type:"date",value:h,onChange:A=>y(A.target.value),className:"focus-visible:ring-[#C62828]"})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>u(!1),children:e("blood.profile.cancel")}),s.jsxs(D,{size:"sm",onClick:N,disabled:p,className:"bg-[#C62828] hover:bg-[#8E0000] text-white",children:[s.jsx(nn,{className:"h-4 w-4 mr-1"})," ",e("blood.profile.save")]})]})]}):s.jsxs("div",{className:"text-center py-6 bg-red-50/50 rounded-lg border border-red-50",children:[s.jsx("p",{className:"text-sm text-[#374151] mb-1",children:e("blood.profile.last_donation")}),s.jsx("p",{className:"text-2xl font-bold text-[#8E0000]",children:i.last_donation_date?new Date(i.last_donation_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):e("blood.profile.no_donation")})]})})]})]})]}):s.jsx("div",{className:"max-w-md mx-auto py-12",children:s.jsxs(B,{className:"border border-red-100 shadow-lg",children:[s.jsxs(ce,{className:"text-center",children:[s.jsx("div",{className:"mx-auto bg-red-50 p-3 rounded-full mb-4 w-16 h-16 flex items-center justify-center",children:s.jsx(Sr,{className:"h-8 w-8 text-[#C62828]"})}),s.jsx(xe,{className:"text-xl font-bold text-[#8E0000]",children:e("blood.profile.access_title")}),s.jsx(nt,{children:e("blood.profile.access_desc")})]}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(M,{type:"tel",placeholder:e("blood.profile.ph_phone"),value:c,onChange:A=>l(A.target.value),className:"focus-visible:ring-[#C62828]"}),s.jsx(D,{onClick:()=>w(c),disabled:n,className:"bg-[#C62828] hover:bg-[#8E0000] text-white",children:n?"...":e("blood.profile.btn_access")})]}),s.jsxs("div",{className:"text-center pt-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:e("blood.profile.not_registered")}),s.jsx(D,{variant:"link",className:"text-[#C62828] font-semibold",onClick:()=>{var A;return(A=document.querySelector('[value="register"]'))==null?void 0:A.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:e("blood.profile.btn_register")})]})]})]})})},o8=["Tous","A+","A-","B+","B-","AB+","AB-","O+","O-"],l8=["Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","Bjaa","Biskra","Bchar","Blida","Bouira","Tamanrasset","Tbessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","Stif","Sada","Skikda","Sidi Bel Abbs","Annaba","Guelma","Constantine","Mda","Mostaganem","M'Sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou Arrridj","Boumerds","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","An Defla","Nama","An Tmouchent","Ghardaa","Relizane","Timimoun","Bordj Badji Mokhtar","Ouled Djellal","Bni Abbs","In Salah","In Guezzam","Touggourt","Djanet","El M'Ghair","El Menia"],c8=()=>{const{toast:e}=Ne(),{t}=ye(),[r,n]=f.useState(!0),[a,i]=f.useState([]),[o,c]=f.useState([]),[l,d]=f.useState("all"),[u,p]=f.useState("all"),[m,h]=f.useState("");f.useEffect(()=>{y()},[]),f.useEffect(()=>{x()},[l,u,m,a]);const y=async()=>{n(!0);try{const{data:w,error:N}=await L.from("blood_donors").select("id, full_name, phone_number, blood_type, wilaya, city, last_donation_date, willing_to_be_contacted, contact_app, whatsapp_number, telegram_username").eq("is_active",!0).eq("can_share_info",!0).eq("approved_by_admin",!0).order("last_donation_date",{ascending:!1,nullsFirst:!1});if(N)throw N;i(w||[])}catch(w){console.error("Error fetching donors:",w),e({title:t("alkhayr_public.details.error"),description:t("blood.search.error_fetch"),variant:"destructive"})}finally{n(!1)}},x=()=>{let w=[...a];l!=="all"&&(w=w.filter(N=>N.blood_type===l)),u!=="all"&&(w=w.filter(N=>N.wilaya===u)),m.trim()&&(w=w.filter(N=>N.full_name.toLowerCase().includes(m.toLowerCase()))),c(w)},b=w=>window.open(`tel:${w}`),g=w=>{const N=`https://wa.me/${w.replace(/[^0-9]/g,"")}?text=${encodeURIComponent("Bonjour, je vous contacte via Waseet Don de Sang concernant un besoin urgent.")}`;window.open(N,"_blank")},v=w=>{window.open(`https://t.me/${w.replace(/^@/,"")}`,"_blank")},j=w=>{if(!w)return t("blood.search.never_donated");const N=new Date(w),_=Math.ceil((new Date().getTime()-N.getTime())/(1e3*60*60*24));return _<30?t("blood.search.days_ago",{count:_}):_<365?t("blood.search.months_ago",{count:Math.floor(_/30)}):t("blood.search.years_ago",{count:Math.floor(_/365)})};return s.jsxs("div",{className:"space-y-8",children:[s.jsx(B,{className:"border border-red-100 shadow-md overflow-hidden bg-white",children:s.jsxs(V,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx("div",{className:"bg-red-50 p-2 rounded-lg",children:s.jsx(Pg,{className:"h-5 w-5 text-[#C62828]"})}),s.jsx("h3",{className:"font-bold text-lg text-[#1F2933]",children:t("blood.search.title")})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:t("blood.search.filter_blood")}),s.jsxs(Ee,{value:l,onValueChange:d,children:[s.jsx(ke,{className:"border-red-100 focus:ring-[#C62828] h-11",children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:t("alkhayr_public.filter.all")}),o8.slice(1).map(w=>s.jsx(K,{value:w,children:w},w))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:t("blood.search.filter_wilaya")}),s.jsxs(Ee,{value:u,onValueChange:p,children:[s.jsx(ke,{className:"border-red-100 focus:ring-[#C62828] h-11",children:s.jsx(Pe,{})}),s.jsxs(Ce,{className:"max-h-[300px]",children:[s.jsx(K,{value:"all",children:t("alkhayr_public.filter.all")}),l8.map(w=>s.jsx(K,{value:w,children:w},w))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:t("blood.search.filter_name")}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(M,{placeholder:t("blood.search.placeholder_name"),value:m,onChange:w=>h(w.target.value),className:"pl-9 border-red-100 focus-visible:ring-[#C62828]"})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-red-50 pt-4",children:[s.jsx("p",{className:"text-sm font-medium text-[#374151]",children:t("blood.search.results_count",{count:o.length})}),s.jsx(D,{variant:"ghost",size:"sm",className:"text-[#C62828] hover:text-[#8E0000] hover:bg-red-50",onClick:()=>{d("all"),p("all"),h("")},children:t("blood.search.reset")})]})]})}),r?s.jsxs("div",{className:"text-center py-20 bg-white/50 rounded-xl backdrop-blur-sm border border-red-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C62828] mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:t("blood.search.loading")})]}):o.length===0?s.jsxs("div",{className:"text-center py-20 bg-white/50 rounded-xl backdrop-blur-sm border border-red-50",children:[s.jsx(yo,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-[#1F2933] mb-2",children:t("blood.search.empty_title")}),s.jsx("p",{className:"text-[#374151]",children:t("blood.search.empty_desc")})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(w=>s.jsxs(B,{className:"border-none shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 bg-white overflow-hidden group",children:[s.jsx("div",{className:"h-2 bg-[#C62828]"}),s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-[#1F2933] group-hover:text-[#C62828] transition-colors",children:w.full_name}),s.jsxs("p",{className:"text-sm text-[#374151] flex items-center gap-1 mt-1",children:[s.jsx(_s,{className:"h-3 w-3"}),w.city,", ",w.wilaya]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-xs font-bold text-[#374151] mb-1",children:t("blood.search.filter_blood")}),s.jsx(Q,{className:"text-lg font-bold bg-white text-[#C62828] border-2 border-[#C62828] shadow-sm px-3 py-1",children:w.blood_type})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#1F2933] bg-gray-50 p-2 rounded-md",children:[s.jsx($l,{className:"h-4 w-4 text-[#C62828]"}),s.jsx("span",{children:t("blood.search.last_donation",{time:j(w.last_donation_date)})})]}),w.willing_to_be_contacted&&s.jsx(Q,{variant:"secondary",className:"w-full justify-center bg-green-50 text-green-700 border border-green-200 py-1.5 font-medium",children:t("blood.search.urgent_badge")}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2",children:[s.jsxs(D,{className:"w-full bg-gray-900 hover:bg-gray-800 text-white h-11",onClick:()=>b(w.phone_number),children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),t("blood.search.call")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.contact_app==="whatsapp"&&w.whatsapp_number&&s.jsx(D,{className:"w-full bg-[#25D366] hover:bg-[#128C7E] text-white h-11",onClick:()=>g(w.whatsapp_number),children:"WhatsApp"}),w.contact_app==="telegram"&&w.telegram_username&&s.jsx(D,{className:"w-full bg-[#229ED9] hover:bg-[#1976D2] text-white h-11",onClick:()=>v(w.telegram_username),children:"Telegram"})]})]})]})})]},w.id))}),s.jsxs("div",{className:"bg-[#FDECEA] border border-[#ffcdd2] rounded-lg p-4 flex items-start gap-3 mt-8",children:[s.jsx(ya,{className:"h-5 w-5 text-[#C62828] mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-[#8E0000] text-sm",children:t("blood.search.note_title")}),s.jsx("p",{className:"text-sm text-[#1F2933] mt-1",children:t("blood.search.note_desc")})]})]})]})},d8=["Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","Bjaa","Biskra","Bchar","Blida","Bouira","Tamanrasset","Tbessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","Stif","Sada","Skikda","Sidi Bel Abbs","Annaba","Guelma","Constantine","Mda","Mostaganem","M'Sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou Arrridj","Boumerds","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","An Defla","Nama","An Tmouchent","Ghardaa","Relizane","Timimoun","Bordj Badji Mokhtar","Ouled Djellal","Bni Abbs","In Salah","In Guezzam","Touggourt","Djanet","El M'Ghair","El Menia"],u8=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState({full_name:"",email:"",phone_number:"",wilaya:"",city:"",whatsapp_enabled:!1,whatsapp:"",telegram_enabled:!1,telegram:"",additional_info:"",consent_transport:!1,consent_contact:!1}),o=async c=>{if(c.preventDefault(),!a.consent_transport||!a.consent_contact){t({title:e("blood.transport.register.error_title"),description:e("blood.transport.register.error_consent"),variant:"destructive"});return}n(!0);try{const{error:l}=await L.from("transport_volunteers").insert({full_name:a.full_name,email:a.email||null,phone_number:a.phone_number,wilaya:a.wilaya,city:a.city,whatsapp:a.whatsapp_enabled?a.whatsapp:null,telegram:a.telegram_enabled?a.telegram:null,additional_info:a.additional_info,is_available:!0,status:"pending"});if(l)throw l;console.log("Invoking send-email directly...");const{data:d,error:u}=await L.functions.invoke("send-email",{body:{type:"transport_volunteer",record:{...a,id:"new"}}});u?(console.error("Email Invocation Error:",u),t({title:"Email Error",description:"Failed to send notification: "+u.message,variant:"destructive"})):console.log("Email Sent:",d),t({title:e("blood.transport.register.success_title"),description:e("blood.transport.register.success_desc")}),i({full_name:"",email:"",phone_number:"",wilaya:"",city:"",whatsapp_enabled:!1,whatsapp:"",telegram_enabled:!1,telegram:"",additional_info:"",consent_transport:!1,consent_contact:!1})}catch(l){console.error(l),t({title:e("blood.transport.register.error_title"),description:e("blood.transport.register.error_desc"),variant:"destructive"})}finally{n(!1)}};return s.jsxs(B,{className:"border-t-4 border-t-[#E53935] shadow-md",children:[s.jsxs(ce,{children:[s.jsxs(xe,{className:"flex items-center gap-2 text-xl text-[#B71C1C]",children:[s.jsx(ql,{className:"w-6 h-6"}),e("blood.transport.register.title")]}),s.jsx("p",{className:"text-gray-500 text-sm",children:e("blood.transport.register.subtitle")})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("blood.transport.register.full_name")}),s.jsx(M,{required:!0,placeholder:e("blood.transport.register.full_name"),value:a.full_name,onChange:c=>i({...a,full_name:c.target.value}),className:"focus-visible:ring-red-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Email"}),s.jsx(M,{type:"email",placeholder:"email@example.com",value:a.email,onChange:c=>i({...a,email:c.target.value}),className:"focus-visible:ring-red-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("blood.transport.register.wilaya")}),s.jsxs(Ee,{required:!0,value:a.wilaya,onValueChange:c=>i({...a,wilaya:c}),children:[s.jsx(ke,{className:"focus:ring-red-500",children:s.jsx(Pe,{placeholder:e("blood.transport.register.wilaya")})}),s.jsx(Ce,{className:"max-h-[200px]",children:d8.map(c=>s.jsx(K,{value:c,children:c},c))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("blood.transport.register.city")}),s.jsx(M,{required:!0,placeholder:e("blood.transport.register.city"),value:a.city,onChange:c=>i({...a,city:c.target.value}),className:"focus-visible:ring-red-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("blood.transport.register.phone")}),s.jsx(M,{required:!0,type:"tel",placeholder:"055...",value:a.phone_number,onChange:c=>i({...a,phone_number:c.target.value}),className:"focus-visible:ring-red-500"})]}),s.jsxs("div",{className:"space-y-2 bg-red-50/50 p-3 rounded border border-red-100",children:[s.jsx(P,{className:"block mb-2 text-gray-700",children:e("blood.transport.register.other_contacts")}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx($e,{id:"whatsapp",checked:a.whatsapp_enabled,onCheckedChange:c=>i({...a,whatsapp_enabled:!!c}),className:"text-red-600 data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),s.jsxs("label",{htmlFor:"whatsapp",className:"text-sm font-medium flex items-center gap-1 cursor-pointer",children:[s.jsx(pn,{className:"w-4 h-4 text-green-600"})," ",e("blood.transport.register.whatsapp")]})]}),a.whatsapp_enabled&&s.jsx(M,{placeholder:e("blood.transport.register.whatsapp"),value:a.whatsapp,onChange:c=>i({...a,whatsapp:c.target.value}),className:"mb-3 focus-visible:ring-red-500"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx($e,{id:"telegram",checked:a.telegram_enabled,onCheckedChange:c=>i({...a,telegram_enabled:!!c}),className:"text-red-600 data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),s.jsxs("label",{htmlFor:"telegram",className:"text-sm font-medium flex items-center gap-1 cursor-pointer",children:[s.jsx(ua,{className:"w-4 h-4 text-blue-500"})," ",e("blood.transport.register.telegram")]})]}),a.telegram_enabled&&s.jsx(M,{placeholder:e("blood.transport.register.telegram"),value:a.telegram,onChange:c=>i({...a,telegram:c.target.value}),className:"focus-visible:ring-red-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("blood.transport.register.additional_info")}),s.jsx(He,{placeholder:e("blood.transport.register.additional_placeholder"),value:a.additional_info,onChange:c=>i({...a,additional_info:c.target.value}),className:"h-20 focus-visible:ring-red-500"}),s.jsx("p",{className:"text-xs text-gray-500",children:e("blood.transport.register.visible_admin")})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx($e,{id:"consent1",required:!0,checked:a.consent_transport,onCheckedChange:c=>i({...a,consent_transport:!!c}),className:"text-red-600 data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),s.jsx("label",{htmlFor:"consent1",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",dangerouslySetInnerHTML:{__html:e("blood.transport.register.consent_transport")}})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx($e,{id:"consent2",required:!0,checked:a.consent_contact,onCheckedChange:c=>i({...a,consent_contact:!!c}),className:"text-red-600 data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),s.jsx("label",{htmlFor:"consent2",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e("blood.transport.register.consent_contact")})]})]}),s.jsx(D,{type:"submit",disabled:r,className:"w-full bg-[#E53935] hover:bg-[#C62828] text-white",children:e(r?"blood.transport.register.btn_submitting":"blood.transport.register.btn_submit")})]})})]})},h8=()=>{const{t:e}=ye(),[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(!1),[c,l]=f.useState({whatsapp:"213555555555",facebook:"waseet",instagram:"waseet"});f.useEffect(()=>{u(),d()},[]);const d=async()=>{const{data:p}=await L.from("settings").select("*");if(p&&p.length>0){const m={...c};p.forEach(h=>{h.key==="alkhayr_whatsapp"&&(m.whatsapp=h.value),h.key==="alkhayr_facebook"&&(m.facebook=h.value),h.key==="alkhayr_instagram"&&(m.instagram=h.value)}),l(m)}},u=async()=>{a(!0);const{data:p,error:m}=await L.from("active_transport_volunteers_view").select("id, display_initials, display_location, display_description, is_available").eq("status","active").neq("display_initials",null).order("created_at",{ascending:!1});!m&&p&&r(p),a(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 flex items-center gap-2",children:[s.jsx(ql,{className:"text-[#E53935]"}),e("blood.transport.available_count",{count:t.length})]}),n?s.jsx("div",{className:"text-center py-8",children:e("blood.transport.loading")}):t.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:e("blood.transport.empty")}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(p=>s.jsx(B,{className:"border-l-4 border-l-[#E53935] shadow-sm hover:shadow-md transition bg-white",children:s.jsxs(V,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-[#E53935] font-bold text-lg",children:p.display_initials}),s.jsx("div",{children:s.jsx(Q,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:e("blood.transport.volunteer_badge")})})]}),p.is_available&&s.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse",title:"Disponible"})]}),s.jsxs("div",{className:"mb-4 pl-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium mb-1",children:[s.jsx(_s,{className:"w-4 h-4 text-red-400"}),p.display_location]}),s.jsxs("p",{className:"text-sm text-gray-500 italic border-l-2 border-gray-200 pl-2",children:['"',p.display_description||e("blood.transport.default_desc"),'"']})]}),s.jsxs(D,{className:"w-full bg-white border border-[#E53935] text-[#E53935] hover:bg-red-50 gap-2 h-11",onClick:()=>o(!0),children:[s.jsx(Sr,{className:"w-4 h-4"}),e("blood.transport.contact_btn")]})]})},p.id))}),s.jsx(at,{open:i,onOpenChange:o,children:s.jsxs(st,{className:"w-[95%] rounded-xl",children:[s.jsxs(vt,{children:[s.jsxs(bt,{className:"flex items-center gap-2 text-[#E53935]",children:[s.jsx(is,{className:"w-5 h-5"}),e("blood.transport.dialog.title")]}),s.jsx(Is,{children:e("blood.transport.dialog.desc")})]}),s.jsxs("div",{className:"grid gap-3 py-4 grid-cols-2",children:[s.jsxs(D,{variant:"outline",className:"w-full flex flex-col items-center justify-center gap-2 h-auto py-4 text-sm hover:bg-green-50 hover:border-green-200",onClick:()=>window.open(`https://wa.me/${c.whatsapp.replace(/[^0-9]/g,"")}`,"_blank"),children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:s.jsx(pn,{className:"text-green-600 w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:e("blood.transport.dialog.whatsapp")})]}),s.jsxs(D,{variant:"outline",className:"w-full flex flex-col items-center justify-center gap-2 h-auto py-4 text-sm hover:bg-blue-50 hover:border-blue-200",onClick:()=>window.open(`https://facebook.com/${c.facebook}`,"_blank"),children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:s.jsx(ql,{className:"text-blue-600 w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:e("blood.transport.dialog.facebook")})]})]})]})})]})},m8=()=>{const{t:e}=ye(),[t,r]=f.useState("search");return f.useEffect(()=>{window.scrollTo(0,0)},[]),s.jsx(it,{children:s.jsxs("div",{className:"min-h-screen bg-[#FDECEA]/30",children:[s.jsx(s8,{}),s.jsx(tt,{className:"relative -mt-4 md:-mt-8 z-10",children:s.jsx("div",{className:"container mx-auto max-w-4xl px-4",children:s.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-red-100 p-4 md:p-8",children:s.jsxs(Qs,{value:t,onValueChange:r,className:"space-y-6 md:space-y-8",children:[s.jsx("div",{className:"flex justify-center w-full",children:s.jsxs(Ls,{className:"h-auto p-1.5 bg-red-50/50 border border-red-100 rounded-2xl md:rounded-full grid grid-cols-2 w-full gap-2 md:flex md:w-auto",children:[s.jsxs(De,{value:"search",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#C62828] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(Xt,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("blood.tabs.search")})]}),s.jsxs(De,{value:"register",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#C62828] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(yt,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("blood.tabs.register")})]}),s.jsxs(De,{value:"transport",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#E53935] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(ql,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("blood.tabs.transport")})]}),s.jsxs(De,{value:"profile",className:"rounded-xl md:rounded-full px-2 py-3 md:px-6 md:py-3 text-xs md:text-base data-[state=active]:bg-[#C62828] data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 gap-2 w-full md:w-auto min-w-0",children:[s.jsx(vn,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:e("blood.tabs.profile")})]})]})}),s.jsxs("div",{className:"min-h-[400px]",children:[s.jsx(Ke,{value:"search",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(c8,{})}),s.jsx(Ke,{value:"register",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(a8,{})}),s.jsxs(Ke,{value:"transport",className:"animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-8",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e("blood.transport.title")}),s.jsx("p",{className:"text-gray-600",children:e("blood.transport.subtitle")})]}),s.jsxs(Qs,{defaultValue:"find",className:"w-full",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs(Ls,{className:"bg-red-50 border border-red-100 rounded-full p-1 h-auto",children:[s.jsxs(De,{value:"find",className:"rounded-full px-6 py-2.5 data-[state=active]:bg-[#E53935] data-[state=active]:text-white text-red-700 transition-all font-medium",children:[s.jsx(Xt,{className:"w-4 h-4 mr-2"}),e("blood.transport.find")]}),s.jsxs(De,{value:"join",className:"rounded-full px-6 py-2.5 data-[state=active]:bg-[#E53935] data-[state=active]:text-white text-red-700 transition-all font-medium",children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),e("blood.transport.join")]})]})}),s.jsx(Ke,{value:"find",className:"mt-0",children:s.jsx(h8,{})}),s.jsxs(Ke,{value:"join",className:"mt-0 space-y-4",children:[s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded-r",children:s.jsx("p",{className:"text-sm text-blue-800",children:s.jsx(xt,{i18nKey:"blood.transport.privacy_note",components:{strong:s.jsx("strong",{})}})})}),s.jsx(u8,{})]})]})]}),s.jsx(Ke,{value:"profile",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(i8,{})})]})]})})})})]})})},p8=["Tous","A+","A-","B+","B-","AB+","AB-","O+","O-"],f8=()=>{ye();const{toast:e}=Ne(),[t,r]=f.useState(!0),[n,a]=f.useState([]),[i,o]=f.useState([]),[c,l]=f.useState(null),[d,u]=f.useState("all"),[p,m]=f.useState("Tous"),[h,y]=f.useState("all"),[x,b]=f.useState("");f.useEffect(()=>{g()},[]);const g=async()=>{r(!0);try{const[_,C]=await Promise.all([L.from("blood_donors").select("*").order("created_at",{ascending:!1}),L.from("blood_donation_requests").select("*").order("created_at",{ascending:!1})]);if(_.error)throw _.error;if(C.error)throw C.error;a(_.data||[]),o(C.data||[])}catch(_){console.error("Error fetching data:",_),e({title:"Erreur",description:"Impossible de charger les donnes",variant:"destructive"})}finally{r(!1)}},v=n.filter(_=>{const C=p==="Tous"||_.blood_type===p,A=!h||h==="all"||_.wilaya.includes(h);d==="all"||d==="approved"&&_.approved_by_admin||d==="pending"&&!_.approved_by_admin&&_.status!=="rejected"||d==="rejected"&&_.status;const E=_.status||(_.approved_by_admin?"approved":"pending"),S=d==="all"||E===d,T=!x||_.full_name.toLowerCase().includes(x.toLowerCase())||_.phone_number.includes(x);return C&&A&&S&&T}),j=()=>{const _=["ID","Nom","Tlphone","Age","Groupe","Wilaya","Ville","Statut","Dernier Don"],C=v.map(T=>{const R=T.status||(T.approved_by_admin?"Approuv":"En attente");return[T.id,`"${T.full_name.replace(/"/g,'""')}"`,`"${T.phone_number}"`,T.age,T.blood_type,`"${T.wilaya}"`,`"${T.city}"`,`"${R}"`,T.last_donation_date||""].join(",")}),A="\uFEFF"+[_.join(","),...C].join(`
`),E=new Blob([A],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(E),S.download=`donateurs_sang_${new Date().toISOString().split("T")[0]}.csv`,S.click()},w=async _=>{try{const{error:C}=await L.from("blood_donors").update({approved_by_admin:!0,status:"approved"}).eq("id",_);if(C)throw C;const A=n.find(E=>E.id===_);A&&A.email&&L.functions.invoke("send-email",{body:{type:"blood_donor_acceptance",record:{full_name:A.full_name,email:A.email}}}),e({title:"Succs",description:"Donneur approuv"}),g()}catch(C){console.error(C),e({title:"Erreur",description:"Erreur lors de l'approbation",variant:"destructive"})}},N=async _=>{try{const{error:C}=await L.from("blood_donors").update({approved_by_admin:!1,status:"rejected"}).eq("id",_);if(C)throw C;e({title:"Refus",description:"Donneur marqu comme refus"}),g()}catch{e({title:"Erreur",description:"Erreur lors du refus",variant:"destructive"})}},k=async _=>{try{const{error:C}=await L.from("blood_donors").delete().eq("id",_);if(C)throw C;e({title:"Succs",description:"Donneur supprim"}),g()}catch{e({title:"Erreur",description:"Erreur lors de la suppression",variant:"destructive"})}};return s.jsxs(It,{children:[s.jsxs(tt,{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Gestion des Donateurs"}),s.jsx("p",{className:"text-muted-foreground",children:"Grer les donneurs de sang et les demandes de don"})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Donateurs"}),s.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(V,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.length})})]}),s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Demandes Actives"}),s.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(V,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.length})})]}),s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"En Attente"}),s.jsx(ya,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(V,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.filter(_=>!_.approved_by_admin&&_.status!=="rejected").length})})]})]}),s.jsxs(Qs,{defaultValue:"donors",className:"space-y-4",children:[s.jsxs(Ls,{children:[s.jsx(De,{value:"donors",children:"Liste des Donateurs"}),s.jsx(De,{value:"requests",children:"Demandes de Don"})]}),s.jsxs(Ke,{value:"donors",className:"space-y-4",children:[s.jsx(B,{className:"bg-white/50 backdrop-blur-sm border-white/20",children:s.jsxs(V,{className:"pt-6",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Statut"}),s.jsxs(Ee,{value:d,onValueChange:u,children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:"Tous"}),s.jsx(K,{value:"pending",children:"En attente"}),s.jsx(K,{value:"approved",children:"Approuv"}),s.jsx(K,{value:"rejected",children:"Refus"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Groupe Sanguin"}),s.jsxs(Ee,{value:p,onValueChange:m,children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsx(Ce,{children:p8.map(_=>s.jsx(K,{value:_,children:_},_))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Wilaya"}),s.jsx(M,{value:h,onChange:_=>y(_.target.value),placeholder:"Wilaya..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Recherche"}),s.jsx(M,{value:x,onChange:_=>b(_.target.value),placeholder:"Nom..."})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(D,{variant:"outline",onClick:j,children:[s.jsx(mT,{className:"h-4 w-4 mr-2"})," Exporter CSV"]})})]})}),s.jsx("div",{className:"space-y-3",children:v.map(_=>s.jsx(B,{className:"bg-white/60 hover:bg-white/90 transition-colors",children:s.jsx(V,{className:"pt-6",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold",children:_.full_name}),_.status==="approved"||_.approved_by_admin?s.jsx(Q,{className:"bg-green-100 text-green-800",children:"Approuv"}):_.status==="rejected"?s.jsx(Q,{className:"bg-gray-100 text-gray-800",children:"Refus"}):s.jsx(Q,{className:"bg-yellow-100 text-yellow-800",children:"En attente"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.phone_number}),_.email&&s.jsx("p",{className:"text-xs text-muted-foreground",children:_.email})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[!_.approved_by_admin&&_.status!=="approved"&&s.jsx(D,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>w(_.id),children:"Approuver"}),_.status!=="rejected"&&s.jsx(D,{size:"sm",variant:"secondary",onClick:()=>N(_.id),children:"Refuser"}),_.status==="rejected"&&s.jsx(D,{size:"sm",variant:"outline",onClick:()=>w(_.id),children:"Rtablir (Approuver)"}),s.jsx(D,{size:"sm",variant:"destructive",onClick:()=>k(_.id),children:"Supprimer"})]})]})})})},_.id))})]}),s.jsx(Ke,{value:"requests",children:i.length===0?s.jsx(B,{children:s.jsx(V,{className:"pt-6 text-center text-muted-foreground",children:"Aucune demande active."})}):s.jsx("div",{className:"space-y-4",children:i.map(_=>s.jsx(B,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>l(_),children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-bold",children:_.patient_name}),s.jsx(Q,{variant:"outline",children:_.blood_type})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.hospital,", ",_.wilaya]})]}),s.jsx(Q,{variant:_.urgency_level==="very_urgent"?"destructive":"secondary",children:_.urgency_level})]})})},_.id))})})]})]}),s.jsx(at,{open:!!c,onOpenChange:_=>!_&&l(null),children:s.jsxs(st,{children:[s.jsx(vt,{children:s.jsx(bt,{children:"Dtails de la demande"})}),c&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Patient"}),s.jsx("p",{className:"font-medium",children:c.patient_name})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Groupe Sanguin"}),s.jsx("p",{className:"font-bold text-red-600",children:c.blood_type})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Hpital"}),s.jsx("p",{children:c.hospital})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Lieu"}),s.jsxs("p",{children:[c.city,", ",c.wilaya]})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Contact"}),s.jsx("p",{className:"font-mono",children:c.contact_number})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Urgence"}),s.jsx(Q,{variant:c.urgency_level==="very_urgent"?"destructive":"secondary",children:c.urgency_level})]})]}),c.description&&s.jsxs("div",{children:[s.jsx(P,{className:"text-muted-foreground",children:"Description"}),s.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded mt-1",children:c.description})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>l(null),children:"Fermer"}),s.jsx(D,{asChild:!0,children:s.jsxs("a",{href:`tel:${c.contact_number}`,children:[s.jsx(Sr,{className:"mr-2 h-4 w-4"})," Appeler"]})})]})]})]})})]})};function g8(){const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState([]),[a,i]=f.useState([]),[o,c]=f.useState([]),[l,d]=f.useState(!1),[u,p]=f.useState(!1),[m,h]=f.useState(null),[y,x]=f.useState(0),[b,g]=f.useState([]),[v,j]=f.useState([]),[w,N]=f.useState({request_type:"buy",currency_from_id:"",currency_to_id:"",amount:null,total_price:0,payment_method_from_id:"",payment_method_to_id:"",wilaya_id:"",needed_by:"",email:"",phone_number:"",whatsapp:"",telegram:"",notes:"",terms_accepted:!1});f.useEffect(()=>{k()},[]),f.useEffect(()=>{w.currency_from_id&&_(w.currency_from_id,"from")},[w.currency_from_id]),f.useEffect(()=>{w.currency_to_id&&_(w.currency_to_id,"to")},[w.currency_to_id]);const k=async()=>{try{const{data:E}=await L.from("currencies").select("*").eq("is_active",!0);E&&n(E);const{data:S}=await L.from("wilayas").select("*").eq("active",!0).order("id");S&&i(S);const{data:T}=await L.from("payment_methods").select("*").eq("is_active",!0);T&&c(T)}catch(E){console.error("Error fetching data:",E)}},_=async(E,S)=>{const{data:T}=await L.from("currency_payment_methods").select(`
            payment_method_id,
            payment_methods (id, name)
        `).eq("currency_id",E);if(T){const R=T.map(I=>I.payment_methods).filter(Boolean);S==="from"?g(R):j(R)}},C=async(E,S)=>{if(!(!E||!S))try{const{data:T,error:R}=await L.from("exchange_rates").select("buy_rate").eq("currency_from_id",parseInt(E)).eq("currency_to_id",parseInt(S)).maybeSingle();if(R){console.error("Error fetching rate:",R);return}const I=T?T.buy_rate:0;x(I),w.amount&&N(z=>({...z,total_price:z.amount*I}))}catch(T){console.error(T)}},A=async()=>{var E,S;if(!w.terms_accepted){t({title:"Error",description:e("exchange.validation.terms"),variant:"destructive"});return}if(!w.currency_from_id||!w.currency_to_id||!w.wilaya_id){t({title:"Error",description:e("exchange.validation.required"),variant:"destructive"});return}if(!w.amount||w.amount<=0){t({title:"Error",description:e("exchange.validation.amount"),variant:"destructive"});return}if(!w.needed_by){t({title:"Error",description:e("exchange.validation.date"),variant:"destructive"});return}if(!w.email){t({title:"Error",description:e("exchange.validation.email"),variant:"destructive"});return}if(!w.phone_number){t({title:"Error",description:e("exchange.validation.phone"),variant:"destructive"});return}d(!0);try{const{data:T}=await L.auth.getSession(),R={user_id:(S=(E=T.session)==null?void 0:E.user)==null?void 0:S.id,request_type:w.request_type,currency_from_id:parseInt(w.currency_from_id),currency_to_id:parseInt(w.currency_to_id),wilaya_id:parseInt(w.wilaya_id),payment_method_from_id:w.payment_method_from_id?parseInt(w.payment_method_from_id):null,payment_method_to_id:w.payment_method_to_id?parseInt(w.payment_method_to_id):null,amount:w.amount,rate:y,total_price:w.total_price,needed_by:new Date(w.needed_by).toISOString(),email:w.email,phone_number:w.phone_number,whatsapp:w.whatsapp,telegram:w.telegram,notes:w.notes,status:"pending"},{data:I,error:z}=await L.from("exchange_requests").insert(R).select().single();if(z)throw z;h(I.id),console.log("Invoking Email for Exchange Request",I.id),L.functions.invoke("send-email",{body:{type:"exchange_request",record:I}}).then(({data:U,error:F})=>{F?console.error("Exchange Email Error:",F):console.log("Exchange Email Success:",U)}),p(!0)}catch(T){console.error(T),t({title:"Error",description:e("exchange.validation.submit_error"),variant:"destructive"})}finally{d(!1)}};return s.jsx(it,{children:s.jsxs("div",{className:"bg-gradient-to-b from-primary/5 to-background min-h-screen py-10 md:py-16",children:[s.jsxs("div",{className:"container max-w-6xl mx-auto px-4 space-y-12",children:[s.jsxs("div",{className:"text-center space-y-4 max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold tracking-tight text-brand-gradient",children:e("exchange.title")}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:e("exchange.subtitle")})]}),s.jsx(B,{className:"overflow-hidden border border-border/60 shadow-lg bg-card/95 backdrop-blur-sm",children:s.jsxs("div",{className:"p-6 md:p-10 space-y-10",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 relative",children:[s.jsx("div",{className:"hidden lg:block absolute left-1/2 top-0 bottom-0 w-px bg-border/60 -ml-px"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:e("exchange.have.step")}),s.jsx("h3",{className:"text-xl font-semibold",children:e("exchange.have.title")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-sm font-medium",children:e("exchange.have.currency")}),s.jsxs(Ee,{value:w.currency_from_id,onValueChange:E=>{N({...w,currency_from_id:E}),C(E,w.currency_to_id)},children:[s.jsx(ke,{className:"h-11",children:s.jsx(Pe,{placeholder:e("exchange.form.placeholder.select_currency")})}),s.jsx(Ce,{children:r.map(E=>s.jsxs(K,{value:E.id.toString(),children:[E.code," - ",E.name]},E.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-sm font-medium",children:e("exchange.have.payment")}),s.jsxs(Ee,{value:w.payment_method_from_id,onValueChange:E=>N({...w,payment_method_from_id:E}),children:[s.jsx(ke,{className:"h-11",children:s.jsx(Pe,{placeholder:b.length?e("exchange.form.placeholder.select_method"):e("exchange.form.placeholder.any_method")})}),s.jsx(Ce,{children:(b.length>0?b:o).map(E=>s.jsx(K,{value:E.id.toString(),children:E.name},E.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-sm font-medium",children:e("exchange.have.amount")}),s.jsx(M,{type:"number",className:"h-11 text-lg font-medium",placeholder:"0.00",value:w.amount||"",onChange:E=>{const S=parseFloat(E.target.value);N({...w,amount:S,total_price:S*y})}})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:e("exchange.want.step")}),s.jsx("h3",{className:"text-xl font-semibold",children:e("exchange.want.title")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-sm font-medium",children:e("exchange.want.currency")}),s.jsxs(Ee,{value:w.currency_to_id,onValueChange:E=>{N({...w,currency_to_id:E}),C(w.currency_from_id,E)},children:[s.jsx(ke,{className:"h-11",children:s.jsx(Pe,{placeholder:e("exchange.form.placeholder.select_currency")})}),s.jsx(Ce,{children:r.map(E=>s.jsxs(K,{value:E.id.toString(),children:[E.code," - ",E.name]},E.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-sm font-medium",children:e("exchange.want.payment")}),s.jsxs(Ee,{value:w.payment_method_to_id,onValueChange:E=>N({...w,payment_method_to_id:E}),children:[s.jsx(ke,{className:"h-11",children:s.jsx(Pe,{placeholder:v.length?e("exchange.form.placeholder.select_method"):e("exchange.form.placeholder.any_method")})}),s.jsx(Ce,{children:(v.length>0?v:o).map(E=>s.jsx(K,{value:E.id.toString(),children:E.name},E.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-sm font-medium",children:e("exchange.want.total")}),s.jsx("div",{className:"h-11 flex items-center px-3 bg-muted/40 rounded-md border border-input text-lg font-bold tabular-nums text-foreground/80",children:w.total_price>0?w.total_price.toFixed(2):"--"})]})]})]})]}),s.jsx("div",{className:"h-px bg-border my-8"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("exchange.location.wilaya")}),s.jsxs(Ee,{value:w.wilaya_id,onValueChange:E=>N({...w,wilaya_id:E}),children:[s.jsx(ke,{className:"h-11",children:s.jsx(Pe,{placeholder:e("exchange.form.placeholder.select_wilaya")})}),s.jsx(Ce,{className:"max-h-[300px]",children:a.map(E=>s.jsxs(K,{value:E.id.toString(),children:[E.code," - ",E.name_ar," (",E.name_en,")"]},E.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("exchange.location.neededBy")}),s.jsx(M,{type:"date",className:"h-11",value:w.needed_by,onChange:E=>N({...w,needed_by:E.target.value})})]})]}),s.jsxs("div",{className:"bg-[#f8fafc] dark:bg-muted/20 border border-slate-200 dark:border-border rounded-xl p-6 md:p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-border/50",children:[s.jsx(is,{className:"h-5 w-5 text-indigo-600 dark:text-primary"}),s.jsxs("h3",{className:"font-semibold text-foreground",children:[e("exchange.private.title")," ",s.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-1",children:e("exchange.private.subtitle")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{className:"flex items-center gap-2",children:[e("exchange.private.email")," ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(M,{type:"email",className:"bg-background h-11",placeholder:"name@example.com",value:w.email,onChange:E=>N({...w,email:E.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"})," ",e("exchange.private.phone")," ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(M,{className:"bg-background h-11",placeholder:"e.g. 0550123456",value:w.phone_number,onChange:E=>N({...w,phone_number:E.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(pn,{className:"h-4 w-4"})," ",e("exchange.private.whatsapp")]}),s.jsx(M,{className:"bg-background h-11",placeholder:"WhatsApp Number",value:w.whatsapp,onChange:E=>N({...w,whatsapp:E.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(ua,{className:"h-4 w-4"})," ",e("exchange.private.telegram")]}),s.jsx(M,{className:"bg-background h-11",placeholder:"@username or Number",value:w.telegram,onChange:E=>N({...w,telegram:E.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-6 pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"terms",checked:w.terms_accepted,onCheckedChange:E=>N({...w,terms_accepted:E})}),s.jsx(P,{htmlFor:"terms",className:"font-normal text-sm text-muted-foreground leading-snug",children:e("exchange.form.terms_label")})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs(D,{size:"lg",className:"w-full md:max-w-xs h-12 text-base font-semibold shadow-md active:scale-95 transition-all",onClick:A,disabled:l,children:[l?s.jsx(we,{className:"animate-spin mr-2"}):s.jsx(is,{className:"mr-2 h-5 w-5"}),e(l?"exchange.form.submitting":"exchange.form.submit_btn")]})})]})]})})]}),s.jsx(at,{open:u,onOpenChange:p,children:s.jsxs(st,{className:"sm:max-w-md",children:[s.jsxs(vt,{children:[s.jsxs(bt,{className:"flex items-center gap-2 text-green-600",children:[s.jsx(is,{className:"h-6 w-6"})," ",e("exchange.success.title")]}),s.jsxs(Is,{className:"pt-2",children:[e("exchange.success.desc"),s.jsx("br",{}),s.jsxs("span",{className:"font-mono bg-muted px-2 py-0.5 rounded text-foreground mt-2 inline-block",children:[e("exchange.success.id_prefix")," ",m]})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(D,{onClick:()=>p(!1),children:"Close"})})]})})]})})}function x8(){var w,N,k,_,C,A,E,S,T;const{toast:e}=Ne(),t=Et(),[r,n]=f.useState(!0),[a,i]=f.useState([]),[o,c]=f.useState([]),[l,d]=f.useState("all"),[u,p]=f.useState("all"),[m,h]=f.useState(null),[y,x]=f.useState(!1);f.useEffect(()=>{b()},[]),f.useEffect(()=>{g()},[l,u]);const b=async()=>{const{data:R}=await L.from("currencies").select("*").order("code");R&&c(R)},g=async()=>{n(!0);try{let R=L.from("exchange_requests").select(`
          *,
          currency_from:currencies!currency_from_id(code, name),
          currency_to:currencies!currency_to_id(code, name),
          wilaya:wilayas(code, name_en, name_ar),
          payment_method_from:payment_methods!payment_method_from_id(name),
          payment_method_to:payment_methods!payment_method_to_id(name)
        `).order("created_at",{ascending:!1});l!=="all"&&(R=R.eq("status",l)),u!=="all"&&(R=R.eq("currency_from_id",u));const{data:I,error:z}=await R;if(z)throw z;i(I||[])}catch(R){console.error(R),e({title:"Error",variant:"destructive"})}finally{n(!1)}},v=async(R,I,z)=>{try{const U={status:I};z&&(U.rejection_reason=z);const{error:F}=await L.from("exchange_requests").update(U).eq("id",R);if(F)throw F;e({title:"Status Updated",description:`Request marked as ${I}`}),x(!1),g()}catch{e({title:"Error",variant:"destructive"})}},j=R=>{const I={pending:"bg-yellow-100 text-yellow-800",matched:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",rejected:"bg-red-100 text-red-800"};return s.jsx(Q,{className:I[R]||"",variant:"outline",children:R.toUpperCase()})};return s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Exchange Requests"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(D,{variant:"outline",onClick:()=>t("/admin/exchange-rates"),children:"Configuration"})})]}),s.jsxs(B,{className:"mb-6",children:[s.jsx(ce,{children:s.jsx(xe,{children:"Filters"})}),s.jsxs(V,{className:"flex gap-4",children:[s.jsxs("div",{className:"w-1/3",children:[s.jsx(P,{children:"Status"}),s.jsxs(Ee,{value:l,onValueChange:d,children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:"All"}),s.jsx(K,{value:"pending",children:"Pending"}),s.jsx(K,{value:"matched",children:"Matched"}),s.jsx(K,{value:"completed",children:"Completed"}),s.jsx(K,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"w-1/3",children:[s.jsx(P,{children:"Currency (From)"}),s.jsxs(Ee,{value:u,onValueChange:p,children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:"All"}),o.map(R=>s.jsx(K,{value:R.id.toString(),children:R.code},R.id))]})]})]})]})]}),s.jsx(B,{children:s.jsx(V,{className:"p-0",children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"ID"}),s.jsx(re,{children:"Type"}),s.jsx(re,{children:"Pair"}),s.jsx(re,{children:"Amount"}),s.jsx(re,{children:"Wilaya"}),s.jsx(re,{children:"Date Created"}),s.jsx(re,{children:"Status"}),s.jsx(re,{children:"Action"})]})}),s.jsx(ws,{children:r?s.jsx(Me,{children:s.jsx(te,{colSpan:8,className:"text-center py-8",children:s.jsx(we,{className:"animate-spin inline"})})}):a.map(R=>{var I,z,U,F;return s.jsxs(Me,{children:[s.jsxs(te,{children:["#",R.id]}),s.jsx(te,{children:s.jsx(Q,{variant:R.request_type==="buy"?"default":"secondary",children:R.request_type.toUpperCase()})}),s.jsxs(te,{children:[s.jsx("span",{className:"font-mono",children:(I=R.currency_from)==null?void 0:I.code}),"  ",s.jsx("span",{className:"font-mono",children:(z=R.currency_to)==null?void 0:z.code})]}),s.jsx(te,{children:R.amount}),s.jsxs(te,{children:[(U=R.wilaya)==null?void 0:U.code," - ",(F=R.wilaya)==null?void 0:F.name_en]}),s.jsx(te,{children:new Date(R.created_at).toLocaleDateString()}),s.jsx(te,{children:j(R.status)}),s.jsx(te,{children:s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>{h(R),x(!0)},children:s.jsx(zr,{className:"h-4 w-4"})})})]},R.id)})})]})})}),s.jsx(at,{open:y,onOpenChange:x,children:s.jsxs(st,{className:"max-w-2xl",children:[s.jsx(vt,{children:s.jsxs(bt,{children:["Request Details #",m==null?void 0:m.id]})}),m&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 border p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(P,{children:"Type"}),s.jsx("div",{className:"font-bold",children:m.request_type.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Status"}),s.jsx("div",{children:j(m.status)})]}),s.jsxs("div",{children:[s.jsx(P,{children:"From"}),s.jsxs("div",{children:[(w=m.currency_from)==null?void 0:w.name," (",(N=m.currency_from)==null?void 0:N.code,")"]})]}),s.jsxs("div",{children:[s.jsx(P,{children:"To"}),s.jsxs("div",{children:[(k=m.currency_to)==null?void 0:k.name," (",(_=m.currency_to)==null?void 0:_.code,")"]})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Amount"}),s.jsx("div",{className:"text-xl font-mono",children:m.amount})]}),s.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4 bg-muted/20 p-2 rounded",children:[s.jsxs("div",{children:[s.jsx(P,{children:"Deposit Via"}),s.jsx("div",{className:"font-semibold text-green-700",children:((C=m.payment_method_from)==null?void 0:C.name)||"Any"})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Withdraw Via"}),s.jsx("div",{className:"font-semibold text-blue-700",children:((A=m.payment_method_to)==null?void 0:A.name)||"Any"})]})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Wilaya"}),s.jsxs("div",{children:[(E=m.wilaya)==null?void 0:E.code," - ",(S=m.wilaya)==null?void 0:S.name_en," (",(T=m.wilaya)==null?void 0:T.name_ar,")"]})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Needed By"}),s.jsx("div",{className:"font-medium",children:m.needed_by?new Date(m.needed_by).toLocaleDateString():"N/A"})]})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 space-y-3",children:[s.jsxs(P,{className:"text-amber-800 font-semibold flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4"})," Admin Only: Contact Details"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[s.jsxs("div",{children:[s.jsx(P,{children:"Email"}),s.jsx("div",{className:"font-mono select-all bg-white p-1 rounded border",children:m.email||"-"})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Phone"}),s.jsx("div",{className:"font-mono select-all bg-white p-1 rounded border",children:m.phone_number})]}),s.jsxs("div",{children:[s.jsx(P,{children:"WhatsApp"}),s.jsx("div",{className:"font-mono select-all bg-white p-1 rounded border",children:m.whatsapp||"-"})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Telegram"}),s.jsx("div",{className:"font-mono select-all bg-white p-1 rounded border",children:m.telegram||"-"})]})]}),m.notes&&s.jsxs("div",{className:"pt-2",children:[s.jsx(P,{children:"User Notes"}),s.jsx("div",{className:"p-2 bg-white rounded border",children:m.notes})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[m.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(D,{variant:"destructive",onClick:()=>v(m.id,"cancelled","Admin rejected"),children:"Reject"}),s.jsx(D,{onClick:()=>v(m.id,"matched"),children:"Mark Matched"})]}),m.status==="matched"&&s.jsx(D,{className:"bg-green-600 hover:bg-green-700",onClick:()=>v(m.id,"completed"),children:"Mark Completed"})]})]})]})]})})]})})}function y8(){const{toast:e}=Ne(),[t,r]=f.useState(!0),[n,a]=f.useState([]),[i,o]=f.useState([]),[c,l]=f.useState([]),[d,u]=f.useState(""),[p,m]=f.useState(!1),[h,y]=f.useState(!1),[x,b]=f.useState(!1),[g,v]=f.useState(!1),[j,w]=f.useState(null),[N,k]=f.useState({code:"",name:"",symbol:"",allowed_methods:[]}),[_,C]=f.useState(null),[A,E]=f.useState({currency_from_id:"",currency_to_id:"",buy_rate:0,sell_rate:0}),[S,T]=f.useState(null),[R,I]=f.useState({name:""}),[z,U]=f.useState(""),F=async()=>{if(z.trim())try{const{data:q,error:de}=await L.from("payment_methods").insert({name:z}).select().single();if(de)throw de;e({title:"Method Created",description:`${z} added to list.`});const{data:ie}=await L.from("payment_methods").select("*").order("id");ie&&l(ie),k(se=>({...se,allowed_methods:[...se.allowed_methods,q.id]})),U("")}catch{e({title:"Error",description:"Could not create method.",variant:"destructive"})}};f.useEffect(()=>{O()},[]);const O=async()=>{r(!0);try{const[q,de,ie,se]=await Promise.all([L.from("currencies").select("*, currency_payment_methods(count)").order("id"),L.from("exchange_rates").select("*, currency_from:currencies!currency_from_id(code), currency_to:currencies!currency_to_id(code)").order("created_at"),L.from("payment_methods").select("*").order("id"),L.from("settings").select("value").eq("key","exchange_rate_usd_to_dzd").maybeSingle()]);q.data&&a(q.data),de.data&&o(de.data),ie.data&&l(ie.data),se.data&&u(se.data.value)}catch(q){console.error(q),e({title:"Error loading data",variant:"destructive"})}finally{r(!1)}},$=async()=>{m(!0);try{const{error:q}=await L.from("settings").update({value:d,updated_at:new Date().toISOString()}).eq("key","exchange_rate_usd_to_dzd");if(q)throw q;e({title:"Rate Updated",description:"Global exchange rate saved successfully."})}catch(q){console.error(q),e({title:"Error",description:"Failed to save rate",variant:"destructive"})}finally{m(!1)}},H=async q=>{if(q){w(q);const{data:de}=await L.from("currency_payment_methods").select("payment_method_id").eq("currency_id",q.id),ie=de?de.map(se=>se.payment_method_id):[];k({code:q.code,name:q.name,symbol:q.symbol,allowed_methods:ie})}else w(null),k({code:"",name:"",symbol:"",allowed_methods:[]});y(!0)},ne=async()=>{try{let q;const de={code:N.code,name:N.name,symbol:N.symbol};if(j){const{error:ie}=await L.from("currencies").update(de).eq("id",j.id);if(ie)throw ie;q=j.id}else{const{data:ie,error:se}=await L.from("currencies").insert(de).select().single();if(se)throw se;q=ie.id}if(q&&(await L.from("currency_payment_methods").delete().eq("currency_id",q),N.allowed_methods.length>0)){const ie=N.allowed_methods.map(se=>({currency_id:q,payment_method_id:se}));await L.from("currency_payment_methods").insert(ie)}e({title:"Success",description:"Currency saved"}),y(!1),O()}catch(q){console.error(q),e({title:"Error",variant:"destructive"})}},ae=async(q,de)=>{await L.from("currencies").update({is_active:!de}).eq("id",q),O()},pe=q=>{var de,ie;q?(C(q),E({currency_from_id:(de=q.currency_from_id)==null?void 0:de.toString(),currency_to_id:(ie=q.currency_to_id)==null?void 0:ie.toString(),buy_rate:q.buy_rate,sell_rate:q.sell_rate})):(C(null),E({currency_from_id:"",currency_to_id:"",buy_rate:0,sell_rate:0})),b(!0)},me=async()=>{try{const q={currency_from_id:parseInt(A.currency_from_id),currency_to_id:parseInt(A.currency_to_id),buy_rate:A.buy_rate,sell_rate:A.sell_rate};_?await L.from("exchange_rates").update(q).eq("id",_.id):await L.from("exchange_rates").insert(q),e({title:"Success"}),b(!1),O()}catch{e({title:"Error",variant:"destructive"})}},Oe=q=>{q?(T(q),I({name:q.name})):(T(null),I({name:""})),v(!0)},Fe=async()=>{S?await L.from("payment_methods").update({name:R.name}).eq("id",S.id):await L.from("payment_methods").insert({name:R.name}),v(!1),O()},ee=async q=>{if(confirm("Are you sure? This relies on cascade delete."))try{const{error:de}=await L.from("payment_methods").delete().eq("id",q);if(de)throw de;e({title:"Method deleted"}),O()}catch{e({title:"Error deleting",variant:"destructive"})}};return t?s.jsx("div",{className:"flex justify-center p-10",children:s.jsx(we,{className:"animate-spin"})}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Exchange Configuration"}),s.jsxs(B,{className:"mb-8 border-primary/20 bg-primary/5",children:[s.jsx(ce,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Eg,{className:"h-5 w-5 text-primary"}),"Global Order Exchange Rate (USD to DZD)"]})}),s.jsxs(V,{children:[s.jsxs("div",{className:"flex items-end gap-4 max-w-lg",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(P,{htmlFor:"global-rate",children:"Exchange Rate"}),s.jsxs("div",{className:"relative",children:[s.jsx(M,{id:"global-rate",type:"number",step:"0.01",value:d,onChange:q=>u(q.target.value),placeholder:"e.g. 240.00"}),s.jsx("div",{className:"absolute right-3 top-2.5 text-sm text-muted-foreground font-medium",children:"DZD"})]})]}),s.jsxs(D,{onClick:$,disabled:p,children:[p?s.jsx(we,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(nn,{className:"h-4 w-4 mr-2"}),"Update Rate"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'This rate is used for calculating prices on the "Order" page (Custom Requests).'})]})]}),s.jsxs(Qs,{defaultValue:"currencies",className:"w-full",children:[s.jsxs(Ls,{className:"grid w-full grid-cols-3 mb-6",children:[s.jsx(De,{value:"currencies",children:"Currencies"}),s.jsx(De,{value:"rates",children:"Exchange Rates"}),s.jsx(De,{value:"methods",children:"Payment Methods"})]}),s.jsx(Ke,{value:"currencies",children:s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row justify-between",children:[s.jsx(xe,{children:"Currencies"}),s.jsxs(D,{onClick:()=>H(),children:[s.jsx(sn,{className:"mr-2 h-4 w-4"})," Add Currency"]})]}),s.jsx(V,{children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"Code"}),s.jsx(re,{children:"Name"}),s.jsx(re,{children:"Active"}),s.jsx(re,{children:"Methods"}),s.jsx(re,{children:"Actions"})]})}),s.jsx(ws,{children:n.map(q=>s.jsxs(Me,{children:[s.jsx(te,{className:"font-bold",children:q.code}),s.jsx(te,{children:q.name}),s.jsx(te,{children:s.jsx(yc,{checked:q.is_active,onCheckedChange:()=>ae(q.id,q.is_active)})}),s.jsx(te,{children:s.jsxs(Q,{variant:"outline",children:[q.currency_payment_methods&&q.currency_payment_methods[0]?q.currency_payment_methods[0].count:0," Allowed"]})}),s.jsx(te,{children:s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>H(q),children:s.jsx(on,{className:"h-4 w-4"})})})]},q.id))})]})})]})}),s.jsx(Ke,{value:"rates",children:s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row justify-between",children:[s.jsx(xe,{children:"Exchange Rates"}),s.jsxs(D,{onClick:()=>pe(),children:[s.jsx(sn,{className:"mr-2 h-4 w-4"})," Add Rate"]})]}),s.jsx(V,{children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"Pair"}),s.jsx(re,{children:"Buy"}),s.jsx(re,{children:"Sell"}),s.jsx(re,{children:"Actions"})]})}),s.jsx(ws,{children:i.map(q=>{var de,ie;return s.jsxs(Me,{children:[s.jsxs(te,{className:"font-mono",children:[(de=q.currency_from)==null?void 0:de.code," / ",(ie=q.currency_to)==null?void 0:ie.code]}),s.jsx(te,{children:q.buy_rate}),s.jsx(te,{children:q.sell_rate}),s.jsx(te,{children:s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>pe(q),children:s.jsx(on,{className:"h-4 w-4"})})})]},q.id)})})]})})]})}),s.jsx(Ke,{value:"methods",children:s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row justify-between",children:[s.jsx(xe,{children:"Payment Methods"}),s.jsxs(D,{onClick:()=>Oe(),children:[s.jsx(sn,{className:"mr-2 h-4 w-4"})," Add Method"]})]}),s.jsx(V,{children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"Name"}),s.jsx(re,{children:"Actions"})]})}),s.jsx(ws,{children:c.map(q=>s.jsxs(Me,{children:[s.jsx(te,{children:q.name}),s.jsx(te,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>Oe(q),children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>ee(q.id),children:s.jsx(Co,{className:"h-4 w-4"})})]})})]},q.id))})]})})]})})]}),s.jsx(at,{open:h,onOpenChange:y,children:s.jsxs(st,{children:[s.jsx(vt,{children:s.jsx(bt,{children:j?"Edit Currency":"New Currency"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(P,{children:"Code"}),s.jsx(M,{value:N.code,onChange:q=>k({...N,code:q.target.value}),placeholder:"USD"})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Symbol"}),s.jsx(M,{value:N.symbol,onChange:q=>k({...N,symbol:q.target.value}),placeholder:"$"})]})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Name"}),s.jsx(M,{value:N.name,onChange:q=>k({...N,name:q.target.value}),placeholder:"US Dollar"})]}),s.jsxs("div",{className:"border p-4 rounded-md",children:[s.jsx(P,{className:"mb-2 block",children:"Allowed Payment Methods"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map(q=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:`pm-${q.id}`,checked:N.allowed_methods.includes(q.id),onCheckedChange:de=>{const ie=new Set(N.allowed_methods);de?ie.add(q.id):ie.delete(q.id),k({...N,allowed_methods:Array.from(ie)})}}),s.jsx(P,{htmlFor:`pm-${q.id}`,children:q.name})]},q.id))})]}),s.jsxs("div",{className:"flex gap-2 items-end pt-2 border-t mt-2",children:[s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Create New Method"}),s.jsx(M,{placeholder:"e.g. zzz1",value:z,onChange:q=>U(q.target.value),className:"h-8 text-sm"})]}),s.jsxs(D,{onClick:F,size:"sm",variant:"secondary",className:"h-8",children:[s.jsx(sn,{className:"h-3 w-3 mr-1"})," Create"]})]})]}),s.jsx(vs,{children:s.jsx(D,{onClick:ne,children:"Save"})})]})}),s.jsx(at,{open:x,onOpenChange:b,children:s.jsxs(st,{children:[s.jsx(vt,{children:s.jsx(bt,{children:_?"Edit Rate":"New Rate"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(P,{children:"From"}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",value:A.currency_from_id,onChange:q=>E({...A,currency_from_id:q.target.value}),children:[s.jsx("option",{value:"",children:"Select"}),n.map(q=>s.jsx("option",{value:q.id,children:q.code},q.id))]})]}),s.jsxs("div",{children:[s.jsx(P,{children:"To"}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",value:A.currency_to_id,onChange:q=>E({...A,currency_to_id:q.target.value}),children:[s.jsx("option",{value:"",children:"Select"}),n.map(q=>s.jsx("option",{value:q.id,children:q.code},q.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(P,{children:"Buy Rate"}),s.jsx(M,{type:"number",step:"0.0001",value:A.buy_rate,onChange:q=>E({...A,buy_rate:parseFloat(q.target.value)})})]}),s.jsxs("div",{children:[s.jsx(P,{children:"Sell Rate"}),s.jsx(M,{type:"number",step:"0.0001",value:A.sell_rate,onChange:q=>E({...A,sell_rate:parseFloat(q.target.value)})})]})]}),s.jsx(vs,{children:s.jsx(D,{onClick:me,children:"Save"})})]})}),s.jsx(at,{open:g,onOpenChange:v,children:s.jsxs(st,{children:[s.jsx(vt,{children:s.jsx(bt,{children:S?"Edit Method":"New Method"})}),s.jsxs("div",{children:[s.jsx(P,{children:"Name"}),s.jsx(M,{value:R.name,onChange:q=>I({...R,name:q.target.value})})]}),s.jsx(vs,{children:s.jsx(D,{onClick:Fe,children:"Save"})})]})})]}),s.jsx(pa,{})]})}function v8(){ye();const[e,t]=f.useState([{service:"Supabase Connection",status:"checking",message:"Testing..."},{service:"Exchange Rates Table",status:"checking",message:"Testing..."},{service:"Payment Methods Table",status:"checking",message:"Testing..."},{service:"Environment Variables",status:"checking",message:"Testing..."}]);f.useEffect(()=>{n()},[]);const r=(l,d,u,p)=>{t(m=>m.map(h=>h.service===l?{...h,status:d,message:u,details:p}:h))},n=async()=>{const l="https://ocwlkljrjhgqejetgfgw.supabase.co";if(l.includes("YOUR_PROJECT")){r("Environment Variables","error","Missing or invalid","Check .env file for VITE_SUPABASE_URL and VITE_SUPABASE_PUBLISHABLE_KEY"),r("Supabase Connection","error","Cannot test - env missing",""),r("Exchange Rates Table","error","Cannot test - env missing",""),r("Payment Methods Table","error","Cannot test - env missing","");return}r("Environment Variables","ok","Configured",`URL: ${l}`);try{const{error:d}=await L.from("exchange_rates").select("count").limit(0);d?d.message.includes("relation")||d.message.includes("does not exist")?(r("Supabase Connection","ok","Connected","But tables missing - run migrations"),r("Exchange Rates Table","error","Table does not exist","Run: supabase migration up or execute SQL in Supabase Studio")):r("Supabase Connection","error","Connection failed",d.message):r("Supabase Connection","ok","Connected","REST API responding")}catch(d){r("Supabase Connection","error","Network error",d.message||"Check proxy settings or run setup-proxy.ps1"),r("Exchange Rates Table","error","Cannot test","Connection failed"),r("Payment Methods Table","error","Cannot test","Connection failed");return}try{const{data:d,error:u}=await L.from("exchange_rates").select("*").eq("is_active",!0).limit(5);u?r("Exchange Rates Table","error","Query failed",u.message):!d||d.length===0?r("Exchange Rates Table","warning","Table empty","Run seed-exchange-data.sql in Supabase SQL Editor"):r("Exchange Rates Table","ok",`${d.length} active rates found`,d.map(p=>`${p.currency_from}${p.currency_to}`).join(", "))}catch(d){r("Exchange Rates Table","error","Unexpected error",d.message)}try{const{data:d,error:u}=await L.from("exchange_payment_methods").select("*").eq("is_active",!0).order("display_order");u?r("Payment Methods Table","error","Query failed",u.message):!d||d.length===0?r("Payment Methods Table","warning","Table empty","Run seed-exchange-data.sql in Supabase SQL Editor"):r("Payment Methods Table","ok",`${d.length} methods found`,d.map(p=>p.method_name).join(", "))}catch(d){r("Payment Methods Table","error","Unexpected error",d.message)}},a=l=>{switch(l){case"checking":return s.jsx(we,{className:"h-5 w-5 animate-spin text-blue-500"});case"ok":return s.jsx(Ur,{className:"h-5 w-5 text-green-500"});case"warning":return s.jsx(ya,{className:"h-5 w-5 text-yellow-500"});case"error":return s.jsx(Za,{className:"h-5 w-5 text-red-500"})}},i=l=>{const d={checking:"bg-blue-100 text-blue-800",ok:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800"};return s.jsx(Q,{className:d[l],children:l.toUpperCase()})},o=e.every(l=>l.status==="ok"),c=e.some(l=>l.status==="error");return s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsxs(B,{children:[s.jsx(ce,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:["System Health Check",o&&s.jsx(Ur,{className:"h-6 w-6 text-green-500"}),c&&s.jsx(Za,{className:"h-6 w-6 text-red-500"})]})}),s.jsxs(V,{children:[c&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-red-800 font-semibold mb-2",children:" Issues detected"}),s.jsxs("ul",{className:"text-sm text-red-700 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:["Run: ",s.jsx("code",{className:"bg-red-100 px-2 py-1 rounded",children:".\\setup-all.ps1"})," to auto-configure"]}),s.jsx("li",{children:"Check .env file has valid Supabase credentials"}),s.jsxs("li",{children:["If proxy: run ",s.jsx("code",{className:"bg-red-100 px-2 py-1 rounded",children:".\\setup-proxy.ps1"})]}),s.jsxs("li",{children:["Execute migrations: ",s.jsx("code",{className:"bg-red-100 px-2 py-1 rounded",children:"supabase migration up"})]}),s.jsx("li",{children:"Seed data: Run seed-exchange-data.sql in Supabase SQL Editor"})]})]}),o&&s.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsx("p",{className:"text-green-800 font-semibold",children:" All systems operational"})}),s.jsx("div",{className:"space-y-4",children:e.map(l=>s.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[s.jsx("div",{className:"mt-0.5",children:a(l.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold",children:l.service}),i(l.status)]}),s.jsx("p",{className:"text-sm text-gray-600",children:l.message}),l.details&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono bg-gray-50 p-2 rounded",children:l.details})]})]},l.service))}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Quick Setup:"})," Run ",s.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:".\\setup-all.ps1"})," from project root to auto-configure everything."]})})]})]})})}const b8=()=>{const{toast:e}=Ne(),[t,r]=f.useState([]),[n,a]=f.useState(""),[i,o]=f.useState(""),[c,l]=f.useState(""),[d,u]=f.useState(""),p=async()=>{try{let h=L.from("import_requests").select("id, customer_name, origin_country, product_currency, product_value, quantity, status, created_at").order("created_at",{ascending:!1});n&&(h=h.eq("status",n)),i&&(h=h.ilike("origin_country",`%${i}%`)),c&&(h=h.gte("created_at",c)),d&&(h=h.lte("created_at",d+" 23:59:59"));const{data:y,error:x}=await h;if(x)throw x;r(y||[])}catch(h){e({title:"Error",description:h.message,variant:"destructive"})}};f.useEffect(()=>{p()},[]);const m=f.useMemo(()=>t.length,[t]);return s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Import Requests"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 mb-4",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsxs("select",{className:"w-full border rounded-md h-10 px-2",value:n,onChange:h=>a(h.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{children:"pending"}),s.jsx("option",{children:"verified"}),s.jsx("option",{children:"assigned"}),s.jsx("option",{children:"in_transit"}),s.jsx("option",{children:"arrived"}),s.jsx("option",{children:"delivered"}),s.jsx("option",{children:"completed"}),s.jsx("option",{children:"disputed"}),s.jsx("option",{children:"rejected"})]})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(M,{placeholder:"Origin country",value:i,onChange:h=>o(h.target.value)})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(M,{type:"date",value:c,onChange:h=>l(h.target.value)})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(M,{type:"date",value:d,onChange:h=>u(h.target.value)})}),s.jsxs("div",{className:"md:col-span-1 flex gap-2",children:[s.jsx(D,{onClick:p,children:"Filter"}),s.jsx(D,{variant:"outline",onClick:()=>{a(""),o(""),l(""),u("")},children:"Reset"})]})]}),s.jsx("div",{className:"overflow-auto border rounded-md",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-muted",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-2",children:"ID"}),s.jsx("th",{className:"text-left p-2",children:"Customer"}),s.jsx("th",{className:"text-left p-2",children:"Origin"}),s.jsx("th",{className:"text-left p-2",children:"Value"}),s.jsx("th",{className:"text-left p-2",children:"Status"}),s.jsx("th",{className:"text-left p-2",children:"Date"}),s.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),s.jsxs("tbody",{children:[t.map(h=>s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"p-2",children:["#",h.id]}),s.jsx("td",{className:"p-2",children:h.customer_name||"-"}),s.jsx("td",{className:"p-2",children:h.origin_country}),s.jsxs("td",{className:"p-2",children:[(h.product_value||0)*(h.quantity||1)," ",h.product_currency]}),s.jsx("td",{className:"p-2",children:h.status}),s.jsx("td",{className:"p-2",children:new Date(h.created_at).toLocaleString()}),s.jsx("td",{className:"p-2",children:s.jsx(D,{asChild:!0,size:"sm",children:s.jsx(fe,{to:`/admin/import-requests/${h.id}`,children:"Open"})})})]},h.id)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-4 text-center text-muted-foreground",children:"No requests found"})})]})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:[m," found"]})]})})},j8=()=>{var m;const{id:e}=Mo(),{toast:t}=Ne();Et();const[r,n]=f.useState(null),[a,i]=f.useState(!1),o=async()=>{const{data:h,error:y}=await L.from("import_requests").select("*").eq("id",e).single();if(y){t({title:"Error",description:y.message,variant:"destructive"});return}n(h)};f.useEffect(()=>{o()},[e]);const c=async h=>{if(!e)return;i(!0);const{error:y}=await L.from("import_requests").update({status:h}).eq("id",e);i(!1),y?t({title:"Error",description:y.message,variant:"destructive"}):(await u("status_update",{status:h}),t({title:"Updated",description:`Status -> ${h}`}),o())},l=async(h=!1)=>{const y=h?"rejected":"verified",{error:x}=await L.from("import_requests").update({status:y}).eq("id",e);x?t({title:"Error",description:x.message,variant:"destructive"}):(await u("verify",{status:y}),t({title:"Updated"}),o())},d=async h=>{const{error:y}=await L.from("import_requests").update({agent_name:h.name||null,agent_phone:h.phone||null,agent_note:h.note||null,agent_fee:h.fee?Number(h.fee):null,status:"assigned"}).eq("id",e);y?t({title:"Error",description:y.message,variant:"destructive"}):(await u("assign_agent",h),t({title:"Agent assigned"}),o())},u=async(h,y)=>{try{await L.from("import_request_logs").insert({request_id:Number(e),action:h,details:y})}catch{}},p=f.useMemo(()=>{if(!(r!=null&&r.agent_phone))return"";const h=`Hello ${r.agent_name||""}, new import request #${r.id}: ${r.product_description}. Origin: ${r.origin_country}/${r.origin_city||""}. Value: ${(r.product_value||0)*(r.quantity||1)} ${r.product_currency}. Customer contact: ${r.contact_method}: ${r.contact_value}. Please confirm availability and price.`;return`https://wa.me/${encodeURIComponent(r.agent_phone)}?text=${encodeURIComponent(h)}`},[r]);return r?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Nr,{}),s.jsx("main",{className:"flex-1",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Import Request #",r.id]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(D,{asChild:!0,variant:"outline",children:s.jsx(fe,{to:"/admin/import-requests",children:"Back"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"border rounded-md p-4",children:[s.jsx("h2",{className:"font-semibold mb-2",children:"Customer"}),s.jsxs("div",{className:"text-sm",children:[r.customer_name||"-","  ",r.contact_method,": ",r.contact_value]}),s.jsxs("div",{className:"text-sm mt-2",children:["Origin: ",r.origin_country," / ",r.origin_city||"-"]})]}),s.jsxs("div",{className:"border rounded-md p-4",children:[s.jsx("h2",{className:"font-semibold mb-2",children:"Product"}),s.jsx("div",{className:"text-sm",children:r.product_description}),s.jsxs("div",{className:"text-sm mt-2",children:["Value  Qty: ",r.product_value||0," ",r.product_currency,"  ",r.quantity," = ",(r.product_value||0)*(r.quantity||1)," ",r.product_currency]}),Array.isArray(r.product_links)&&r.product_links.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:r.product_links.map((h,y)=>s.jsx("div",{children:s.jsxs("a",{className:"text-primary underline",href:h,target:"_blank",children:["Link ",y+1]})},y))})]})]}),s.jsxs("div",{className:"border rounded-md p-4 mb-6",children:[s.jsxs("h2",{className:"font-semibold mb-3",children:["Status: ",r.status]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(D,{onClick:()=>l(!1),variant:"outline",children:"Verify"}),s.jsx(D,{onClick:()=>l(!0),variant:"destructive",children:"Reject"}),s.jsx(D,{onClick:()=>c("in_transit"),variant:"outline",children:"In Transit"}),s.jsx(D,{onClick:()=>c("arrived"),variant:"outline",children:"Arrived"}),s.jsx(D,{onClick:()=>c("delivered"),variant:"outline",children:"Delivered"}),s.jsx(D,{onClick:()=>c("completed"),children:"Mark Completed"}),s.jsx(D,{onClick:()=>c("disputed"),variant:"outline",children:"Disputed"})]})]}),s.jsxs("div",{className:"border rounded-md p-4 mb-6",children:[s.jsx("h2",{className:"font-semibold mb-3",children:"Assign External Agent"}),s.jsx(w8,{defaultName:r.agent_name||"",defaultPhone:r.agent_phone||"",defaultNote:r.agent_note||"",defaultFee:((m=r.agent_fee)==null?void 0:m.toString())||"",onSubmit:d,whatsappUrl:p})]}),r.calculated_commission!=null&&s.jsxs("div",{className:"border rounded-md p-4 mb-6",children:[s.jsx("h2",{className:"font-semibold mb-2",children:"Final Amounts"}),s.jsxs("div",{className:"text-sm",children:["Commission: ",r.calculated_commission," (",r.product_currency,")"]}),r.calculated_agent_fee!=null&&s.jsxs("div",{className:"text-sm",children:["Agent Fee: ",r.calculated_agent_fee," (",r.product_currency,")"]})]})]})}),s.jsx(pa,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Nr,{}),s.jsx("main",{className:"flex-1",children:s.jsx("div",{className:"container px-4 py-6",children:"Loading..."})}),s.jsx(pa,{})]})},w8=({defaultName:e,defaultPhone:t,defaultNote:r,defaultFee:n,onSubmit:a,whatsappUrl:i})=>{const[o,c]=f.useState(e),[l,d]=f.useState(t),[u,p]=f.useState(r),[m,h]=f.useState(n);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Agent Name"}),s.jsx(M,{value:o,onChange:y=>c(y.target.value),placeholder:"Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Agent WhatsApp"}),s.jsx(M,{value:l,onChange:y=>d(y.target.value),placeholder:"e.g., +33XXXXXXXXX"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Agent Note"}),s.jsx(He,{value:u,onChange:y=>p(y.target.value),placeholder:"Notes for this assignment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Agent Fee (optional)"}),s.jsx(M,{type:"number",step:"0.01",value:m,onChange:y=>h(y.target.value),placeholder:"0.00"})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(D,{onClick:()=>a({name:o,phone:l,note:u,fee:m}),children:"Save Assignment"}),i&&s.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:s.jsx(D,{variant:"outline",children:"Contact Agent via WhatsApp"})})]})]})},_8=()=>{const{t:e}=ye(),{toast:t}=Ne(),r=Et(),[n]=f.useState(!0),[a,i]=f.useState(!1),[o,c]=f.useState(!1),[l,d]=f.useState({customer_name:"",contact_method:"whatsapp",contact_value:"",origin_country:"",origin_city:"",product_description:"",product_links:"",product_currency:"EUR",product_value:"",quantity:1,shipping_priority:"normal",delivery_method:"home_delivery",terms_accepted:!1}),u=()=>l.contact_value.trim()?l.origin_country.trim()?l.product_description.trim()?!l.product_value||isNaN(Number(l.product_value))?e("request_import.validation.value"):!l.quantity||l.quantity<1?e("request_import.validation.quantity"):l.terms_accepted?null:e("request_import.validation.terms"):e("request_import.validation.desc"):e("request_import.validation.country"):e("request_import.validation.contact"),p=async()=>{const h=u();if(h){t({title:e("request_import.validation.title"),description:h,variant:"destructive"});return}c(!0)},m=async()=>{try{i(!0);const h=localStorage.getItem("import_last_submit");if(h&&Date.now()-Number(h)<6e4){t({title:e("request_import.validation.wait"),description:e("request_import.validation.wait_desc")}),i(!1);return}const y=l.product_links.split(/\n|,/).map(g=>g.trim()).filter(Boolean),{data:x,error:b}=await L.from("import_requests").insert({customer_name:l.customer_name||null,contact_method:l.contact_method,contact_value:l.contact_value.trim(),origin_country:l.origin_country.trim(),origin_city:l.origin_city.trim()||null,product_description:l.product_description.trim(),product_links:y.length?y:null,product_currency:l.product_currency,product_value:Number(l.product_value),quantity:Number(l.quantity),shipping_priority:l.shipping_priority,delivery_method:l.delivery_method,terms_accepted:l.terms_accepted,status:"pending"}).select("id").single();if(b)throw b;try{await fetch("https://ocwlkljrjhgqejetgfgw.supabase.co/functions/v1/import-request-notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:x==null?void 0:x.id,product_description:l.product_description,origin_country:l.origin_country,origin_city:l.origin_city,value:Number(l.product_value)*Number(l.quantity||1),currency:l.product_currency,customer_whatsapp:l.contact_method==="whatsapp"?l.contact_value:""})})}catch{}localStorage.setItem("import_last_submit",String(Date.now())),c(!1),t({title:e("request_import.validation.sent"),description:e("request_import.validation.sent_desc_id",{id:x==null?void 0:x.id})}),d(g=>({...g,product_description:"",product_links:"",product_value:"",quantity:1,terms_accepted:!1}))}catch(h){t({title:e("request_import.validation.error"),description:h.message||e("request_import.validation.default_error"),variant:"destructive"})}finally{i(!1)}};return n?s.jsx(it,{children:s.jsx(tt,{id:"request-import",title:"Request Import",subtitle:"",padding:"md",children:s.jsx("div",{className:"app-shell min-h-[50vh] flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full border border-warning/50 bg-warning/10 rounded-xl p-8 text-center space-y-5 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-semibold text-brand-gradient",children:e("request_import.blocked.title")}),s.jsx("p",{className:"text-sm text-foreground/65",children:e("request_import.blocked.desc")}),s.jsx(D,{onClick:()=>r("/"),className:"h-11 w-full font-medium",children:e("request_import.blocked.btn")})]})})})}):s.jsx(it,{children:s.jsxs(tt,{id:"request-import",title:e("request_import.title"),subtitle:e("request_import.subtitle"),padding:"md",children:[s.jsxs("div",{className:"max-w-5xl mx-auto grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-1",children:[s.jsx(vn,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold text-sm",children:e("request_import.sections.contact")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"customer_name",className:"text-xs font-medium",children:e("request_import.contact.name")}),s.jsx(M,{id:"customer_name",value:l.customer_name,onChange:h=>d({...l,customer_name:h.target.value}),placeholder:e("request_import.contact.name_ph"),className:"h-10"})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-xs font-medium",children:e("request_import.contact.method")}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["whatsapp","email","phone"].map(h=>s.jsx("button",{type:"button",onClick:()=>d({...l,contact_method:h}),className:`px-2 py-2 rounded-lg border-2 text-xs transition-all ${l.contact_method===h?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:h},h))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"contact_value",className:"text-xs font-medium",children:e("request_import.contact.value")}),s.jsx(M,{id:"contact_value",value:l.contact_value,onChange:h=>d({...l,contact_value:h.target.value}),placeholder:e("request_import.contact.value_ph"),className:"h-10"})]})]})]})}),s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-1",children:[s.jsx(pT,{className:"w-5 h-5 text-secondary"}),s.jsx("h3",{className:"font-semibold text-sm",children:e("request_import.sections.origin")})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"origin_country",className:"text-xs font-medium",children:e("request_import.origin.country")}),s.jsx(M,{id:"origin_country",value:l.origin_country,onChange:h=>d({...l,origin_country:h.target.value}),placeholder:e("request_import.origin.country_ph"),className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"origin_city",className:"text-xs font-medium",children:e("request_import.origin.city")}),s.jsx(M,{id:"origin_city",value:l.origin_city,onChange:h=>d({...l,origin_city:h.target.value}),placeholder:e("request_import.origin.city_ph"),className:"h-10"})]})]})]})}),s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-1",children:[s.jsx(Ds,{className:"w-5 h-5 text-accent"}),s.jsx("h3",{className:"font-semibold text-sm",children:e("request_import.sections.product")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"product_description",className:"text-xs font-medium",children:e("request_import.product.desc")}),s.jsx(He,{id:"product_description",value:l.product_description,onChange:h=>d({...l,product_description:h.target.value}),placeholder:e("request_import.product.desc_ph"),rows:3,className:"resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"product_links",className:"text-xs font-medium",children:e("request_import.product.links")}),s.jsx(He,{id:"product_links",value:l.product_links,onChange:h=>d({...l,product_links:h.target.value}),placeholder:e("request_import.product.links_ph"),rows:3,className:"resize-none"})]}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"product_currency",className:"text-xs font-medium",children:e("request_import.product.currency")}),s.jsxs("select",{id:"product_currency",className:"w-full h-10 px-3 rounded-md border border-border bg-background text-sm",value:l.product_currency,onChange:h=>d({...l,product_currency:h.target.value}),children:[s.jsx("option",{children:"EUR"}),s.jsx("option",{children:"USD"}),s.jsx("option",{children:"GBP"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"product_value",className:"text-xs font-medium",children:e("request_import.product.value")}),s.jsx(M,{id:"product_value",type:"number",step:"0.01",value:l.product_value,onChange:h=>d({...l,product_value:h.target.value}),placeholder:e("request_import.product.value_ph"),className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"quantity",className:"text-xs font-medium",children:e("request_import.product.quantity")}),s.jsx(M,{id:"quantity",type:"number",min:1,value:l.quantity,onChange:h=>d({...l,quantity:Number(h.target.value||1)}),className:"h-10"})]})]})]})}),s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-1",children:[s.jsx(e_,{className:"w-5 h-5 text-warning"}),s.jsx("h3",{className:"font-semibold text-sm",children:e("request_import.sections.options")})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-xs font-medium",children:e("request_import.options.priority")}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["normal","express"].map(h=>s.jsx("button",{type:"button",onClick:()=>d({...l,shipping_priority:h}),className:`px-3 py-2 rounded-lg border-2 text-xs transition-all ${l.shipping_priority===h?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e(`request_import.options.priorities.${h}`)},h))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-xs font-medium",children:e("request_import.options.delivery")}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["home_delivery","pickup"].map(h=>s.jsx("button",{type:"button",onClick:()=>d({...l,delivery_method:h}),className:`px-3 py-2 rounded-lg border-2 text-xs transition-all ${l.delivery_method===h?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e(h==="home_delivery"?"request_import.options.deliveries.home":"request_import.options.deliveries.pickup")},h))})]})]})]})}),s.jsx(B,{className:"border border-border/60 shadow-sm bg-card",children:s.jsxs(V,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-1",children:[s.jsx(is,{className:"w-5 h-5 text-success"}),s.jsx("h3",{className:"font-semibold text-sm",children:e("request_import.sections.confirmation")})]}),s.jsxs("label",{className:"flex items-start gap-3 text-xs leading-relaxed",children:[s.jsx("input",{id:"terms",type:"checkbox",className:"mt-1",checked:l.terms_accepted,onChange:h=>d({...l,terms_accepted:h.target.checked})}),s.jsx("span",{children:e("request_import.confirmation.terms")})]}),s.jsx(D,{disabled:a,onClick:p,className:"w-full h-11 text-sm font-semibold",children:e(a?"request_import.confirmation.submitting":"request_import.confirmation.submit")})]})})]}),s.jsx("div",{className:"space-y-6 lg:sticky lg:top-8 h-fit",children:s.jsx(B,{className:"border border-info/40 bg-info/5 shadow-sm",children:s.jsxs(V,{className:"p-5 text-xs space-y-3",children:[s.jsx("p",{className:"font-medium text-sm",children:e("request_import.tips.title")}),s.jsx("p",{children:e("request_import.tips.t1")}),s.jsx("p",{children:e("request_import.tips.t2")}),s.jsx("p",{children:e("request_import.tips.t3")})]})})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"confirmImportTitle",children:s.jsxs("div",{className:"bg-card border border-border/60 rounded-lg shadow-lg p-6 w-full max-w-lg",children:[s.jsx("h2",{id:"confirmImportTitle",className:"text-lg font-semibold mb-4 text-brand-gradient",children:e("request_import.confirmation.modal.title")}),s.jsxs("div",{className:"text-xs space-y-2 mb-5",children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[e("request_import.sections.product"),":"]})," ",l.product_description]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[e("request_import.sections.origin"),":"]})," ",l.origin_country||"-"," / ",l.origin_city||"-"]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[e("request_import.sections.options"),":"]})," ",l.product_value||"0"," ",l.product_currency,"  ",l.quantity]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[e("request_import.sections.contact"),":"]})," ",l.contact_method," - ",l.contact_value]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[e("request_import.options.priority"),":"]})," ",e(`request_import.options.priorities.${l.shipping_priority}`)]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[e("request_import.options.delivery"),":"]})," ",l.delivery_method==="home_delivery"?e("request_import.options.deliveries.home"):e("request_import.options.deliveries.pickup")]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{variant:"outline",onClick:()=>c(!1),className:"h-9",children:e("request_import.confirmation.modal.cancel")}),s.jsx(D,{onClick:m,disabled:a,className:"h-9",children:e(a?"request_import.confirmation.submitting":"request_import.confirmation.modal.confirm")})]})]})})]})})},N8=()=>{const{t:e}=ye(),{toast:t}=Ne(),r=Et(),[n,a]=f.useState(!1),[i,o]=f.useState(!1),[c,l]=f.useState(!1),[d,u]=f.useState(null),[p,m]=f.useState({name:"",city:"",country:"",phone_whatsapp:"",email:"",telegram:"",shipping_countries:"",shipping_methods:"",shipment_frequency:"regular",goods_types:[],goods_other:"",price_per_kg:"",currency:"EUR",pricing_type:"negotiable",additional_notes:"",agree_broker:!1,agree_admin:!1,agree_terms:!1}),h=(g,v)=>g.includes(v)?g.filter(j=>j!==v):[...g,v],y=()=>p.name.trim()?p.country.trim()?p.city.trim()?p.phone_whatsapp.trim()?!p.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)?e("register_agent.validation.email"):p.shipping_countries.trim()?p.agree_broker?p.agree_admin?p.agree_terms?null:e("register_agent.validation.terms"):e("register_agent.validation.admin"):e("register_agent.validation.broker"):e("register_agent.validation.countries"):e("register_agent.validation.phone"):e("register_agent.validation.city"):e("register_agent.validation.country"):e("register_agent.validation.name"),x=()=>{const g=y();if(g){t({title:e("register_agent.validation.title"),description:g,variant:"destructive"});return}o(!0)},b=async()=>{try{a(!0);const g=p.shipping_countries.split(/,|\n/).map(N=>N.trim()).filter(Boolean),v=[...p.goods_types];p.goods_other.trim()&&v.push(p.goods_other.trim());const{data:j,error:w}=await L.from("agents").insert({name:p.name.trim(),email:p.email.trim(),phone_whatsapp:p.phone_whatsapp.trim(),telegram:p.telegram.trim()||null,country:p.country.trim(),city:p.city.trim(),shipping_countries:g.length?g:null,shipping_methods:p.shipping_methods.trim()?[p.shipping_methods.trim()]:null,shipment_frequency:p.shipment_frequency,goods_types:v.length?v:null,price_per_kg:p.price_per_kg?Number(p.price_per_kg):null,currency:p.currency||null,pricing_type:p.pricing_type||null,additional_notes:p.additional_notes.trim()||null,status:"pending",role:"agent",active:!1}).select("*").single();if(w)throw w;u(j.id),console.log("Invoking Email for Agent Registration",j.id),L.functions.invoke("send-email",{body:{type:"agent_registration",record:j}}).then(({data:N,error:k})=>{k?console.error("Agent Email Error:",k):console.log("Agent Email Success:",N)}),l(!0),o(!1)}catch(g){t({title:e("register_agent.validation.error_title"),description:g.message||e("register_agent.validation.default_error"),variant:"destructive"})}finally{a(!1)}};return c?s.jsx(it,{children:s.jsx(tt,{center:!0,padding:"lg",children:s.jsxs("div",{className:"max-w-md mx-auto text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 bg-success/10 text-success rounded-full flex items-center justify-center mx-auto",children:s.jsx(is,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-bold",children:e("register_agent.success.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("register_agent.success.desc",{id:d})}),s.jsx(D,{onClick:()=>r("/"),className:"w-full",children:e("register_agent.success.home_btn")})]})})}):s.jsx(it,{children:s.jsxs(tt,{id:"register-agent",title:e("register_agent.hero.title"),subtitle:e("register_agent.hero.subtitle"),padding:"md",children:[s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs(B,{children:[s.jsx(ce,{className:"pb-3 border-b bg-muted/20",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vn,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-base",children:e("register_agent.personal.title")})]})}),s.jsxs(V,{className:"grid md:grid-cols-2 gap-4 pt-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"name",children:e("register_agent.personal.name")}),s.jsx(M,{id:"name",value:p.name,onChange:g=>m({...p,name:g.target.value}),placeholder:e("register_agent.personal.placeholders.name")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"country",children:e("register_agent.personal.country")}),s.jsx(M,{id:"country",value:p.country,onChange:g=>m({...p,country:g.target.value}),placeholder:e("register_agent.personal.placeholders.country")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"city",children:e("register_agent.personal.city")}),s.jsx(M,{id:"city",value:p.city,onChange:g=>m({...p,city:g.target.value}),placeholder:e("register_agent.personal.placeholders.city")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"email",children:e("register_agent.personal.email")}),s.jsx(M,{id:"email",type:"email",value:p.email,onChange:g=>m({...p,email:g.target.value}),placeholder:e("register_agent.personal.placeholders.email")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"phone",children:e("register_agent.personal.phone")}),s.jsx(M,{id:"phone",value:p.phone_whatsapp,onChange:g=>m({...p,phone_whatsapp:g.target.value}),placeholder:e("register_agent.personal.placeholders.phone")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"telegram",children:e("register_agent.personal.telegram")}),s.jsx(M,{id:"telegram",value:p.telegram,onChange:g=>m({...p,telegram:g.target.value}),placeholder:e("register_agent.personal.placeholders.telegram")})]})]})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-3 border-b bg-muted/20",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-5 h-5 text-blue-500"}),s.jsx(xe,{className:"text-base",children:e("register_agent.capabilities.title")})]})}),s.jsxs(V,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"countries",children:e("register_agent.capabilities.countries_label")}),s.jsx(M,{id:"countries",value:p.shipping_countries,onChange:g=>m({...p,shipping_countries:g.target.value}),placeholder:e("register_agent.capabilities.countries_placeholder")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e("register_agent.capabilities.countries_hint")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("register_agent.capabilities.methods_label")}),s.jsx(M,{id:"methods",value:p.shipping_methods,onChange:g=>m({...p,shipping_methods:g.target.value}),placeholder:e("register_agent.capabilities.methods_placeholder")||"e.g. Air Cargo, DHL, Personal Transport"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the shipping methods you support."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("register_agent.capabilities.frequency_label")}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer border rounded-lg p-3 flex-1 hover:bg-muted/50",children:[s.jsx("input",{type:"radio",name:"freq",checked:p.shipment_frequency==="regular",onChange:()=>m({...p,shipment_frequency:"regular"})}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium block",children:e("register_agent.capabilities.freq_regular")}),s.jsx("span",{className:"text-muted-foreground text-xs",children:e("register_agent.capabilities.freq_regular_desc")})]})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer border rounded-lg p-3 flex-1 hover:bg-muted/50",children:[s.jsx("input",{type:"radio",name:"freq",checked:p.shipment_frequency==="occasional",onChange:()=>m({...p,shipment_frequency:"occasional"})}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium block",children:e("register_agent.capabilities.freq_occasional")}),s.jsx("span",{className:"text-muted-foreground text-xs",children:e("register_agent.capabilities.freq_occasional_desc")})]})]})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-3 border-b bg-muted/20",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5 text-orange-500"}),s.jsx(xe,{className:"text-base",children:e("register_agent.categories.title")})]})}),s.jsxs(V,{className:"space-y-4 pt-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("register_agent.categories.label")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{val:"Electronics",label:e("register_agent.categories.options.electronics")},{val:"Clothing",label:e("register_agent.categories.options.clothing")},{val:"Medical Items",label:e("register_agent.categories.options.medical")},{val:"Cosmetics",label:e("register_agent.categories.options.cosmetics")},{val:"Auto Parts",label:e("register_agent.categories.options.auto")},{val:"General Goods",label:e("register_agent.categories.options.general")}].map(g=>s.jsx("button",{type:"button",onClick:()=>m({...p,goods_types:h(p.goods_types,g.val)}),className:`px-3 py-1.5 rounded-full border text-xs font-medium transition-colors ${p.goods_types.includes(g.val)?"bg-orange-50 border-orange-200 text-orange-700":"bg-background border-border hover:bg-muted"}`,children:g.label},g.val))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"other_goods",className:"text-xs",children:e("register_agent.categories.other_label")}),s.jsx(M,{id:"other_goods",value:p.goods_other,onChange:g=>m({...p,goods_other:g.target.value}),placeholder:e("register_agent.categories.other_placeholder"),className:"h-9"})]})]})]}),s.jsxs(B,{className:"border-dashed border-primary/30",children:[s.jsx(ce,{className:"pb-3 border-b bg-primary/5",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Eg,{className:"w-5 h-5 text-green-600"}),s.jsx(xe,{className:"text-base",children:e("register_agent.pricing.title")})]})}),s.jsxs(V,{className:"space-y-4 pt-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("register_agent.pricing.subtitle")}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(P,{htmlFor:"price",children:e("register_agent.pricing.price_per_kg")}),s.jsxs("div",{className:"relative",children:[s.jsx(M,{id:"price",type:"number",value:p.price_per_kg,onChange:g=>m({...p,price_per_kg:g.target.value}),placeholder:"0.00",className:"pl-8"}),s.jsx("span",{className:"absolute left-3 top-2.5 text-muted-foreground text-sm",children:"$"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"currency",children:e("register_agent.pricing.currency")}),s.jsxs("select",{id:"currency",className:"w-full h-10 px-3 rounded-md border border-input bg-background",value:p.currency,onChange:g=>m({...p,currency:g.target.value}),children:[s.jsx("option",{value:"EUR",children:"EUR ()"}),s.jsx("option",{value:"USD",children:"USD ($)"}),s.jsx("option",{value:"DZD",children:"DZD (DA)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"type",children:e("register_agent.pricing.type")}),s.jsxs("select",{id:"type",className:"w-full h-10 px-3 rounded-md border border-input bg-background",value:p.pricing_type,onChange:g=>m({...p,pricing_type:g.target.value}),children:[s.jsx("option",{value:"fixed",children:e("register_agent.pricing.types.fixed")}),s.jsx("option",{value:"negotiable",children:e("register_agent.pricing.types.negotiable")})]})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-3 border-b bg-muted/20",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"w-5 h-5 text-gray-500"}),s.jsx(xe,{className:"text-base",children:e("register_agent.additional.title")})]})}),s.jsxs(V,{className:"pt-6",children:[s.jsx(P,{htmlFor:"notes",className:"sr-only",children:"Notes"}),s.jsx(He,{id:"notes",value:p.additional_notes,onChange:g=>m({...p,additional_notes:g.target.value}),placeholder:e("register_agent.additional.placeholder"),className:"min-h-[100px]"})]})]}),s.jsx(B,{className:"border-l-4 border-l-primary shadow-md",children:s.jsxs(V,{className:"p-6 space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:e("register_agent.legal.title")}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[s.jsx("div",{className:"pt-0.5",children:s.jsx("input",{type:"checkbox",checked:p.agree_broker,onChange:g=>m({...p,agree_broker:g.target.checked}),className:"accent-primary w-4 h-4"})}),s.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground",children:e("register_agent.legal.broker")})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[s.jsx("div",{className:"pt-0.5",children:s.jsx("input",{type:"checkbox",checked:p.agree_admin,onChange:g=>m({...p,agree_admin:g.target.checked}),className:"accent-primary w-4 h-4"})}),s.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground",children:e("register_agent.legal.admin")})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[s.jsx("div",{className:"pt-0.5",children:s.jsx("input",{type:"checkbox",checked:p.agree_terms,onChange:g=>m({...p,agree_terms:g.target.checked}),className:"accent-primary w-4 h-4"})}),s.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground",children:e("register_agent.legal.terms")})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(D,{onClick:x,disabled:n,className:"w-full md:w-auto md:px-12 h-12 text-base shadow-lg hover:shadow-xl transition-all",children:e(n?"register_agent.legal.submitting":"register_agent.legal.submit")})})]})})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-2xl p-6 w-full max-w-lg space-y-6 animate-in fade-in zoom-in duration-300",children:[s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Confirm Registration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please double check your details before submitting."})]}),s.jsxs("div",{className:"space-y-3 text-sm bg-muted/30 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between border-b pb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("span",{className:"font-medium text-right",children:p.name})]}),s.jsxs("div",{className:"flex justify-between border-b pb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsxs("span",{className:"font-medium text-right",children:[p.country," (",p.city,")"]})]}),s.jsxs("div",{className:"flex justify-between border-b pb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Ship From:"}),s.jsx("span",{className:"font-medium text-right max-w-[200px] truncate",children:p.shipping_countries})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),s.jsx("span",{className:"font-medium text-right",children:p.phone_whatsapp})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),className:"flex-1 h-11",children:"Edit"}),s.jsx(D,{onClick:b,disabled:n,className:"flex-1 h-11",children:n?"Submitting...":"Confirm & Submit"})]})]})})]})})},S8=()=>{const{toast:e}=Ne(),[t,r]=f.useState([]),[n,a]=f.useState(""),[i,o]=f.useState(""),[c,l]=f.useState(""),[d,u]=f.useState(""),[p,m]=f.useState(""),[h,y]=f.useState(""),x=async()=>{try{let b=L.from("agents").select("id,name,email,phone_whatsapp,country,city,status,created_at,shipping_methods,goods_types").order("created_at",{ascending:!1});n&&(b=b.eq("status",n)),i&&(b=b.ilike("country",`%${i}%`)),c&&(b=b.contains("shipping_methods",[c])),d&&(b=b.contains("goods_types",[d])),p&&(b=b.gte("created_at",p)),h&&(b=b.lte("created_at",h+" 23:59:59"));const{data:g,error:v}=await b;if(v)throw v;r(g||[])}catch(b){e({title:"Error",description:b.message,variant:"destructive"})}};return f.useEffect(()=>{x()},[]),s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Agent Registrations"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(D,{asChild:!0,variant:"outline",children:s.jsx(fe,{to:"/admin/agents",children:"Active Agents"})})})]}),s.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg mb-6 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Status"}),s.jsxs("select",{className:"w-full border rounded-md h-9 px-2 text-sm",value:n,onChange:b=>a(b.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"verified",children:"Verified"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Country (Loc)"}),s.jsx(M,{placeholder:"Search location...",value:i,onChange:b=>o(b.target.value),className:"h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Ship Method"}),s.jsxs("select",{className:"w-full border rounded-md h-9 px-2 text-sm",value:c,onChange:b=>l(b.target.value),children:[s.jsx("option",{value:"",children:"Any Method"}),s.jsx("option",{value:"Air Cargo",children:"Air Cargo"}),s.jsx("option",{value:"Sea Freight",children:"Sea Freight"}),s.jsx("option",{value:"Hand-carry (Traveler)",children:"Hand-carry"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Category"}),s.jsxs("select",{className:"w-full border rounded-md h-9 px-2 text-sm",value:d,onChange:b=>u(b.target.value),children:[s.jsx("option",{value:"",children:"Any Category"}),s.jsx("option",{value:"Electronics",children:"Electronics"}),s.jsx("option",{value:"Clothing",children:"Clothing"}),s.jsx("option",{value:"Medical Items",children:"Medical Items"}),s.jsx("option",{value:"Cosmetics",children:"Cosmetics"}),s.jsx("option",{value:"Auto Parts",children:"Auto Parts"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block",children:"From"}),s.jsx(M,{type:"date",value:p,onChange:b=>m(b.target.value),className:"h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block",children:"To"}),s.jsx(M,{type:"date",value:h,onChange:b=>y(b.target.value),className:"h-9"})]}),s.jsxs("div",{className:"md:col-span-2 flex items-end gap-2",children:[s.jsx(D,{onClick:x,size:"sm",className:"w-32",children:"Filter"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{a(""),o(""),l(""),u(""),m(""),y("")},children:"Reset"})]})]})]}),s.jsx("div",{className:"overflow-auto border rounded-md shadow-sm",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 font-medium",children:"ID"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Identity"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Location"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Capabilities"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Status"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Date"}),s.jsx("th",{className:"text-right p-3 font-medium",children:"Action"})]})}),s.jsxs("tbody",{children:[t.map(b=>s.jsxs("tr",{className:"border-t hover:bg-muted/5",children:[s.jsxs("td",{className:"p-3 text-muted-foreground",children:["#",b.id]}),s.jsxs("td",{className:"p-3",children:[s.jsx("div",{className:"font-medium",children:b.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:b.email})]}),s.jsxs("td",{className:"p-3",children:[b.country||"-"," / ",b.city||"-"]}),s.jsx("td",{className:"p-3 max-w-[200px] truncate text-xs text-muted-foreground",children:[...b.shipping_methods||[],...b.goods_types||[]].join(", ")}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${b.status==="verified"?"bg-blue-100 text-blue-800":b.status==="active"?"bg-green-100 text-green-800":b.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:b.status})}),s.jsx("td",{className:"p-3",children:new Date(b.created_at).toLocaleDateString()}),s.jsx("td",{className:"p-3 text-right",children:s.jsx(D,{asChild:!0,size:"sm",variant:"outline",className:"h-8",children:s.jsx(fe,{to:`/admin/agent-registrations/${b.id}`,children:"Review"})})})]},b.id)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"No registrations found matching filters."})})]})]})})]})})},k8=()=>{var m,h,y;const{id:e}=Mo(),{toast:t}=Ne(),[r,n]=f.useState(null),[a,i]=f.useState(!1);f.useState("");const[o,c]=f.useState(""),l=async()=>{const{data:x,error:b}=await L.from("agents").select("*").eq("id",e).single();if(b){t({title:"Error",description:b.message,variant:"destructive"});return}n(x),x.notes&&c(x.notes)};f.useEffect(()=>{l()},[e]);const d=async(x,b)=>{await L.from("agent_registration_logs").insert({registration_id:Number(e),action:x,details:b})},u=async(x=!1)=>{const b=x?"rejected":"verified",{error:g}=await L.from("agents").update({status:b,notes:o||null}).eq("id",e);g?t({title:"Error",description:g.message,variant:"destructive"}):(await d(x?"rejected":"verified",{note:o}),t({title:`Registration ${b}`}),l())},p=async()=>{if(!r)return;i(!0);const{error:x}=await L.from("agents").update({status:"active",active:!0,notes:o}).eq("id",e);x?(t({title:"Error activating agent",description:x.message,variant:"destructive"}),i(!1)):(await d("activated",{note:o}),console.log("Sending Approval Email",r.id),L.functions.invoke("send-email",{body:{type:"agent_approved",record:r,admin_note:o}}).then(({data:b,error:g})=>{g?console.error("Email Error:",g):console.log("Email Sent:",b)}),t({title:"Agent Activated Successfully"}),l()),i(!1)};return r?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Nr,{}),s.jsx("main",{className:"flex-1 bg-muted/10",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Agent Application #",r.id]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Created: ",new Date(r.created_at).toLocaleString()]}),s.jsx(Q,{variant:r.status==="pending"?"secondary":r.status==="active"?"default":"outline",children:r.status.toUpperCase()})]})]}),s.jsx(D,{asChild:!0,variant:"outline",children:s.jsx(fe,{to:"/admin/agent-registrations",children:"Back to List"})})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-card border rounded-lg p-5 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Identity & Contact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs",children:"Full Name"}),s.jsx("div",{className:"font-medium",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs",children:"Email"}),s.jsx("div",{className:"font-medium",children:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs",children:"Phone (WhatsApp)"}),s.jsx("div",{className:"font-medium",children:r.phone_whatsapp})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs",children:"Telegram"}),s.jsx("div",{className:"font-medium",children:r.telegram||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs",children:"Location"}),s.jsxs("div",{className:"font-medium",children:[r.country," / ",r.city]})]})]})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-5 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Logistics Capabilities"}),s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs block mb-1",children:"Shipping From (Countries)"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:((m=r.shipping_countries)==null?void 0:m.map(x=>s.jsx(Q,{variant:"outline",className:"bg-blue-50/50",children:x},x)))||"-"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs block mb-1",children:"Methods"}),s.jsx("div",{className:"space-y-1",children:((h=r.shipping_methods)==null?void 0:h.map(x=>s.jsxs("div",{children:[" ",x]},x)))||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs block mb-1",children:"Frequency"}),s.jsx("div",{className:"font-medium capitalize",children:r.shipment_frequency||"-"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs block mb-1",children:"Supported Goods"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:((y=r.goods_types)==null?void 0:y.map(x=>s.jsx(Q,{variant:"secondary",children:x},x)))||"-"})]})]})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-5 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Pricing & Additional Info"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs",children:"Price per KG"}),s.jsx("div",{className:"font-medium",children:r.price_per_kg?`${r.price_per_kg} ${r.currency||""}`:"Not specified"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs",children:"Pricing Type"}),s.jsx("div",{className:"font-medium capitalize",children:r.pricing_type||"-"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground text-xs block mb-1",children:"Additional Notes"}),s.jsx("div",{className:"bg-muted p-3 rounded-md text-sm whitespace-pre-wrap",children:r.additional_notes||"No notes provided."})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-card border rounded-lg p-5 shadow-sm sticky top-24",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Validation"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Admin Notes / Logic"}),s.jsx(He,{value:o,onChange:x=>c(x.target.value),placeholder:"Internal tracking notes...",className:"min-h-[100px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[s.jsx(D,{onClick:()=>u(!1),variant:"outline",className:"w-full",children:"Mark Verified"}),s.jsx(D,{onClick:()=>u(!0),variant:"outline",className:"w-full border-destructive/30 hover:bg-destructive/10 hover:text-destructive",children:"Reject"})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx(D,{onClick:p,disabled:a||r.status==="active",className:"w-full bg-green-600 hover:bg-green-700 text-white",children:r.status==="active"?"Agent Active":"Approve & Activate"}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Activates agent account and enables matching."})]})]})]})})]})]})}),s.jsx(pa,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Nr,{}),s.jsx("main",{className:"flex-1 p-8 text-center",children:"Loading..."})]})},C8=[{name:"Primary",var:"--primary"},{name:"Secondary",var:"--secondary"},{name:"Accent",var:"--accent"},{name:"Muted",var:"--muted"},{name:"Success",var:"--success"},{name:"Warning",var:"--warning"},{name:"Info",var:"--info"},{name:"Destructive",var:"--destructive"}],E8=[{tag:"h1",text:"Heading 1",className:"text-4xl font-extrabold tracking-tight"},{tag:"h2",text:"Heading 2",className:"text-3xl font-bold tracking-tight"},{tag:"h3",text:"Heading 3",className:"text-2xl font-semibold"},{tag:"h4",text:"Heading 4",className:"text-xl font-semibold"},{tag:"p",text:"Body text paragraph example with medium length.",className:"text-base leading-relaxed"},{tag:"small",text:"Caption / Small label",className:"text-xs text-muted-foreground"}],P8=()=>s.jsx(it,{children:s.jsxs("div",{className:"app-shell py-12",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Design System"}),s.jsx("p",{className:"text-muted-foreground",children:"Unified tokens, components & themes."})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Color Palette"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-8 gap-4",children:C8.map(e=>s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx("div",{className:"h-16 w-full rounded-md shadow-sm border",style:{backgroundColor:`hsl(var(${e.var}))`}}),s.jsx("div",{className:"text-xs font-medium",children:e.name})]},e.var))})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Semantic Tokens"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[{name:"Background",tokens:["--background","--card","--popover"]},{name:"Foreground",tokens:["--foreground","--muted-foreground","--primary-foreground"]},{name:"Borders",tokens:["--border","--input","--ring"]},{name:"Status",tokens:["--success","--warning","--info","--destructive"]},{name:"Motion",tokens:["--dur-fast","--dur-medium","--ease-standard"]},{name:"Elevation",tokens:["--elevation-1","--elevation-2","--elevation-3"]}].map((e,t)=>s.jsxs("div",{className:"rounded-md border border-border/60 p-4 bg-card shadow-sm",children:[s.jsx("h3",{className:"text-xs font-semibold mb-2 tracking-wide",children:e.name}),s.jsx("ul",{className:"space-y-1",children:e.tokens.map(r=>s.jsx("li",{className:"text-[11px] font-mono text-foreground/70",children:r},r))})]},t))})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Typography Scale"}),s.jsx("div",{className:"space-y-4",children:E8.map(e=>s.jsxs("div",{className:"border rounded-md p-4 bg-card shadow-sm",children:[s.jsx("div",{className:e.className,children:e.text}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Class: ",e.className]})]},e.text))})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Buttons"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(D,{children:"Primary"}),s.jsx(D,{variant:"secondary",children:"Secondary"}),s.jsx(D,{variant:"outline",children:"Outline"}),s.jsx(D,{variant:"ghost",children:"Ghost"}),s.jsx(D,{variant:"destructive",children:"Destructive"})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interactive States"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(D,{className:"group relative overflow-hidden",children:[s.jsx("span",{className:"relative z-10",children:"Hover Gradient"}),s.jsx("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity bg-gradient-to-r from-primary/20 to-accent/20"})]}),s.jsx(D,{variant:"outline",className:"focus-outline",children:"Focus Ring Demo"})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cards & Elevation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(B,{className:"p-6 shadow-sm",children:"Shadow sm"}),s.jsx(B,{className:"p-6 shadow-md",children:"Shadow md"}),s.jsx(B,{className:"p-6 shadow-lg",children:"Shadow lg"})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Themes"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Preview palette overrides (Emerald, Blue, Purple, Orange)."}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:["default","emerald","blue","purple","orange"].map(e=>s.jsxs("div",{className:"border rounded-md p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:e}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"h-8 rounded",style:{background:"hsl(var(--primary))"}}),s.jsx("div",{className:"h-8 rounded",style:{background:"hsl(var(--accent))"}}),s.jsx("div",{className:"h-8 rounded",style:{background:"hsl(var(--secondary))"}})]})]},e))})]}),s.jsxs("section",{className:"mb-20",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Guidelines"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[{title:"Spacing",body:"Utiliser padding vertical 2432px pour sections majeures, 16px pour blocs internes."},{title:"Typography",body:"Limiter 12 familles. Inter pour texte courant, utiliser poids 500600 pour emphase."},{title:"Colors",body:"Toujours employer tokens via hsl(var(--token)); jamais coder en dur les HEX."}].map((e,t)=>s.jsxs("div",{className:"rounded-md border border-border/60 p-4 bg-card shadow-sm",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:e.title}),s.jsx("p",{className:"text-xs text-foreground/70 leading-relaxed",children:e.body})]},t))})]})]})}),rc=({label:e,color:t="#3b82f6",className:r,size:n="sm"})=>{const a={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"};return s.jsx(Q,{className:J("font-medium border",a[n],r),style:{backgroundColor:`${t}15`,borderColor:`${t}40`,color:t},children:e})},T8=({id:e,name:t,description:r,price:n,images:a,slug:i,categoryLabel:o,categoryColor:c,productTypeName:l,className:d,stockQuantity:u})=>{const{t:p}=ye(),{addItem:m}=xc(),h=a&&a.length>0?a[0]:null,y=u!==null&&u===0,x=u!==null&&u>0&&u<5,b=r?r.length>100?r.substring(0,100)+"...":r:"",g=()=>{y||m({id:e,name:t,price:n,images:a,slug:i,stockQuantity:u})};return s.jsxs(B,{className:J("group hover:shadow-lg transition-all duration-300 overflow-hidden",d),children:[s.jsx(ce,{className:"p-0 relative",children:h?s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[s.jsx("img",{src:h,alt:t,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(rc,{label:o,color:c,size:"sm"})}),l&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Q,{variant:"secondary",className:"text-xs",children:l})}),y&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10",children:s.jsx("span",{className:"bg-red-600 text-white px-3 py-1 text-sm font-bold uppercase tracking-wider -rotate-12 transform",children:p("store.card.outOfStock")})}),x&&!y&&s.jsx("div",{className:"absolute bottom-2 right-2 z-10",children:s.jsx(Q,{variant:"destructive",className:"animate-pulse",children:p("store.card.onlyLeft",{count:u})})})]}):s.jsxs("div",{className:"aspect-square bg-muted flex items-center justify-center",children:[s.jsx("div",{className:"text-muted-foreground text-sm",children:p("store.card.noImage")}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(rc,{label:o,color:c,size:"sm"})})]})}),s.jsxs(V,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:t}),b&&s.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:b}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," DZD"]})})]}),s.jsxs(Yn,{className:"p-4 pt-0 flex gap-2",children:[s.jsx(D,{asChild:!0,variant:"outline",className:"flex-1",size:"sm",children:s.jsxs(fe,{to:`/store/product/${i}`,children:[s.jsx(zr,{className:"h-4 w-4 mr-2"}),p("store.card.view")]})}),s.jsx(D,{className:"flex-1",size:"sm",onClick:g,disabled:y,variant:y?"secondary":"default",children:y?s.jsx("span",{className:"text-xs",children:p("store.card.outOfStock")}):s.jsxs(s.Fragment,{children:[s.jsx(an,{className:"h-4 w-4 mr-2"}),p("store.card.addToCart")]})})]})]})},A8=({productTypes:e,selectedProductType:t,onProductTypeChange:r,className:n})=>{var i;const{t:a}=ye();return s.jsxs("div",{className:J("flex flex-wrap items-center gap-3 p-4 bg-muted/30 rounded-lg",n),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:a("store.filter.label")}),s.jsxs(Ee,{value:t||"all",onValueChange:o=>r(o==="all"?null:o),children:[s.jsx(ke,{className:"w-[200px]",children:s.jsx(Pe,{placeholder:a("store.filter.placeholder")})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:a("store.filter.all")}),e.map(o=>s.jsx(K,{value:o.slug,children:o.name},o.id))]})]})]}),t&&s.jsxs(Q,{variant:"secondary",className:"gap-2",children:[(i=e.find(o=>o.slug===t))==null?void 0:i.name,s.jsx("button",{onClick:()=>r(null),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:s.jsx(Ct,{className:"h-3 w-3"})})]})]})};function R8(){const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!1),[a,i]=f.useState(!1),[o,c]=f.useState(!1),[l,d]=f.useState({full_name:"",email:"",phone:"",whatsapp:"",telegram:"",product_name:"",proposed_price:"",currency:"DZD",store_name:"",store_location:"",source_type:"local",description:""}),[u,p]=f.useState(!1),[m,h]=f.useState(!1),[y,x]=f.useState([]),[b,g]=f.useState([]),v=async N=>{if(!N.target.files||N.target.files.length===0)return;c(!0);const k=Array.from(N.target.files),_=[];try{for(const C of k){const A=C.name.split(".").pop(),S=`${`${crypto.randomUUID()}.${A}`}`,{error:T}=await L.storage.from("suggestion-images").upload(S,C);if(T)throw T;const{data:R}=L.storage.from("suggestion-images").getPublicUrl(S);_.push(R.publicUrl)}g(C=>[...C,..._]),x(C=>[...C,...k]),t({title:e("store.suggestion.toast.images_uploaded"),description:e("store.suggestion.toast.images_desc",{count:k.length})})}catch(C){console.error(C),t({title:e("store.suggestion.toast.upload_failed"),description:C.message,variant:"destructive"})}finally{c(!1)}},j=N=>{g(k=>k.filter((_,C)=>C!==N))},w=async N=>{if(N.preventDefault(),b.length===0){t({title:e("store.suggestion.toast.image_required"),description:e("store.suggestion.toast.image_required_desc"),variant:"destructive"});return}i(!0);try{const{error:k}=await L.from("store_product_suggestions").insert({...l,whatsapp:u?l.whatsapp:null,telegram:m?l.telegram:null,images:b,status:"pending"});if(k)throw k;t({title:e("store.suggestion.toast.success_title"),description:e("store.suggestion.toast.success_desc"),duration:5e3}),n(!1),d({full_name:"",email:"",phone:"",whatsapp:"",telegram:"",product_name:"",proposed_price:"",currency:"DZD",store_name:"",store_location:"",source_type:"local",description:""}),g([]),p(!1),h(!1)}catch(k){console.error(k),t({title:e("store.suggestion.toast.failed_title"),description:k.message,variant:"destructive"})}finally{i(!1)}};return s.jsxs(at,{open:r,onOpenChange:n,children:[s.jsx(c5,{asChild:!0,children:s.jsxs(D,{variant:"outline",className:"gap-2",children:[s.jsx(sn,{className:"h-4 w-4"})," ",e("store.suggestion.btn_trigger")]})}),s.jsxs(st,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(vt,{children:s.jsx(bt,{children:e("store.suggestion.title")})}),s.jsxs("form",{onSubmit:w,className:"space-y-6 pt-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wider",children:e("store.suggestion.personal_info")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.full_name")}),s.jsx(M,{required:!0,value:l.full_name,onChange:N=>d({...l,full_name:N.target.value}),placeholder:"e.g. Ahmed Benali"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.phone")}),s.jsx(M,{required:!0,value:l.phone,onChange:N=>d({...l,phone:N.target.value}),placeholder:"0550..."})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(P,{children:"Email"}),s.jsx(M,{type:"email",value:l.email,onChange:N=>d({...l,email:N.target.value}),placeholder:"email@example.com"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"hasWa",checked:u,onCheckedChange:N=>p(N)}),s.jsx(P,{htmlFor:"hasWa",children:e("store.suggestion.whatsapp_label")})]}),u&&s.jsx(M,{placeholder:e("store.suggestion.whatsapp_placeholder"),value:l.whatsapp,onChange:N=>d({...l,whatsapp:N.target.value})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($e,{id:"hasTg",checked:m,onCheckedChange:N=>h(N)}),s.jsx(P,{htmlFor:"hasTg",children:e("store.suggestion.telegram_label")})]}),m&&s.jsx(M,{placeholder:e("store.suggestion.telegram_placeholder"),value:l.telegram,onChange:N=>d({...l,telegram:N.target.value})})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wider",children:e("store.suggestion.product_details")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.product_name")}),s.jsx(M,{required:!0,value:l.product_name,onChange:N=>d({...l,product_name:N.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.proposed_price")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{required:!0,type:"number",step:"0.01",value:l.proposed_price,onChange:N=>d({...l,proposed_price:N.target.value})}),s.jsxs(Ee,{value:l.currency,onValueChange:N=>d({...l,currency:N}),children:[s.jsx(ke,{className:"w-[80px]",children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"DZD",children:"DZD"}),s.jsx(K,{value:"EUR",children:"EUR"}),s.jsx(K,{value:"USD",children:"USD"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.photos_label")}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[b.map((N,k)=>s.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden group",children:[s.jsx("img",{src:N,alt:"Preview",className:"object-cover w-full h-full"}),s.jsx("button",{type:"button",onClick:()=>j(k),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ct,{className:"h-3 w-3"})})]},k)),s.jsxs("label",{className:"flex flex-col items-center justify-center aspect-square border-2 border-dashed rounded-md cursor-pointer hover:bg-muted/50 transition-colors",children:[o?s.jsx(we,{className:"h-6 w-6 animate-spin text-muted-foreground"}):s.jsx(ti,{className:"h-6 w-6 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-2",children:e("store.suggestion.upload")}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:v,disabled:o})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wider",children:e("store.suggestion.source_info")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.store_name")}),s.jsx(M,{value:l.store_name,onChange:N=>d({...l,store_name:N.target.value}),placeholder:"e.g. Boutique Algiers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.source_type")}),s.jsxs(Ee,{value:l.source_type,onValueChange:N=>d({...l,source_type:N}),children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"local",children:e("store.suggestion.source_types.local")}),s.jsx(K,{value:"imported",children:e("store.suggestion.source_types.imported")})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.store_location")}),s.jsx(M,{value:l.store_location,onChange:N=>d({...l,store_location:N.target.value}),placeholder:"City, Wilaya"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:e("store.suggestion.notes")}),s.jsx(He,{value:l.description,onChange:N=>d({...l,description:N.target.value}),placeholder:e("store.suggestion.notes_placeholder")})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(D,{type:"button",variant:"ghost",onClick:()=>n(!1),children:e("store.suggestion.cancel")}),s.jsxs(D,{type:"submit",disabled:a||o,children:[a?s.jsx(we,{className:"h-4 w-4 animate-spin mr-2"}):null,e("store.suggestion.submit")]})]})]})]})]})}const Bb=()=>{const{categorySlug:e}=Mo(),t=Et(),{toast:r}=Ne(),{t:n}=ye(),[a,i]=f.useState(!0),[o,c]=f.useState(null),[l,d]=f.useState([]),[u,p]=f.useState([]),[m,h]=f.useState(null),[y,x]=f.useState("");f.useEffect(()=>{b()},[e]);const b=async()=>{i(!0);try{let v;if(e)v=await L.from("store_categories").select("*").eq("slug",e).eq("is_active",!0).single();else{const C=await L.from("store_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0}).limit(1);C.data&&C.data.length>0?v={data:C.data[0],error:C.error}:v={data:null,error:C.error}}const{data:j,error:w}=v;if(w||!j){if((w==null?void 0:w.code)==="PGRST116"||!j){c(null),i(!1);return}e&&r({title:n("store.notFound.title"),description:n("store.notFound.desc"),variant:"destructive"}),i(!1);return}const N=j;if(!N){c(null),i(!1);return}c(N);const{data:k,error:_}=await L.from("product_types").select("*").eq("store_category_id",N.id).eq("is_active",!0).order("display_order",{ascending:!0});!_&&k&&p(k),await g(N.id)}catch(v){console.error("Error loading store data:",v),r({title:n("store.toast.error_title"),description:n("store.toast.load_data_error"),variant:"destructive"})}finally{i(!1)}},g=async v=>{try{let j=L.from("products").select(`
          *,
          product_types (*)
        `).eq("store_category_id",v).eq("status","active").order("created_at",{ascending:!1});if(m){const k=u.find(_=>_.slug===m);k&&(j=j.eq("product_type_id",k.id))}y.trim()&&(j=j.or(`name.ilike.%${y}%,description.ilike.%${y}%`));const{data:w,error:N}=await j;if(N)throw N;d(w||[])}catch(j){console.error("Error loading products:",j),r({title:n("store.toast.error_title"),description:n("store.toast.load_products_error"),variant:"destructive"})}};return f.useEffect(()=>{o&&g(o.id)},[m,y,o]),a?s.jsx(it,{children:s.jsx(tt,{padding:"md",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})})})}):o?s.jsx(it,{children:s.jsx(tt,{padding:"md",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(Ma,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:o.name}),s.jsx(rc,{label:o.badge_label,color:o.badge_color,size:"md"})]}),o.description&&s.jsx("p",{className:"text-muted-foreground",children:o.description})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(R8,{})})]}),s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsx(M,{placeholder:n("store.searchPlaceholder"),value:y,onChange:v=>x(v.target.value),className:"max-w-md"}),s.jsx(D,{variant:"outline",onClick:()=>x(""),children:n("store.clear")})]}),u.length>0&&s.jsx(A8,{productTypes:u,selectedProductType:m,onProductTypeChange:h})]}),l.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(v=>{var j;return s.jsx(T8,{id:v.id,name:v.name,description:v.description||void 0,price:v.price,images:v.images||void 0,slug:v.slug,categoryLabel:o.badge_label,categoryColor:o.badge_color,productTypeName:(j=v.product_types)==null?void 0:j.name,stockQuantity:v.stock_quantity},v.id)})}):s.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-lg",children:[s.jsx(Ds,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("store.noProducts.title")}),s.jsx("p",{className:"text-muted-foreground",children:n(y||m?"store.noProducts.descSearch":"store.noProducts.descEmpty")})]})]})})}):s.jsx(it,{children:s.jsx(tt,{padding:"md",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ds,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n(e?"store.notFound.title":"store.noCategories.title")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n(e?"store.notFound.desc":"store.noCategories.desc")}),!e&&s.jsx(D,{onClick:()=>t("/"),variant:"outline",children:n("store.goHome")})]})})})},O8=()=>{const{slug:e}=Mo(),t=Et(),{toast:r}=Ne(),{addItem:n}=xc(),{t:a}=ye(),[i,o]=f.useState(!0),[c,l]=f.useState(null),[d,u]=f.useState(null);f.useEffect(()=>{e&&p()},[e]);const p=async()=>{o(!0);try{const{data:h,error:y}=await L.from("products").select(`
          *,
          store_categories (
            name,
            badge_label,
            badge_color
          )
        `).eq("slug",e).eq("status","active").single();if(y)if(y.code==="PGRST116")l(null);else throw y;else l(h),h.images&&h.images.length>0&&u(h.images[0])}catch(h){console.error("Error loading product:",h),r({title:"Error",description:"Failed to load product details.",variant:"destructive"})}finally{o(!1)}},m=()=>{c&&n({id:c.id,name:c.name,price:c.price,images:c.images,slug:c.slug})};return i?s.jsx(it,{children:s.jsx(tt,{padding:"md",children:s.jsx("div",{className:"flex justify-center py-20",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})})})}):c?s.jsx(it,{children:s.jsx(tt,{padding:"md",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(D,{variant:"ghost",className:"pl-0 hover:pl-2 transition-all",onClick:()=>t(-1),children:[s.jsx(Jd,{className:"mr-2 h-4 w-4"}),a("product_details.back")]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-xl overflow-hidden border",children:d?s.jsx("img",{src:d,alt:c.name,className:"w-full h-full object-contain bg-white"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-secondary/20",children:s.jsx(Ds,{className:"h-20 w-20 text-muted-foreground/50"})})}),c.images&&c.images.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:c.images.map((h,y)=>s.jsx("button",{onClick:()=>u(h),className:`
                        relative flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 
                        ${d===h?"border-primary ring-2 ring-primary/20":"border-transparent hover:border-border"}
                      `,children:s.jsx("img",{src:h,alt:`View ${y+1}`,className:"w-full h-full object-cover"})},y))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.store_categories&&s.jsx(rc,{label:c.store_categories.badge_label,color:c.store_categories.badge_color,size:"sm"}),c.status==="active"&&s.jsx(Q,{variant:"outline",className:"border-green-200 text-green-700 bg-green-50",children:a("product_details.inStock")})]}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:c.name}),s.jsx("div",{className:"text-3xl font-bold text-primary",children:c.price.toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:s.jsx("p",{children:c.description||a("product_details.noDescription")})}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs(D,{size:"lg",className:"flex-1 text-base h-12",onClick:m,children:[s.jsx(an,{className:"mr-2 h-5 w-5"}),a("product_details.addToCart")]})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-4 text-center sm:text-left",children:[s.jsx(go,{className:"inline h-3 w-3 mr-1 text-green-600"}),a("product_details.freeShipping"),s.jsx("span",{className:"mx-2",children:""}),s.jsx(go,{className:"inline h-3 w-3 mr-1 text-green-600"}),a("product_details.securePayment")]})]})]})]})]})})}):s.jsx(it,{children:s.jsx(tt,{padding:"md",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-20",children:[s.jsx(Ds,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:a("product_details.notFound.title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:a("product_details.notFound.desc")}),s.jsxs(D,{onClick:()=>t("/store"),children:[s.jsx(Jd,{className:"mr-2 h-4 w-4"}),a("product_details.backToStore")]})]})})})},D8=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,c]=f.useState(!1),[l,d]=f.useState(null),[u,p]=f.useState({name:"",slug:"",description:"",badge_label:"",badge_color:"#3b82f6",is_active:!0,display_order:0});f.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:g,error:v}=await L.from("store_categories").select("*").order("display_order",{ascending:!0});if(v)throw v;n(g||[])}catch(g){t({title:e("admin_store.categories.messages.validation").split(".")[0],description:g.message,variant:"destructive"})}finally{i(!1)}},h=g=>{g?(d(g),p({name:g.name,slug:g.slug,description:g.description||"",badge_label:g.badge_label,badge_color:g.badge_color,is_active:g.is_active,display_order:g.display_order})):(d(null),p({name:"",slug:"",description:"",badge_label:"",badge_color:"#3b82f6",is_active:!0,display_order:0})),c(!0)},y=async()=>{try{if(!u.name||!u.slug||!u.badge_label){t({title:e("admin_store.categories.messages.validation").split(".")[0],description:e("admin_store.categories.messages.validation"),variant:"destructive"});return}if(l){const{error:g}=await L.from("store_categories").update(u).eq("id",l.id);if(g)throw g;t({title:"Success",description:e("admin_store.categories.messages.updated")})}else{const{error:g}=await L.from("store_categories").insert([u]);if(g)throw g;t({title:"Success",description:e("admin_store.categories.messages.created")})}c(!1),m()}catch(g){t({title:"Error",description:g.message,variant:"destructive"})}},x=async g=>{if(confirm(e("admin_store.categories.messages.confirmDelete")))try{const{error:v}=await L.from("store_categories").delete().eq("id",g);if(v)throw v;t({title:"Success",description:e("admin_store.categories.messages.deleted")}),m()}catch(v){t({title:"Error",description:v.message,variant:"destructive"})}},b=g=>g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:e("admin_store.categories.title")}),s.jsxs(D,{onClick:()=>h(),children:[s.jsx(sn,{className:"h-4 w-4 mr-2"}),e("admin_store.categories.add")]})]}),s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:e("admin_store.categories.table.name")}),s.jsx(re,{children:e("admin_store.categories.table.badge")}),s.jsx(re,{children:e("admin_store.categories.table.slug")}),s.jsx(re,{children:e("admin_store.categories.table.status")}),s.jsx(re,{children:e("admin_store.categories.table.order")}),s.jsx(re,{className:"text-right",children:e("admin_store.categories.table.actions")})]})}),s.jsx(ws,{children:r.map(g=>s.jsxs(Me,{children:[s.jsx(te,{className:"font-medium",children:g.name}),s.jsx(te,{children:s.jsx(rc,{label:g.badge_label,color:g.badge_color,size:"sm"})}),s.jsx(te,{className:"text-muted-foreground",children:g.slug}),s.jsx(te,{children:s.jsx(Q,{variant:g.is_active?"default":"secondary",children:g.is_active?e("admin_store.categories.table.active"):e("admin_store.categories.table.inactive")})}),s.jsx(te,{children:g.display_order}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>h(g),children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>x(g.id),children:s.jsx(Co,{className:"h-4 w-4 text-destructive"})})]})})]},g.id))})]}),s.jsx(at,{open:o,onOpenChange:c,children:s.jsxs(st,{className:"max-w-2xl",children:[s.jsxs(vt,{children:[s.jsx(bt,{children:e(l?"admin_store.categories.edit":"admin_store.categories.add")}),s.jsx(Is,{children:e("admin_store.categories.manageDesc")})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"name",children:e("admin_store.categories.form.name")}),s.jsx(M,{id:"name",value:u.name,onChange:g=>{p({...u,name:g.target.value,slug:b(g.target.value),badge_label:u.badge_label||g.target.value})},placeholder:"Medical Equipment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"slug",children:e("admin_store.categories.form.slug")}),s.jsx(M,{id:"slug",value:u.slug,onChange:g=>p({...u,slug:g.target.value}),placeholder:"medical-equipment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"badge_label",children:e("admin_store.categories.form.badgeLabel")}),s.jsx(M,{id:"badge_label",value:u.badge_label,onChange:g=>p({...u,badge_label:g.target.value}),placeholder:"Medical Equipment"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"badge_color",children:e("admin_store.categories.form.badgeColor")}),s.jsx(M,{id:"badge_color",type:"color",value:u.badge_color,onChange:g=>p({...u,badge_color:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"display_order",children:"Display Order"}),s.jsx(M,{id:"display_order",type:"number",value:u.display_order,onChange:g=>p({...u,display_order:parseInt(g.target.value)||0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"description",children:"Description"}),s.jsx(He,{id:"description",value:u.description,onChange:g=>p({...u,description:g.target.value}),placeholder:"Store category description...",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yc,{id:"is_active",checked:u.is_active,onCheckedChange:g=>p({...u,is_active:g})}),s.jsx(P,{htmlFor:"is_active",children:"Active"})]})]}),s.jsxs(vs,{children:[s.jsx(D,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(D,{onClick:y,children:"Save"})]})]})})]})},I8=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState([]),[a,i]=f.useState([]),[o,c]=f.useState([]),[l,d]=f.useState(!0),[u,p]=f.useState(!1),[m,h]=f.useState(null),[y,x]=f.useState({store_category_id:"",product_type_id:"",name:"",slug:"",description:"",price:"",stock_quantity:"",status:"active",sku:"",images:[]}),[b,g]=f.useState(!1);f.useEffect(()=>{v()},[]),f.useEffect(()=>{y.store_category_id&&j(parseInt(y.store_category_id))},[y.store_category_id]);const v=async()=>{try{const[S,T]=await Promise.all([L.from("store_categories").select("id, name").eq("is_active",!0),L.from("products").select("*").order("created_at",{ascending:!1})]);if(S.error)throw S.error;if(T.error)throw T.error;i(S.data||[]),n(T.data||[])}catch(S){t({title:"Error",description:S.message,variant:"destructive"})}finally{d(!1)}},j=async S=>{try{const{data:T,error:R}=await L.from("product_types").select("id, name, store_category_id").eq("store_category_id",S).eq("is_active",!0);if(R)throw R;c(T||[])}catch(T){console.error("Error loading product types:",T)}},w=S=>{var T,R,I;try{if(S)h(S),x({store_category_id:S.store_category_id.toString(),product_type_id:((T=S.product_type_id)==null?void 0:T.toString())||"none",name:S.name,slug:S.slug,description:S.description||"",price:S.price.toString(),stock_quantity:S.stock_quantity!==null?S.stock_quantity.toString():"",status:S.status,sku:S.sku||"",images:S.images||[]}),j(S.store_category_id);else{if(a.length===0){t({title:e("admin_store.products.noCategories.title"),description:e("admin_store.products.noCategories.desc"),variant:"destructive"});return}h(null),x({store_category_id:((R=a[0])==null?void 0:R.id.toString())||"",product_type_id:"none",name:"",slug:"",description:"",price:"",stock_quantity:"",status:"active",sku:"",images:[]}),(I=a[0])!=null&&I.id&&j(a[0].id)}p(!0)}catch(z){console.error("Error opening dialog:",z),t({title:"Error",description:z.message||"Failed to open dialog",variant:"destructive"})}},N=async S=>{g(!0);try{const T=[];for(let R=0;R<S.length;R++){const I=S[R],z=I.name.split(".").pop(),F=`store-products/${`${Math.random()}.${z}`}`,{error:O}=await L.storage.from("store-products").upload(F,I);if(O)throw O;const{data:$}=L.storage.from("store-products").getPublicUrl(F);T.push($.publicUrl)}x({...y,images:[...y.images,...T]}),t({title:"Success",description:e("admin_store.products.messages.imagesUploaded")})}catch(T){t({title:"Error",description:T.message,variant:"destructive"})}finally{g(!1)}},k=S=>{x({...y,images:y.images.filter((T,R)=>R!==S)})},_=async()=>{try{if(!y.name||!y.slug||!y.price||!y.store_category_id){t({title:"Validation Error",description:e("admin_store.categories.messages.validation"),variant:"destructive"});return}const S={store_category_id:parseInt(y.store_category_id),product_type_id:y.product_type_id&&y.product_type_id!=="none"?parseInt(y.product_type_id):null,name:y.name,slug:y.slug,description:y.description||null,price:parseFloat(y.price),stock_quantity:y.stock_quantity?parseInt(y.stock_quantity):null,status:y.status,sku:y.sku||null,images:y.images.length>0?y.images:null};if(m){const{error:T}=await L.from("products").update(S).eq("id",m.id);if(T||T)throw T;t({title:"Success",description:e("admin_store.products.messages.updated")})}else{const{error:T}=await L.from("products").insert([S]);if(T)throw T;t({title:"Success",description:e("admin_store.products.messages.created")})}p(!1),v()}catch(S){t({title:"Error",description:S.message,variant:"destructive"})}},C=async S=>{if(confirm(e("admin_store.products.messages.confirmDelete")))try{const{error:T}=await L.from("products").delete().eq("id",S);if(T)throw T;t({title:"Success",description:e("admin_store.products.messages.deleted")}),v()}catch(T){t({title:"Error",description:T.message,variant:"destructive"})}},A=S=>S.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),E=S=>{var T;return((T=a.find(R=>R.id===S))==null?void 0:T.name)||"Unknown"};return l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:e("admin_store.products.title")}),s.jsxs(D,{onClick:()=>w(),disabled:a.length===0,children:[s.jsx(sn,{className:"h-4 w-4 mr-2"}),e("admin_store.products.add")]})]}),a.length===0&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:e("admin_store.products.noCategories.boxTitle")})," ",e("admin_store.products.noCategories.boxDesc")]})}),s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:e("admin_store.products.table.category")}),s.jsx(re,{children:e("admin_store.products.table.category")}),s.jsx(re,{children:e("admin_store.products.table.price")}),s.jsx(re,{children:e("admin_store.products.table.price")}),s.jsx(re,{children:e("admin_store.products.table.stock")}),s.jsx(re,{children:e("admin_store.products.table.status")}),s.jsx(re,{className:"text-right",children:e("admin_store.products.table.actions")})]})}),s.jsx(ws,{children:r.map(S=>s.jsxs(Me,{children:[s.jsx(te,{className:"font-medium",children:S.name}),s.jsx(te,{children:E(S.store_category_id)}),s.jsxs(te,{children:[S.price.toLocaleString("en-US",{minimumFractionDigits:2})," DZD"]}),s.jsx(te,{children:S.stock_quantity!==null?S.stock_quantity>0?s.jsx("span",{className:"text-green-600 font-medium",children:e("admin_store.products.table.inStock",{count:S.stock_quantity})}):s.jsx("span",{className:"text-red-500 font-medium",children:e("admin_store.products.table.outOfStock")}):s.jsx("span",{className:"text-muted-foreground",children:e("admin_store.products.table.unlimited")})}),s.jsx(te,{children:s.jsx(Q,{variant:S.status==="active"?"default":"secondary",children:S.status})}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>w(S),children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>C(S.id),children:s.jsx(Co,{className:"h-4 w-4 text-destructive"})})]})})]},S.id))})]}),s.jsx(at,{open:u,onOpenChange:p,children:s.jsxs(st,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(vt,{children:[s.jsx(bt,{children:e(m?"admin_store.products.edit":"admin_store.products.add")}),s.jsx(Is,{children:e("admin_store.products.manageDesc")})]}),s.jsx("div",{className:"space-y-4 py-4",children:a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No store categories available. Please create a category first."}),s.jsx(D,{variant:"outline",onClick:()=>p(!1),children:"Close"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"store_category_id",children:e("admin_store.products.form.category")}),s.jsxs(Ee,{value:y.store_category_id,onValueChange:S=>x({...y,store_category_id:S,product_type_id:""}),children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:e("admin_store.products.form.placeholders.selectCategory")})}),s.jsx(Ce,{children:a.map(S=>s.jsx(K,{value:S.id.toString(),children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"product_type_id",children:e("admin_store.products.form.type")}),s.jsxs(Ee,{value:y.product_type_id,onValueChange:S=>x({...y,product_type_id:S}),disabled:!y.store_category_id,children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:e("admin_store.products.form.placeholders.selectType")})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"none",children:"None"}),o.map(S=>s.jsx(K,{value:S.id.toString(),children:S.name},S.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"name",children:"Name *"}),s.jsx(M,{id:"name",value:y.name,onChange:S=>{x({...y,name:S.target.value,slug:A(S.target.value)})},placeholder:"Product name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"slug",children:"Slug *"}),s.jsx(M,{id:"slug",value:y.slug,onChange:S=>x({...y,slug:S.target.value}),placeholder:"product-slug"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"sku",children:"SKU"}),s.jsx(M,{id:"sku",value:y.sku,onChange:S=>x({...y,sku:S.target.value}),placeholder:"SKU-123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"price",children:"Price *"}),s.jsx(M,{id:"price",type:"number",step:"0.01",min:"0",value:y.price,onChange:S=>x({...y,price:S.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"stock_quantity",children:"Stock Quantity"}),s.jsx(M,{id:"stock_quantity",type:"number",min:"0",value:y.stock_quantity,onChange:S=>x({...y,stock_quantity:S.target.value}),placeholder:"Leave empty for unlimited"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"description",children:"Description"}),s.jsx(He,{id:"description",value:y.description,onChange:S=>x({...y,description:S.target.value}),placeholder:"Product description...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"status",children:"Status"}),s.jsxs(Ee,{value:y.status,onValueChange:S=>x({...y,status:S}),children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"active",children:"Active"}),s.jsx(K,{value:"inactive",children:"Inactive"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.images.map((S,T)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:S,alt:`Product ${T+1}`,className:"w-20 h-20 object-cover rounded border"}),s.jsx("button",{onClick:()=>k(T),className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ct,{className:"h-3 w-3"})})]},T))}),s.jsx(M,{type:"file",accept:"image/*",multiple:!0,onChange:S=>{S.target.files&&N(S.target.files)},disabled:b}),b&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(we,{className:"h-4 w-4 animate-spin"}),"Uploading images..."]})]})]})}),a.length>0&&s.jsxs(vs,{children:[s.jsx(D,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(D,{onClick:_,disabled:b,children:"Save"})]})]})})]})},L8=()=>{const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState([]),[a,i]=f.useState([]),[o,c]=f.useState(!0),[l,d]=f.useState(!1),[u,p]=f.useState(null),[m,h]=f.useState({store_category_id:"",name:"",slug:"",description:"",is_active:!0,display_order:0});f.useEffect(()=>{y()},[]);const y=async()=>{try{const[w,N]=await Promise.all([L.from("store_categories").select("id, name, slug").eq("is_active",!0),L.from("product_types").select("*").order("display_order",{ascending:!0})]);if(w.error)throw w.error;if(N.error)throw N.error;i(w.data||[]),n(N.data||[])}catch(w){t({title:"Error",description:w.message,variant:"destructive"})}finally{c(!1)}},x=w=>{var N;w?(p(w),h({store_category_id:w.store_category_id.toString(),name:w.name,slug:w.slug,description:w.description||"",is_active:w.is_active,display_order:w.display_order})):(p(null),h({store_category_id:((N=a[0])==null?void 0:N.id.toString())||"",name:"",slug:"",description:"",is_active:!0,display_order:0})),d(!0)},b=async()=>{try{if(!m.name||!m.slug||!m.store_category_id){t({title:e("admin_store.types.messages.validation").split(".")[0],description:e("admin_store.types.messages.validation"),variant:"destructive"});return}const w={...m,store_category_id:parseInt(m.store_category_id),display_order:parseInt(m.display_order.toString())||0};if(u){const{error:N}=await L.from("product_types").update(w).eq("id",u.id);if(N)throw N;t({title:"Success",description:e("admin_store.types.messages.updated")})}else{const{error:N}=await L.from("product_types").insert([w]);if(N)throw N;t({title:"Success",description:e("admin_store.types.messages.created")})}d(!1),y()}catch(w){t({title:"Error",description:w.message,variant:"destructive"})}},g=async w=>{if(confirm(e("admin_store.types.messages.confirmDelete")))try{const{error:N}=await L.from("product_types").delete().eq("id",w);if(N)throw N;t({title:"Success",description:e("admin_store.types.messages.deleted")}),y()}catch(N){t({title:"Error",description:N.message,variant:"destructive"})}},v=w=>w.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),j=w=>{var N;return((N=a.find(k=>k.id===w))==null?void 0:N.name)||"Unknown"};return o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:e("admin_store.types.title")}),s.jsxs(D,{onClick:()=>x(),children:[s.jsx(sn,{className:"h-4 w-4 mr-2"}),e("admin_store.types.add")]})]}),s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:e("admin_store.types.table.name")}),s.jsx(re,{children:e("admin_store.types.table.category")}),s.jsx(re,{children:e("admin_store.types.table.slug")}),s.jsx(re,{children:e("admin_store.types.table.status")}),s.jsx(re,{children:e("admin_store.types.table.order")}),s.jsx(re,{className:"text-right",children:e("admin_store.types.table.actions")})]})}),s.jsx(ws,{children:r.map(w=>s.jsxs(Me,{children:[s.jsx(te,{className:"font-medium",children:w.name}),s.jsx(te,{children:j(w.store_category_id)}),s.jsx(te,{className:"text-muted-foreground",children:w.slug}),s.jsx(te,{children:s.jsx(Q,{variant:w.is_active?"default":"secondary",children:w.is_active?e("admin_store.types.table.active"):e("admin_store.types.table.inactive")})}),s.jsx(te,{children:w.display_order}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>x(w),children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>g(w.id),children:s.jsx(Co,{className:"h-4 w-4 text-destructive"})})]})})]},w.id))})]}),s.jsx(at,{open:l,onOpenChange:d,children:s.jsxs(st,{children:[s.jsxs(vt,{children:[s.jsx(bt,{children:e(u?"admin_store.types.edit":"admin_store.types.add")}),s.jsx(Is,{children:e("admin_store.types.manageDesc")})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"store_category_id",children:e("admin_store.types.form.category")}),s.jsxs(Ee,{value:m.store_category_id,onValueChange:w=>h({...m,store_category_id:w}),children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:e("admin_store.types.form.placeholders.selectCategory")})}),s.jsx(Ce,{children:a.map(w=>s.jsx(K,{value:w.id.toString(),children:w.name},w.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"name",children:e("admin_store.types.form.name")}),s.jsx(M,{id:"name",value:m.name,onChange:w=>{h({...m,name:w.target.value,slug:v(w.target.value)})},placeholder:"Diagnostic Equipment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"slug",children:e("admin_store.types.form.slug")}),s.jsx(M,{id:"slug",value:m.slug,onChange:w=>h({...m,slug:w.target.value}),placeholder:"diagnostic"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"description",children:e("admin_store.types.form.desc")}),s.jsx(He,{id:"description",value:m.description,onChange:w=>h({...m,description:w.target.value}),placeholder:"Product type description...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{htmlFor:"display_order",children:e("admin_store.types.form.order")}),s.jsx(M,{id:"display_order",type:"number",value:m.display_order,onChange:w=>h({...m,display_order:parseInt(w.target.value)||0})})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx(yc,{id:"is_active",checked:m.is_active,onCheckedChange:w=>h({...m,is_active:w})}),s.jsx(P,{htmlFor:"is_active",children:e("admin_store.types.form.active")})]})]})]}),s.jsxs(vs,{children:[s.jsx(D,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(D,{onClick:b,children:"Save"})]})]})})]})},M8=()=>{const{t:e}=ye(),[t,r]=f.useState("categories");return s.jsx(It,{children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(rv,{className:"h-8 w-8 text-primary"}),s.jsx("h1",{className:"text-3xl font-bold",children:e("admin_store.management.title")})]}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_store.management.desc")})]}),s.jsxs(Qs,{value:t,onValueChange:r,className:"w-full",children:[s.jsxs(Ls,{className:"grid w-full grid-cols-3",children:[s.jsxs(De,{value:"categories",className:"flex items-center gap-2",children:[s.jsx(rv,{className:"h-4 w-4"}),e("admin_store.management.tabs.categories")]}),s.jsxs(De,{value:"products",className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4"}),e("admin_store.management.tabs.products")]}),s.jsxs(De,{value:"types",className:"flex items-center gap-2",children:[s.jsx(kT,{className:"h-4 w-4"}),e("admin_store.management.tabs.types")]})]}),s.jsx(Ke,{value:"categories",className:"mt-6",children:s.jsx(D8,{})}),s.jsx(Ke,{value:"products",className:"mt-6",children:s.jsx(I8,{})}),s.jsx(Ke,{value:"types",className:"mt-6",children:s.jsx(L8,{})})]})]})})},F8=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(!1),a=$s(),[i,o]=f.useState({facebook:"https://facebook.com",instagram:"https://instagram.com",telegram:"https://t.me",tiktok:"https://tiktok.com",whatsapp:"https://wa.me/"});f.useEffect(()=>{c();const d=localStorage.getItem("social_popup_timestamp"),u=Date.now();(!d||u-parseInt(d)>24*60*60*1e3)&&(t(!0),n(!0))},[a.pathname]);const c=async()=>{try{const{data:d}=await L.from("settings").select("*");if(d){const u={...i};d.forEach(p=>{p.key==="popup_facebook"&&(u.facebook=p.value),p.key==="popup_instagram"&&(u.instagram=p.value),p.key==="popup_telegram"&&(u.telegram=p.value),p.key==="popup_tiktok"&&(u.tiktok=p.value),p.key==="popup_whatsapp"&&(u.whatsapp=p.value)}),o(u)}}catch(d){console.error("Error fetching popup settings",d)}},l=()=>{t(!1),localStorage.setItem("social_popup_timestamp",Date.now().toString()),setTimeout(()=>n(!1),300)};return r?s.jsx("div",{className:`fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity duration-500 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:l,children:s.jsxs(B,{className:`w-[90%] max-w-[400px] border-none shadow-2xl bg-background text-center relative overflow-hidden transition-all duration-500 transform ${e?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsxs(D,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-muted",onClick:l,children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})}),s.jsxs(V,{className:"p-8 flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-bold text-xl",children:"Stay connected with us"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Follow us for updates, announcements, and important news."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:i.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full h-11 rounded-lg bg-[#1877F2] text-white hover:bg-[#1877F2]/90 transition-colors text-sm font-medium",onClick:l,children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.797 1.603-2.797 4.16v1.972h4.568l-.599 3.667h-3.969v7.98h-5.028Z"})}),"Facebook"]}),s.jsxs("a",{href:i.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full h-11 rounded-lg bg-gradient-to-tr from-[#f09433] via-[#dc2743] to-[#bc1888] text-white hover:opacity-90 transition-opacity text-sm font-medium",onClick:l,children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069ZM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0Zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324ZM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881Z"})}),"Instagram"]}),s.jsxs("a",{href:i.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full h-11 rounded-lg bg-[#229ED9] text-white hover:bg-[#229ED9]/90 transition-colors text-sm font-medium",onClick:l,children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 11.944 0Zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635Z"})}),"Telegram"]}),s.jsxs("a",{href:i.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full h-11 rounded-lg bg-black text-white hover:bg-black/90 transition-colors text-sm font-medium",onClick:l,children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104Z"})}),"TikTok"]}),s.jsxs("a",{href:i.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full h-11 rounded-lg bg-[#25D366] text-white hover:bg-[#25D366]/90 transition-colors text-sm font-medium",onClick:l,children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413Z"})}),"WhatsApp"]})]})]})]})}):null},$8=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(!1),a=$s();f.useEffect(()=>{if(!a.pathname.includes("/alkhayr"))return;console.log("AlkhayrModal: Location matched.");const o=localStorage.getItem("alkhayr_verse_timestamp"),c=Date.now();!o||c-parseInt(o)>24*60*60*1e3?(console.log("AlkhayrModal: Opening immediately..."),t(!0),n(!0)):console.log("AlkhayrModal: Already seen in last 24h.")},[a.pathname]);const i=()=>{t(!1),localStorage.setItem("alkhayr_verse_timestamp",Date.now().toString()),setTimeout(()=>n(!1),500)};return r?s.jsx("div",{className:`fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity duration-700 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:i,children:s.jsxs(B,{className:`w-[90%] max-w-lg border-none shadow-2xl bg-[#ecfdf5] dark:bg-[#064e3b] text-center relative overflow-hidden transition-all duration-700 transform ${e?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,onClick:o=>o.stopPropagation(),children:[s.jsxs("button",{onClick:i,className:"absolute top-3 right-3 p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:[s.jsx(Ct,{className:"w-5 h-5 text-emerald-800 dark:text-emerald-100"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),s.jsx(V,{className:"p-8 md:p-12 flex flex-col items-center justify-center min-h-[200px]",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"w-16 h-1 bg-emerald-500/30 mx-auto rounded-full"}),s.jsx("p",{className:"font-arabic text-2xl md:text-3xl lg:text-4xl font-medium leading-relaxed text-[#065f46] dark:text-[#ecfdf5]",dir:"rtl",children:'"     "'}),s.jsx("div",{className:"w-16 h-1 bg-emerald-500/30 mx-auto rounded-full"})]})})]})}):null},q8=()=>{const{t:e}=ye();return s.jsx(it,{children:s.jsx(tt,{id:"privacy-policy",className:"bg-gray-50/50",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:e("privacy.title")}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("privacy.subtitle")})]}),s.jsx(B,{className:"border-none shadow-sm bg-white overflow-hidden",children:s.jsxs(V,{className:"p-8 md:p-12 space-y-10",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(ei,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.intro.title")})]}),s.jsx("p",{className:"leading-relaxed text-gray-700",children:e("privacy.intro.desc")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(mn,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.collect.title")})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 border-b pb-2",children:e("privacy.collect.section_a")}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600",children:[s.jsx("li",{children:e("privacy.collect.items_a.1")}),s.jsx("li",{children:e("privacy.collect.items_a.2")}),s.jsx("li",{children:e("privacy.collect.items_a.3")}),s.jsx("li",{children:e("privacy.collect.items_a.4")}),s.jsx("li",{children:e("privacy.collect.items_a.5")}),s.jsx("li",{children:e("privacy.collect.items_a.6")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 border-b pb-2",children:e("privacy.collect.section_b")}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600",children:[s.jsx("li",{children:e("privacy.collect.items_b.1")}),s.jsx("li",{children:e("privacy.collect.items_b.2")})]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(NT,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.use.title")})]}),s.jsx("p",{className:"text-gray-700",children:e("privacy.use.desc")}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[s.jsx("li",{children:e("privacy.use.items.1")}),s.jsx("li",{children:e("privacy.use.items.2")}),s.jsx("li",{children:e("privacy.use.items.3")}),s.jsx("li",{children:e("privacy.use.items.4")}),s.jsx("li",{children:e("privacy.use.items.5")})]}),s.jsx("div",{className:"bg-green-50 text-green-800 p-4 rounded-lg font-medium border border-green-100 mt-4 text-center",children:e("privacy.use.note")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(PT,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.visibility.title")})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.jsx(xt,{i18nKey:"privacy.visibility.desc",components:{strong:s.jsx("strong",{})}})}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[s.jsx("li",{children:e("privacy.visibility.items.1")}),s.jsx("li",{children:e("privacy.visibility.items.2")}),s.jsx("li",{children:e("privacy.visibility.items.3")})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(as,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.sharing.title")})]}),s.jsx("p",{className:"text-gray-700",children:e("privacy.sharing.desc")}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600",children:[s.jsx("li",{children:e("privacy.sharing.items.1")}),s.jsx("li",{children:e("privacy.sharing.items.2")}),s.jsx("li",{children:e("privacy.sharing.items.3")})]}),s.jsx("p",{className:"text-gray-600 italic mt-2",children:e("privacy.sharing.note")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(bT,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.cookies.title")})]}),s.jsxs("div",{className:"space-y-3 text-gray-700",children:[s.jsx("p",{children:s.jsx(xt,{i18nKey:"privacy.cookies.items.cookies",components:{strong:s.jsx("strong",{})}})}),s.jsx("p",{children:s.jsx(xt,{i18nKey:"privacy.cookies.items.security",components:{strong:s.jsx("strong",{})}})}),s.jsx("p",{children:s.jsx(xt,{i18nKey:"privacy.cookies.items.duration",components:{strong:s.jsx("strong",{})}})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(Og,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.rights.title")})]}),s.jsx("p",{className:"text-gray-700",children:e("privacy.rights.desc")}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600",children:[s.jsx("li",{children:e("privacy.rights.items.1")}),s.jsx("li",{children:e("privacy.rights.items.2")}),s.jsx("li",{children:e("privacy.rights.items.3")})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(zr,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("privacy.legal.title")})]}),s.jsx("p",{className:"text-gray-700",children:s.jsx(xt,{i18nKey:"privacy.legal.items.intermediary",components:{strong:s.jsx("strong",{})}})}),s.jsx("p",{className:"text-gray-700",children:s.jsx(xt,{i18nKey:"privacy.legal.items.children",components:{strong:s.jsx("strong",{})}})}),s.jsx("p",{className:"text-gray-700",children:s.jsx(xt,{i18nKey:"privacy.legal.items.updates",components:{strong:s.jsx("strong",{})}})})]}),s.jsxs("div",{className:"border-t pt-8 mt-12 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:e("privacy.footer.question")}),s.jsx("a",{href:"/contact",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-colors",children:e("privacy.footer.contact")})]})]})})]})})})},U8=()=>{const{t:e}=ye();return s.jsx(it,{children:s.jsx(tt,{id:"terms-conditions",className:"bg-gray-50/50",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:e("terms.title")}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("terms.subtitle")})]}),s.jsx(B,{className:"border-none shadow-sm bg-white overflow-hidden",children:s.jsxs(V,{className:"p-8 md:p-12 space-y-10",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(Ur,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.acceptance.title")})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e("terms.acceptance.desc")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(as,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.description.title")})]}),s.jsx("p",{className:"text-gray-700",children:s.jsx(xt,{i18nKey:"terms.description.desc",components:{strong:s.jsx("strong",{})}})}),s.jsx("div",{className:"bg-blue-50 text-blue-800 p-4 rounded-lg border border-blue-100 italic",children:e("terms.description.note")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(AT,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.responsibilities.title")})]}),s.jsx("p",{className:"text-gray-700",children:e("terms.responsibilities.desc")}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[s.jsx("li",{children:e("terms.responsibilities.items.1")}),s.jsx("li",{children:e("terms.responsibilities.items.2")}),s.jsx("li",{children:e("terms.responsibilities.items.3")}),s.jsx("li",{children:e("terms.responsibilities.items.4")})]}),s.jsx("p",{className:"text-red-600 font-medium text-sm mt-2",children:e("terms.responsibilities.warning")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(jr,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.humanitarian.title")})]}),s.jsxs("div",{className:"space-y-3 text-gray-700",children:[s.jsx("p",{children:s.jsx(xt,{i18nKey:"terms.humanitarian.items.alkhayr",components:{strong:s.jsx("strong",{})}})}),s.jsx("p",{children:s.jsx(xt,{i18nKey:"terms.humanitarian.items.blood",components:{strong:s.jsx("strong",{})}})}),s.jsx("p",{children:s.jsx(xt,{i18nKey:"terms.humanitarian.items.transport",components:{strong:s.jsx("strong",{})}})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(Og,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.brokerage.title")})]}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[s.jsx("li",{children:e("terms.brokerage.items.1")}),s.jsx("li",{children:e("terms.brokerage.items.2")}),s.jsx("li",{children:e("terms.brokerage.items.3")})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(ei,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.intermediary.title")})]}),s.jsx("p",{className:"text-gray-700",children:e("terms.intermediary.desc")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(fT,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.moderation.title")})]}),s.jsx("p",{className:"text-gray-700",children:e("terms.moderation.desc")}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600",children:[s.jsx("li",{children:e("terms.moderation.items.1")}),s.jsx("li",{children:e("terms.moderation.items.2")}),s.jsx("li",{children:e("terms.moderation.items.3")})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(jr,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.liability.title")})]}),s.jsx("p",{className:"text-gray-700",children:e("terms.liability.desc")})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(mn,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("terms.misc.title")})]}),s.jsxs("div",{className:"space-y-3 text-gray-700",children:[s.jsx("p",{children:s.jsx(xt,{i18nKey:"terms.misc.items.privacy",components:{strong:s.jsx("strong",{}),a:s.jsx("a",{href:"/privacy",className:"text-primary hover:underline"})}})}),s.jsx("p",{children:s.jsx(xt,{i18nKey:"terms.misc.items.changes",components:{strong:s.jsx("strong",{})}})}),s.jsx("p",{children:s.jsx(xt,{i18nKey:"terms.misc.items.legal",components:{strong:s.jsx("strong",{})}})})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-12 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:e("terms.footer.question")}),s.jsx("a",{href:"/contact",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-colors",children:e("terms.footer.contact")})]})]})})]})})})},z8=()=>s.jsx(it,{children:s.jsx(tt,{id:"faq-page",className:"bg-gray-50/50",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:s.jsx(Cg,{className:"w-8 h-8"})})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"Foire Aux Questions"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-xl mx-auto",children:"Des rponses claires pour comprendre le fonctionnement de Waseet, nos services et nos valeurs."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary mb-2",children:[s.jsx(as,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Gnral"})]}),s.jsxs(Dn,{type:"single",collapsible:!0,className:"w-full bg-white rounded-lg border shadow-sm px-4",children:[s.jsxs(qt,{value:"general-1",children:[s.jsx(Ut,{children:"Qu'est-ce que Waseet ?"}),s.jsx(zt,{children:"Waseet est une plateforme d'intermdiation qui connecte les gens. Nous ne fournissons pas directement les services (comme le transport ou la vente), mais nous coordonnons la mise en relation entre ceux qui ont un besoin et ceux qui peuvent y rpondre (vendeurs, livreurs, bnvoles)."})]}),s.jsxs(qt,{value:"general-2",children:[s.jsx(Ut,{children:"Waseet est-il une entreprise ou une association ?"}),s.jsx(zt,{children:"Waseet est une plateforme hybride. Nous proposons des services commerciaux de courtage (shopping, change) pour financer notre fonctionnement, tout en grant bnvolement un volet humanitaire important (Alkhayr, Don de sang)."})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-green-600 mb-2",children:[s.jsx(yt,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Humanitaire (Alkhayr)"})]}),s.jsxs(Dn,{type:"single",collapsible:!0,className:"w-full bg-white rounded-lg border shadow-sm px-4",children:[s.jsxs(qt,{value:"alkhayr-1",children:[s.jsx(Ut,{children:"Comment fonctionnent les demandes Alkhayr ?"}),s.jsx(zt,{children:"Vous soumettez une demande (mdicament, aide). Un administrateur examine sa validit et l'urgence. Si approuve, elle est publie anonymement ou transmise  notre rseau de donateurs pour trouver une solution."})]}),s.jsxs(qt,{value:"alkhayr-2",children:[s.jsx(Ut,{children:"Est-ce que toutes les demandes sont publies ?"}),s.jsx(zt,{children:"Non. Chaque demande est vrifie manuellement. Les demandes incompltes, suspectes ou hors de notre champ d'action peuvent tre refuses pour maintenir la crdibilit de la plateforme."})]}),s.jsxs(qt,{value:"alkhayr-3",children:[s.jsx(Ut,{children:"Puis-je contacter le demandeur directement ?"}),s.jsx(zt,{children:"Pour protger la vie prive des bnficiaires, le premier contact passe gnralement par Waseet. Nous mettons ensuite les parties en relation de manire scurise si ncessaire."})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-2",children:[s.jsx(yt,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Don de Sang"})]}),s.jsxs(Dn,{type:"single",collapsible:!0,className:"w-full bg-white rounded-lg border shadow-sm px-4",children:[s.jsxs(qt,{value:"blood-1",children:[s.jsx(Ut,{children:"Waseet collecte-t-il le sang ?"}),s.jsx(zt,{children:"Absolument pas. Waseet est uniquement un outil de coordination. Nous connectons les demandeurs avec des donneurs potentiels ou des associations. Le prlvement se fait toujours en structure hospitalire."})]}),s.jsxs(qt,{value:"blood-2",children:[s.jsx(Ut,{children:"Le don est-il garanti ?"}),s.jsx(zt,{children:"Non. Nous comptons sur la gnrosit des volontaires inscrits. En cas d'urgence vitale immdiate, contactez toujours directement les hpitaux ou la protection civile."})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-blue-600 mb-2",children:[s.jsx(Js,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Transport Bnvole"})]}),s.jsxs(Dn,{type:"single",collapsible:!0,className:"w-full bg-white rounded-lg border shadow-sm px-4",children:[s.jsxs(qt,{value:"transport-1",children:[s.jsx(Ut,{children:"Qui assure le transport gratuit ?"}),s.jsx(zt,{children:"Ce sont des citoyens bnvoles inscrits sur la plateforme qui proposent leur vhicule pour aider (transport de malades, de dons, etc.). Ce ne sont pas des ambulanciers professionnels."})]}),s.jsxs(qt,{value:"transport-2",children:[s.jsx(Ut,{children:"Puis-je contacter les transporteurs directement ?"}),s.jsx(zt,{children:"Toute coordination passe par Waseet pour vrifier le besoin et la disponibilit du bnvole, afin d'viter les abus."})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-orange-600 mb-2",children:[s.jsx(Ma,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Shopping & Import"})]}),s.jsxs(Dn,{type:"single",collapsible:!0,className:"w-full bg-white rounded-lg border shadow-sm px-4",children:[s.jsxs(qt,{value:"shop-1",children:[s.jsx(Ut,{children:"Waseet vend-il des produits ?"}),s.jsx(zt,{children:"Non. Waseet agit comme intermdiaire. Vous nous dites ce que vous voulez (sur des sites trangers par exemple), et nous coordonnons l'achat et l'importation pour vous via nos partenaires logistiques."})]}),s.jsxs(qt,{value:"shop-2",children:[s.jsx(Ut,{children:"Les prix sont-ils fixes ?"}),s.jsx(zt,{children:"Les devis sont des estimations bases sur le prix du produit + frais de service + transport. Le prix final peut varier lgrement selon le taux de change ou les frais de douane rels."})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-yellow-600 mb-2",children:[s.jsx(Qw,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Change (Devises)"})]}),s.jsxs(Dn,{type:"single",collapsible:!0,className:"w-full bg-white rounded-lg border shadow-sm px-4",children:[s.jsxs(qt,{value:"exchange-1",children:[s.jsx(Ut,{children:"tes-vous une banque ?"}),s.jsx(zt,{children:"Non. Waseet est un courtier qui met en relation des particuliers ou professionnels pour faciliter les changes, en offrant un cadre de confiance (tiers de confiance)."})]}),s.jsxs(qt,{value:"exchange-2",children:[s.jsx(Ut,{children:"Les taux sont-ils garantis ?"}),s.jsx(zt,{children:"Les taux affichs sont indicatifs (march parallle). Le taux rel est confirm au moment de la validation de la transaction avec l'intermdiaire."})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-purple-600 mb-2",children:[s.jsx(ei,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Confidentialit & Modration"})]}),s.jsxs(Dn,{type:"single",collapsible:!0,className:"w-full bg-white rounded-lg border shadow-sm px-4",children:[s.jsxs(qt,{value:"privacy-1",children:[s.jsx(Ut,{children:"Mon numro est-il visible par tous ?"}),s.jsx(zt,{children:"Non. Par dfaut, votre numro n'est visible que par les administrateurs. Si une mise en relation est ncessaire (ex: donateur vers receveur), nous vous demandons votre accord ou nous transmettons l'info de manire scurise."})]}),s.jsxs(qt,{value:"privacy-2",children:[s.jsx(Ut,{children:"Pourquoi un admin a modifi ma demande ?"}),s.jsx(zt,{children:"Les administrateurs peuvent reformuler une demande pour la rendre plus claire, plus respectueuse, ou pour masquer des dtails trop personnels avant la publication. C'est pour votre scurit."})]})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8 text-center bg-white p-8 rounded-lg shadow-sm",children:[s.jsx("div",{className:"flex justify-center mb-4 text-primary",children:s.jsx(Zd,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"D'autres questions ?"}),s.jsx("p",{className:"text-gray-600 mb-6 mt-2",children:"Notre quipe est l pour vous rpondre directement."}),s.jsx("a",{href:"/contact",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-colors",children:"Nous Contacter"})]})]})})}),B8=()=>{const{isSuperAdmin:e,isHumanitarianAdmin:t,loading:r}=Sx(),[n,a]=f.useState(!0),[i,o]=f.useState({orders:{total:0,new:0},alkhayr:{pending:0,urgent:0},blood:{requests:0,donors:0},transport:{active:0}});f.useEffect(()=>{r||c()},[r,e]);const c=async()=>{a(!0);try{const l=[];l.push(L.from("medicine_requests").select("status",{count:"exact",head:!0}).eq("status","pending")),l.push(L.from("blood_donation_requests").select("status",{count:"exact",head:!0}).eq("status","active")),l.push(L.from("blood_donors").select("status",{count:"exact",head:!0}).eq("approved_by_admin",!1)),l.push(L.from("transport_volunteers").select("status",{count:"exact",head:!0}).eq("status","active")),e?(l.push(L.from("orders").select("status",{count:"exact",head:!0}).eq("status","new")),l.push(L.from("orders").select("*",{count:"exact",head:!0}))):(l.push(Promise.resolve({count:0})),l.push(Promise.resolve({count:0})));const[d,u,p,m,h,y]=await Promise.all(l);o({orders:{total:y.count||0,new:h.count||0},alkhayr:{pending:d.count||0,urgent:0},blood:{requests:u.count||0,donors:p.count||0},transport:{active:m.count||0}})}catch(l){console.error("Error fetching stats",l)}finally{a(!1)}};return r||n?s.jsx(It,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(It,{children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Dashboard Overview"}),s.jsx("p",{className:"text-gray-500",children:"Welcome back. Here is what's happening today."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e&&s.jsx(Jn,{value:i.orders.new.toString(),label:"New Orders",description:"Require processing",accent:"primary",icon:s.jsx(Ma,{className:"w-4 h-4 text-primary"})}),s.jsx(Jn,{value:i.alkhayr.pending.toString(),label:"Pending Requests",description:"Humanitarian review needed",accent:"warning",icon:s.jsx(yt,{className:"w-4 h-4 text-orange-500"})}),s.jsx(Jn,{value:i.blood.requests.toString(),label:"Active Blood Requests",description:"Urgent needs",accent:"destructive",icon:s.jsx(yt,{className:"w-4 h-4 text-red-600"})}),s.jsx(Jn,{value:i.transport.active.toString(),label:"Active Transporters",description:"Volunteers ready",accent:"success",icon:s.jsx(Js,{className:"w-4 h-4 text-green-600"})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(jr,{className:"w-5 h-5 text-yellow-500"}),"Priority Actions"]}),e&&i.orders.new>0&&s.jsxs("div",{className:"p-3 bg-blue-50 text-blue-800 rounded mb-2 flex justify-between items-center",children:[s.jsxs("span",{children:["You have ",i.orders.new," new orders to process."]}),s.jsx("a",{href:"/admin/orders",className:"font-semibold hover:underline",children:"View"})]}),e&&i.orders.new===0&&s.jsx("div",{className:"p-3 bg-gray-50 text-gray-500 rounded mb-2",children:"No new orders."}),i.alkhayr.pending>0?s.jsxs("div",{className:"p-3 bg-orange-50 text-orange-800 rounded mb-2 flex justify-between items-center",children:[s.jsxs("span",{children:[i.alkhayr.pending," Alkhayr requests waiting for review."]}),s.jsx("a",{href:"/admin/alkhayr",className:"font-semibold hover:underline",children:"Review"})]}):s.jsx("div",{className:"text-sm text-gray-500",children:"All Alkhayr requests reviewed."}),i.blood.donors>0&&s.jsxs("div",{className:"p-3 bg-red-50 text-red-800 rounded mb-2 flex justify-between items-center",children:[s.jsxs("span",{children:[i.blood.donors," new blood donors pending approval."]}),s.jsx("a",{href:"/admin/blood",className:"font-semibold hover:underline",children:"Approve"})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-green-500"}),"System Health"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm border-b pb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Database Connection"}),s.jsx("span",{className:"text-green-600 font-medium",children:"Healthy"})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm border-b pb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Storage"}),s.jsx("span",{className:"text-green-600 font-medium",children:"Optimal"})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Last Backup"}),s.jsx("span",{className:"text-gray-500",children:"Auto-managed"})]})]})]})]})]})})},V8=()=>{const e=Et(),{toast:t}=Ne(),{t:r}=ye(),[n,a]=f.useState(!0),[i,o]=f.useState([]),[c,l]=f.useState([]),[d,u]=f.useState(""),[p,m]=f.useState("all"),[h,y]=f.useState("all");f.useEffect(()=>{x()},[]),f.useEffect(()=>{b()},[i,d,p,h]);const x=async()=>{try{const{data:v,error:j}=await L.from("orders").select("*").order("created_at",{ascending:!1});if(j)throw j;o(v||[])}catch(v){console.error("Fetch orders error:",v),t({title:"Error",description:"Failed to fetch orders",variant:"destructive"})}finally{a(!1)}},b=()=>{let v=i;p!=="all"&&(v=v.filter(j=>j.status===p)),h!=="all"&&(v=v.filter(j=>{try{if(j.notes&&j.notes.startsWith("{")){const N=JSON.parse(j.notes);if(N.order_type)return N.order_type===h}}catch{}const w=j.product_url&&(j.product_url.startsWith("http")||j.product_url.startsWith("https"));return h==="custom"?w:!w})),d&&(v=v.filter(j=>j.name.toLowerCase().includes(d.toLowerCase())||j.id.toString().includes(d)||j.contact_value.toLowerCase().includes(d.toLowerCase())||j.notes&&j.notes.toLowerCase().includes(d.toLowerCase())||j.product_url&&j.product_url.toLowerCase().includes(d.toLowerCase()))),l(v)},g=v=>{const j={new:"default",processing:"secondary",done:"outline",cancelled:"destructive"},w=`admin_orders.status.${v}`;return s.jsx(Q,{variant:j[v]||"default",children:r(w,{defaultValue:v})})};return n?s.jsx(It,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:r("admin_orders.title")}),s.jsx("p",{className:"text-gray-500",children:r("admin_orders.subtitle")})]}),s.jsxs(B,{className:"border border-border/60 shadow-sm",children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsx(xe,{className:"text-sm font-semibold tracking-wide",children:r("admin_orders.listTitle")}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(M,{placeholder:r("admin_orders.searchPlaceholder"),className:"pl-8 w-full sm:w-[200px]",value:d,onChange:v=>u(v.target.value)})]}),s.jsx("div",{className:"w-full sm:w-[150px]",children:s.jsxs(Ee,{value:h,onValueChange:v=>y(v),children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"w-3 h-3 text-muted-foreground"}),s.jsx(Pe,{placeholder:r("admin_orders.filterType.all")})]})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:r("admin_orders.filterType.all")}),s.jsx(K,{value:"store",children:r("admin_orders.filterType.store")}),s.jsx(K,{value:"custom",children:r("admin_orders.filterType.custom")})]})]})}),s.jsxs(Ee,{value:p,onValueChange:m,children:[s.jsx(ke,{className:"w-full sm:w-[140px]",children:s.jsx(Pe,{placeholder:r("admin_orders.status.all")})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:r("admin_orders.status.all")}),s.jsx(K,{value:"new",children:r("admin_orders.status.new")}),s.jsx(K,{value:"processing",children:r("admin_orders.status.processing")}),s.jsx(K,{value:"done",children:r("admin_orders.status.done")}),s.jsx(K,{value:"cancelled",children:r("admin_orders.status.cancelled")})]})]})]})]})}),s.jsx(V,{children:s.jsx("div",{className:"rounded-md border border-border/60 overflow-hidden",children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{className:"bg-muted/40",children:[s.jsx(re,{className:"text-xs w-[60px]",children:r("admin_orders.table.id")}),s.jsx(re,{className:"text-xs w-[100px]",children:r("admin_orders.table.type")}),s.jsx(re,{className:"text-xs",children:r("admin_orders.table.product")}),s.jsx(re,{className:"text-xs",children:r("admin_orders.table.customer")}),s.jsx(re,{className:"text-xs",children:r("admin_orders.table.contact")}),s.jsx(re,{className:"text-xs",children:r("admin_orders.table.total")}),s.jsx(re,{className:"text-xs",children:r("admin_orders.table.status")}),s.jsx(re,{className:"text-xs",children:r("admin_orders.table.date")}),s.jsx(re,{className:"text-right text-xs",children:r("admin_orders.table.actions")})]})}),s.jsx(ws,{children:c.length===0?s.jsx(Me,{children:s.jsx(te,{colSpan:9,className:"text-center text-xs text-muted-foreground py-8",children:r("admin_orders.noOrders")})}):c.map(v=>{const j=v.product_url&&(v.product_url.startsWith("http")||v.product_url.startsWith("https"));return s.jsxs(Me,{className:"hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>e(`/admin/orders/${v.id}`),children:[s.jsxs(te,{className:"font-mono text-xs",children:["#",v.id]}),s.jsx(te,{className:"text-xs",children:j?s.jsx(Q,{variant:"secondary",className:"px-1.5 py-0 text-[10px] bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200",children:r("admin_orders.badges.custom")}):s.jsx(Q,{variant:"outline",className:"px-1.5 py-0 text-[10px]",children:r("admin_orders.badges.store")})}),s.jsx(te,{className:"font-medium text-xs max-w-[150px] truncate",title:v.product_url||v.notes||"",children:j?r("admin_orders.externalLink"):v.product_url||r("admin_orders.viewDetails")}),s.jsx(te,{className:"font-medium text-xs",children:v.name}),s.jsxs(te,{className:"text-xs",children:[v.contact_type==="whatsapp"?"":""," ",v.contact_value]}),s.jsxs(te,{className:"font-semibold text-xs",children:[v.total," DZD"]}),s.jsx(te,{className:"text-xs",children:g(v.status)}),s.jsx(te,{className:"text-xs text-muted-foreground",children:new Date(v.created_at).toLocaleDateString()}),s.jsx(te,{className:"text-right",children:s.jsx(fe,{to:`/admin/orders/${v.id}`,className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 w-9 relative z-50",onClick:w=>w.stopPropagation(),children:s.jsx(zr,{className:"h-4 w-4"})})})]},v.id)})})]})})})]})]})})},W8=()=>{ye();const{toast:e}=Ne(),[t,r]=f.useState(!0),[n,a]=f.useState([]),[i,o]=f.useState("all"),[c,l]=f.useState(null),[d,u]=f.useState({display_initials:"",display_location:"",display_description:""});f.useEffect(()=>{p()},[]);const p=async()=>{r(!0);try{const{data:g,error:v}=await L.from("transport_volunteers").select("*").order("created_at",{ascending:!1});if(v)throw v;a(g||[])}catch(g){console.error("Error fetching data:",g),e({title:"Erreur",description:"Impossible de charger les donnes",variant:"destructive"})}finally{r(!1)}},m=g=>{if(!g)return"";const v=g.trim().split(" ");return v.length===1?v[0].substring(0,1).toUpperCase()+".":v[0].substring(0,1).toUpperCase()+". "+v[v.length-1].substring(0,1).toUpperCase()+"."},h=g=>{l(g.id),u({display_initials:g.display_initials||m(g.full_name),display_location:g.display_location||`${g.city}, ${g.wilaya}`,display_description:g.display_description||"Transport bnvole disponible pour urgences."})},y=async g=>{try{const{error:v}=await L.from("transport_volunteers").update({display_initials:d.display_initials,display_location:d.display_location,display_description:d.display_description}).eq("id",g);if(v)throw v;e({title:"Succs",description:"Informations publiques mises  jour."}),l(null),p()}catch{e({title:"Erreur",description:"chec de la mise  jour.",variant:"destructive"})}},x=async(g,v)=>{try{const{error:j}=await L.from("transport_volunteers").update({status:v}).eq("id",g);if(j)throw j;e({title:"Succs",description:`Statut mis  jour: ${v}`}),p()}catch{e({title:"Erreur",description:"Impossible de mettre  jour",variant:"destructive"})}},b={total:n.length,active:n.filter(g=>g.status==="active").length,pending:n.filter(g=>g.status==="pending").length,rejected:n.filter(g=>g.status==="rejected").length};return s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Transport Volunteers"}),s.jsx("p",{className:"text-gray-500",children:"Manage volunteer drivers for emergency transport."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(B,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Volunteers"}),s.jsx("p",{className:"text-2xl font-bold",children:b.total})]}),s.jsx(Js,{className:"h-8 w-8 text-blue-500 opacity-20"})]})})}),s.jsx(B,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.active})]}),s.jsx(Js,{className:"h-8 w-8 text-green-500 opacity-20"})]})})}),s.jsx(B,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:b.pending})]}),s.jsx(ya,{className:"h-8 w-8 text-yellow-500 opacity-20"})]})})})]}),s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between",children:[s.jsx(xe,{children:"Volunteer List"}),s.jsx("div",{className:"w-[200px]",children:s.jsxs(Ee,{value:i,onValueChange:o,children:[s.jsx(ke,{children:s.jsx(Pe,{placeholder:"Filter Status"})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:"All Statuses"}),s.jsx(K,{value:"pending",children:" Pending"}),s.jsx(K,{value:"active",children:" Active"}),s.jsx(K,{value:"rejected",children:" Rejected"}),s.jsx(K,{value:"inactive",children:" Inactive"})]})]})})]}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-6",children:[n.filter(g=>i==="all"||g.status===i).length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No volunteers found with this status."}),n.filter(g=>i==="all"||g.status===i).map(g=>s.jsx("div",{className:`border rounded-lg p-4 ${g.status==="pending"?"bg-yellow-50/50 border-yellow-200":"bg-white"}`,children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3 border-r pr-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx(Q,{variant:"outline",className:"bg-red-50 text-red-800 border-red-200",children:"Private Data"}),s.jsxs("div",{className:"flex items-center gap-2",children:[g.status==="pending"&&s.jsx(Q,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Pending"}),g.status==="active"&&s.jsx(Q,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Active"}),g.status==="rejected"&&s.jsx(Q,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Rejected"}),g.status==="inactive"&&s.jsx(Q,{className:"bg-gray-100 text-gray-800 hover:bg-gray-100",children:"Inactive"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(g.created_at).toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-500",children:"Full Name:"}),s.jsx("div",{className:"font-medium",children:g.full_name}),s.jsx("div",{className:"font-medium text-gray-500",children:"Phone:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"w-3 h-3"})," ",g.phone_number]}),s.jsx("div",{className:"font-medium text-gray-500",children:"WhatsApp:"}),s.jsx("div",{className:"text-green-600",children:g.whatsapp||"-"}),s.jsx("div",{className:"font-medium text-gray-500",children:"Telegram:"}),s.jsx("div",{className:"text-blue-600",children:g.telegram||"-"}),s.jsx("div",{className:"font-medium text-gray-500",children:"Location:"}),s.jsxs("div",{children:[g.city,", ",g.wilaya]}),s.jsx("div",{className:"font-medium text-gray-500",children:"Extra Info:"}),s.jsx("div",{className:"col-span-2 bg-gray-50 p-2 border rounded text-xs text-gray-600 max-h-20 overflow-y-auto",children:g.additional_info||"No extra info provided."})]}),s.jsxs("div",{className:"pt-4 flex gap-2",children:[g.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(D,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>x(g.id,"active"),children:"Approve"}),s.jsx(D,{size:"sm",variant:"destructive",onClick:()=>x(g.id,"rejected"),children:"Reject"})]}),g.status==="active"&&s.jsx(D,{size:"sm",variant:"secondary",onClick:()=>x(g.id,"inactive"),children:"Deactivate"}),(g.status==="inactive"||g.status==="rejected")&&s.jsx(D,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>x(g.id,"active"),children:"Re-Activate"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx(Q,{variant:"outline",className:"bg-blue-50 text-blue-800 border-blue-200",children:"Public Display"}),c===g.id?s.jsxs("div",{className:"flex gap-1",children:[s.jsx(D,{size:"sm",variant:"ghost",onClick:()=>l(null),children:s.jsx(Ct,{className:"w-4 h-4"})}),s.jsxs(D,{size:"sm",className:"bg-blue-600 text-white",onClick:()=>y(g.id),children:[s.jsx(nn,{className:"w-4 h-4 mr-1"})," Save"]})]}):s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>h(g),children:[s.jsx(on,{className:"w-4 h-4 mr-1"})," Edit"]})]}),c===g.id?s.jsxs("div",{className:"space-y-3 animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs",children:"Initials / Name"}),s.jsx(M,{value:d.display_initials,onChange:v=>u({...d,display_initials:v.target.value}),placeholder:"Ex: A. B."})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs",children:"Location"}),s.jsx(M,{value:d.display_location,onChange:v=>u({...d,display_location:v.target.value}),placeholder:"Public location display"})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs",children:"Description"}),s.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.display_description,onChange:v=>u({...d,display_description:v.target.value}),placeholder:"Short public description..."})]})]}):s.jsx("div",{className:"space-y-4 pt-2",children:s.jsxs("div",{className:`border rounded-lg p-4 shadow-sm relative overflow-hidden ${g.status==="active"?"border-blue-100 bg-white":"border-gray-200 bg-gray-50 opacity-70"}`,children:[s.jsx("div",{className:`absolute top-0 right-0 text-white text-[10px] px-2 py-0.5 rounded-bl ${g.status==="active"?"bg-blue-600":"bg-gray-500"}`,children:g.status==="active"?"LIVE PREVIEW":"HIDDEN"}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold",children:g.display_initials||"?"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-gray-800",children:g.display_initials||s.jsx("span",{className:"text-red-500 italic",children:"Not set"})}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(_s,{className:"w-3 h-3"})," ",g.display_location||s.jsx("span",{className:"text-red-500 italic",children:"Not set"})]})]})]}),s.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',g.display_description||s.jsx("span",{className:"text-red-500",children:"No public description."}),'"']})]})})]})]})},g.id))]})})]})]})})},H8=()=>{const e=[{title:"Home Page",path:"/",description:"Main landing page"},{title:"Privacy Policy",path:"/privacy",description:"Legal data protection policy"},{title:"Terms & Conditions",path:"/terms",description:"User agreement and rules"},{title:"FAQ",path:"/faq",description:"Frequently Asked Questions"},{title:"About Us",path:"/about",description:"Company information"}];return s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Content Management"}),s.jsx("p",{className:"text-gray-500",children:"Manage static pages and platform content."})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>s.jsxs(B,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(ce,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"w-5 h-5 text-gray-500"}),t.title]}),s.jsx(nt,{children:t.description})]}),s.jsx(V,{children:s.jsx("div",{className:"flex gap-2",children:s.jsx(D,{variant:"outline",className:"w-full",asChild:!0,children:s.jsxs("a",{href:t.path,target:"_blank",rel:"noreferrer",children:["View Page ",s.jsx(xl,{className:"w-3 h-3 ml-2"})]})})})})]},t.path))}),s.jsxs(B,{className:"bg-blue-50 border-blue-100",children:[s.jsx(ce,{children:s.jsx(xe,{className:"text-blue-800",children:"Note for Admin"})}),s.jsx(V,{className:"text-blue-700",children:"Currently, these pages are static code files. To edit the text content, you need to ask your developer or update the code files directly. A dynamic CMS can be implemented in the future."})]})]})})};function K8(){const{toast:e}=Ne(),[t,r]=f.useState(!0),[n,a]=f.useState([]),[i,o]=f.useState(""),[c,l]=f.useState("all");f.useEffect(()=>{d()},[]);const d=async()=>{r(!0);try{const{data:y,error:x}=await L.rpc("get_admin_users_full");if(x)throw x;a(y||[])}catch(y){console.error("Error fetching users:",y),e({title:"Error",description:y.message||"Failed to fetch users.",variant:"destructive"})}finally{r(!1)}},u=n.filter(y=>{var g,v,j,w;const x=((g=y.user_id)==null?void 0:g.toLowerCase().includes(i.toLowerCase()))||((v=y.email)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))||((j=y.first_name)==null?void 0:j.toLowerCase().includes(i.toLowerCase()))||((w=y.last_name)==null?void 0:w.toLowerCase().includes(i.toLowerCase())),b=c==="all"||y.role===c;return x&&b}),p=async(y,x)=>{try{const{error:b}=await L.from("user_roles").update({role:x}).eq("user_id",y);if(b)throw b;e({title:"Success",description:"User role updated"}),d()}catch{e({title:"Error",description:"Failed to update role",variant:"destructive"})}},m=async(y,x)=>{try{const{error:b}=await L.from("user_roles").update({is_active:!x}).eq("user_id",y);if(b)throw b;e({title:"Success",description:`User ${x?"disabled":"activated"}`}),d()}catch{e({title:"Error",description:"Failed to update status",variant:"destructive"})}},h=async y=>{try{const{error:x}=await L.rpc("admin_confirm_user_email",{target_user_id:y});if(x)throw x;e({title:"Success",description:"Email manually confirmed"}),d()}catch{e({title:"Error",description:"Failed to confirm email",variant:"destructive"})}};return s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Users & Admins"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage platform users and their roles."})]})}),s.jsxs(B,{children:[s.jsx(ce,{children:s.jsx(xe,{children:"User Management"})}),s.jsxs(V,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Xt,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(M,{placeholder:"Search by ID or Email...",className:"pl-8",value:i,onChange:y=>o(y.target.value)})]}),s.jsxs(Ee,{value:c,onValueChange:l,children:[s.jsx(ke,{className:"w-[180px]",children:s.jsx(Pe,{placeholder:"Filter by Role"})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:"All Roles"}),s.jsx(K,{value:"super_admin",children:"Super Admin"}),s.jsx(K,{value:"humanitarian_admin",children:"Humanitarian Admin"}),s.jsx(K,{value:"user",children:"User"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"User ID"}),s.jsx(re,{children:"Email / Name"}),s.jsx(re,{children:"Role"}),s.jsx(re,{children:"Verified"}),s.jsx(re,{children:"Status"}),s.jsx(re,{className:"text-right",children:"Actions"})]})}),s.jsx(ws,{children:t?s.jsx(Me,{children:s.jsx(te,{colSpan:6,className:"h-24 text-center",children:s.jsx(we,{className:"h-6 w-6 animate-spin mx-auto"})})}):u.length===0?s.jsx(Me,{children:s.jsx(te,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No users found."})}):u.map(y=>s.jsxs(Me,{children:[s.jsxs(te,{className:"font-mono text-xs text-muted-foreground w-[100px] truncate",title:y.user_id,children:[y.user_id.substring(0,8),"..."]}),s.jsx(te,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:y.first_name||y.last_name?`${y.first_name||""} ${y.last_name||""}`:"Unknown"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:y.email||"No Email"})]})}),s.jsx(te,{children:s.jsx(Q,{variant:y.role==="super_admin"?"default":y.role==="humanitarian_admin"?"outline":"secondary",children:y.role==="super_admin"?"Super Admin":y.role==="humanitarian_admin"?"Humanitarian":y.role})}),s.jsx(te,{children:y.email_confirmed_at?s.jsxs("div",{className:"flex items-center text-green-600 text-xs font-medium",children:[s.jsx($r,{className:"h-4 w-4 mr-1"})," Verified"]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center text-yellow-600 text-xs font-medium",children:[s.jsx(Za,{className:"h-4 w-4 mr-1"})," Pending"]}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 text-xs bg-primary/10 hover:bg-primary/20 text-primary px-2",onClick:()=>h(y.user_id),children:"Confirm"})]})}),s.jsx(te,{children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium cursor-pointer select-none ${y.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,onClick:()=>m(y.user_id,y.is_active),children:y.is_active?"Active":"Disabled"})}),s.jsx(te,{className:"text-right",children:s.jsxs(Ee,{defaultValue:y.role,onValueChange:x=>p(y.user_id,x),children:[s.jsx(ke,{className:"w-[110px] h-8 ml-auto",children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"user",children:"User"}),s.jsx(K,{value:"super_admin",children:"Super Admin"}),s.jsx(K,{value:"humanitarian_admin",children:"Humanitarian Admin"})]})]})})]},y.user_id))})]})})]})]})]})})}function G8({open:e,onOpenChange:t,suggestion:r,onUpdate:n}){const{toast:a}=Ne(),[i,o]=f.useState("pending"),[c,l]=f.useState(""),[d,u]=f.useState(!1);f.useEffect(()=>{r&&(o(r.status),l(r.admin_notes||""))},[r]);const p=async()=>{if(r){u(!0);try{const{error:m}=await L.from("store_product_suggestions").update({status:i,admin_notes:c}).eq("id",r.id);if(m)throw m;a({title:"Updated",description:"Suggestion status updated successfully."}),n(),t(!1)}catch(m){a({title:"Error",description:m.message,variant:"destructive"})}finally{u(!1)}}};return r?s.jsx(at,{open:e,onOpenChange:t,children:s.jsxs(st,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(vt,{children:s.jsx(bt,{children:"Review Suggestion"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase",children:"Product Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Product Name"}),s.jsx("p",{className:"font-medium",children:r.product_name})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("p",{className:"font-medium",children:[r.proposed_price," ",r.currency]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:r.store_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Location"}),s.jsx("p",{className:"font-medium",children:r.store_location||"N/A"})]})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Description"}),s.jsx("div",{className:"p-2 bg-muted/30 rounded-md text-sm min-h-[60px]",children:r.description||"No description provided."})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Images"}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:r.images&&r.images.length>0?r.images.map((m,h)=>s.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"relative h-20 w-20 border rounded-md overflow-hidden hover:opacity-80 transition-opacity",children:s.jsx("img",{src:m,alt:`Product ${h}`,className:"object-cover w-full h-full"})},h)):s.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No images uploaded"})})]})]}),s.jsxs("div",{className:"space-y-6 border-l pl-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase",children:"User Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Name"}),s.jsx("p",{className:"text-sm font-medium",children:r.full_name})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium",children:r.email||"N/A"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"text-sm",children:r.phone})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Source"}),s.jsx(Q,{variant:"outline",children:r.source_type})]})]}),(r.whatsapp||r.telegram)&&s.jsxs("div",{className:"pt-2 flex gap-2",children:[r.whatsapp&&s.jsxs(Q,{variant:"secondary",className:"bg-green-50 text-green-700",children:["WA: ",r.whatsapp]}),r.telegram&&s.jsxs(Q,{variant:"secondary",className:"bg-blue-50 text-blue-700",children:["TG: ",r.telegram]})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase",children:"Admin Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Status"}),s.jsxs(Ee,{value:i,onValueChange:o,children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"pending",children:"Pending"}),s.jsx(K,{value:"reviewed",children:"Reviewed"}),s.jsx(K,{value:"accepted",children:"Accepted"}),s.jsx(K,{value:"rejected",children:"Rejected"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{children:"Admin Notes"}),s.jsx(He,{placeholder:"Internal notes...",value:c,onChange:m=>l(m.target.value),className:"h-24"})]})]})]})]}),s.jsxs(vs,{children:[s.jsx(D,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(D,{onClick:p,disabled:d,children:[d?s.jsx(we,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})}):null}function Y8(){const{t:e}=ye(),{toast:t}=Ne(),[r,n]=f.useState(!0),[a,i]=f.useState([]),[o,c]=f.useState(""),[l,d]=f.useState("all"),[u,p]=f.useState(null),[m,h]=f.useState(!1),y=async()=>{n(!0);try{const{data:v,error:j}=await L.from("store_product_suggestions").select("*").order("created_at",{ascending:!1});if(j)throw j;i(v||[])}catch(v){console.error("Error fetching suggestions:",v),t({title:"Error",description:e("admin_store.suggestions.messages.errorFetch"),variant:"destructive"})}finally{n(!1)}};f.useEffect(()=>{y()},[]);const x=a.filter(v=>{var N,k;const j=((N=v.product_name)==null?void 0:N.toLowerCase().includes(o.toLowerCase()))||((k=v.full_name)==null?void 0:k.toLowerCase().includes(o.toLowerCase())),w=l==="all"||v.status===l;return j&&w}),b=v=>{switch(v){case"pending":return s.jsxs(Q,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[s.jsx(xo,{className:"w-3 h-3 mr-1"})," ",e("admin_store.suggestions.status.pending")]});case"reviewed":return s.jsxs(Q,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200",children:[s.jsx(zr,{className:"w-3 h-3 mr-1"})," ",e("admin_store.suggestions.status.reviewed")]});case"accepted":return s.jsxs(Q,{className:"bg-green-100 text-green-700 border-green-200 hover:bg-green-100",children:[s.jsx(Ur,{className:"w-3 h-3 mr-1"})," ",e("admin_store.suggestions.status.accepted")]});case"rejected":return s.jsxs(Q,{variant:"destructive",className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",children:[s.jsx(Za,{className:"w-3 h-3 mr-1"})," ",e("admin_store.suggestions.status.rejected")]});default:return s.jsx(Q,{variant:"outline",children:v})}},g=v=>{p(v),h(!0)};return s.jsxs(It,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e("admin_store.suggestions.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_store.suggestions.subtitle")})]})}),s.jsxs(B,{children:[s.jsx(ce,{children:s.jsx(xe,{children:e("admin_store.suggestions.listTitle")})}),s.jsxs(V,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Xt,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(M,{placeholder:e("admin_store.suggestions.search.placeholder"),className:"pl-8",value:o,onChange:v=>c(v.target.value)})]}),s.jsxs(Ee,{value:l,onValueChange:d,children:[s.jsx(ke,{className:"w-[180px]",children:s.jsx(Pe,{placeholder:e("admin_store.suggestions.search.filter")})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:e("admin_store.suggestions.status.all")}),s.jsx(K,{value:"pending",children:e("admin_store.suggestions.status.pending")}),s.jsx(K,{value:"reviewed",children:e("admin_store.suggestions.status.reviewed")}),s.jsx(K,{value:"accepted",children:e("admin_store.suggestions.status.accepted")}),s.jsx(K,{value:"rejected",children:e("admin_store.suggestions.status.rejected")})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:e("admin_store.suggestions.table.product")}),s.jsx(re,{children:e("admin_store.suggestions.table.price")}),s.jsx(re,{children:e("admin_store.suggestions.table.user")}),s.jsx(re,{children:e("admin_store.suggestions.table.status")}),s.jsx(re,{children:e("admin_store.suggestions.table.date")}),s.jsx(re,{className:"text-right",children:e("admin_store.suggestions.table.actions")})]})}),s.jsx(ws,{children:r?s.jsx(Me,{children:s.jsx(te,{colSpan:6,className:"h-24 text-center",children:s.jsx(we,{className:"h-6 w-6 animate-spin mx-auto"})})}):x.length===0?s.jsx(Me,{children:s.jsx(te,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:e("admin_store.suggestions.messages.empty")})}):x.map(v=>s.jsxs(Me,{children:[s.jsx(te,{className:"font-medium",children:v.product_name}),s.jsxs(te,{children:[v.proposed_price," ",v.currency]}),s.jsx(te,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:v.full_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:v.phone})]})}),s.jsx(te,{children:b(v.status)}),s.jsx(te,{className:"text-xs text-muted-foreground",children:new Date(v.created_at).toLocaleDateString()}),s.jsx(te,{className:"text-right",children:s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>g(v),children:e("admin_store.suggestions.actions.review")})})]},v.id))})]})})]})]})]}),s.jsx(G8,{open:m,onOpenChange:h,suggestion:u,onUpdate:y})]})}const Im=768;function J8(){const[e,t]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Im-1}px)`),n=()=>{t(window.innerWidth<Im)};return r.addEventListener("change",n),t(window.innerWidth<Im),()=>r.removeEventListener("change",n)},[]),!!e}function Vb({className:e,...t}){return s.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}const Q8="sidebar:state",X8=60*60*24*7,Z8="16rem",e$="18rem",t$="3rem",s$="b",Ok=f.createContext(null);function Ch(){const e=f.useContext(Ok);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Dk=f.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},c)=>{const l=J8(),[d,u]=f.useState(!1),[p,m]=f.useState(e),h=t??p,y=f.useCallback(v=>{const j=typeof v=="function"?v(h):v;r?r(j):m(j),document.cookie=`${Q8}=${j}; path=/; max-age=${X8}`},[r,h]),x=f.useCallback(()=>l?u(v=>!v):y(v=>!v),[l,y,u]);f.useEffect(()=>{const v=j=>{j.key===s$&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),x())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[x]);const b=h?"expanded":"collapsed",g=f.useMemo(()=>({state:b,open:h,setOpen:y,isMobile:l,openMobile:d,setOpenMobile:u,toggleSidebar:x}),[b,h,y,l,d,u,x]);return s.jsx(Ok.Provider,{value:g,children:s.jsx(K_,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":Z8,"--sidebar-width-icon":t$,...a},className:J("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...o,children:i})})})});Dk.displayName="SidebarProvider";const r$=f.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:c,state:l,openMobile:d,setOpenMobile:u}=Ch();return r==="none"?s.jsx("div",{className:J("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):c?s.jsx(hS,{open:d,onOpenChange:u,...i,children:s.jsx(xx,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":e$},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:J("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:J("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});r$.displayName="Sidebar";const n$=f.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Ch();return s.jsxs(D,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:J("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(wT,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});n$.displayName="SidebarTrigger";const a$=f.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Ch();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:J("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});a$.displayName="SidebarRail";const i$=f.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:J("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));i$.displayName="SidebarInset";const o$=f.forwardRef(({className:e,...t},r)=>s.jsx(M,{ref:r,"data-sidebar":"input",className:J("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));o$.displayName="SidebarInput";const l$=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:J("flex flex-col gap-2 p-2",e),...t}));l$.displayName="SidebarHeader";const c$=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:J("flex flex-col gap-2 p-2",e),...t}));c$.displayName="SidebarFooter";const d$=f.forwardRef(({className:e,...t},r)=>s.jsx(vu,{ref:r,"data-sidebar":"separator",className:J("mx-2 w-auto bg-sidebar-border",e),...t}));d$.displayName="SidebarSeparator";const u$=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:J("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));u$.displayName="SidebarContent";const h$=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:J("relative flex w-full min-w-0 flex-col p-2",e),...t}));h$.displayName="SidebarGroup";const m$=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?ko:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:J("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});m$.displayName="SidebarGroupLabel";const p$=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?ko:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:J("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});p$.displayName="SidebarGroupAction";const f$=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:J("w-full text-sm",e),...t}));f$.displayName="SidebarGroupContent";const g$=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:J("flex w-full min-w-0 flex-col gap-1",e),...t}));g$.displayName="SidebarMenu";const x$=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:J("group/menu-item relative",e),...t}));x$.displayName="SidebarMenuItem";const y$=di("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),v$=f.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},c)=>{const l=e?ko:"button",{isMobile:d,state:u}=Ch(),p=s.jsx(l,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:J(y$({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(RR,{children:[s.jsx(OR,{asChild:!0,children:p}),s.jsx(G_,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):p});v$.displayName="SidebarMenuButton";const b$=f.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?ko:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:J("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});b$.displayName="SidebarMenuAction";const j$=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:J("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));j$.displayName="SidebarMenuBadge";const w$=f.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=f.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:J("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&s.jsx(Vb,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Vb,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});w$.displayName="SidebarMenuSkeleton";const _$=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:J("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));_$.displayName="SidebarMenuSub";const N$=f.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));N$.displayName="SidebarMenuSubItem";const S$=f.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?ko:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:J("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});S$.displayName="SidebarMenuSubButton";function Er(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function oi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Ik=6048e5,k$=864e5;let C$={};function Eh(){return C$}function nc(e,t){var c,l,d,u;const r=Eh(),n=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Er(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Nu(e){return nc(e,{weekStartsOn:1})}function Lk(e){const t=Er(e),r=t.getFullYear(),n=oi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Nu(n),i=oi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Nu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Wb(e){const t=Er(e);return t.setHours(0,0,0,0),t}function Hb(e){const t=Er(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function E$(e,t){const r=Wb(e),n=Wb(t),a=+r-Hb(r),i=+n-Hb(n);return Math.round((a-i)/k$)}function P$(e){const t=Lk(e),r=oi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Nu(r)}function T$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function A$(e){if(!T$(e)&&typeof e!="number")return!1;const t=Er(e);return!isNaN(Number(t))}function R$(e){const t=Er(e),r=oi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const O$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D$=(e,t,r)=>{let n;const a=O$[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Lm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const I$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F$={date:Lm({formats:I$,defaultWidth:"full"}),time:Lm({formats:L$,defaultWidth:"full"}),dateTime:Lm({formats:M$,defaultWidth:"full"})},$$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q$=(e,t,r,n)=>$$[e];function Xo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const U$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},B$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},V$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K$=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},G$={ordinalNumber:K$,era:Xo({values:U$,defaultWidth:"wide"}),quarter:Xo({values:z$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xo({values:B$,defaultWidth:"wide"}),day:Xo({values:V$,defaultWidth:"wide"}),dayPeriod:Xo({values:W$,defaultWidth:"wide",formattingValues:H$,defaultFormattingWidth:"wide"})};function Zo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?J$(c,p=>p.test(o)):Y$(c,p=>p.test(o));let d;d=e.valueCallback?e.valueCallback(l):l,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Y$(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function J$(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Q$(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const X$=/^(\d+)(th|st|nd|rd)?/i,Z$=/\d+/i,eq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tq={any:[/^b/i,/^(a|c)/i]},sq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rq={any:[/1/i,/2/i,/3/i,/4/i]},nq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dq={ordinalNumber:Q$({matchPattern:X$,parsePattern:Z$,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:eq,defaultMatchWidth:"wide",parsePatterns:tq,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:sq,defaultMatchWidth:"wide",parsePatterns:rq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:nq,defaultMatchWidth:"wide",parsePatterns:aq,defaultParseWidth:"any"}),day:Zo({matchPatterns:iq,defaultMatchWidth:"wide",parsePatterns:oq,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:lq,defaultMatchWidth:"any",parsePatterns:cq,defaultParseWidth:"any"})},uq={code:"en-US",formatDistance:D$,formatLong:F$,formatRelative:q$,localize:G$,match:dq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hq(e){const t=Er(e);return E$(t,R$(t))+1}function mq(e){const t=Er(e),r=+Nu(t)-+P$(t);return Math.round(r/Ik)+1}function Mk(e,t){var u,p,m,h;const r=Er(e),n=r.getFullYear(),a=Eh(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=oi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=nc(o,t),l=oi(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const d=nc(l,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function pq(e,t){var c,l,d,u;const r=Eh(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Mk(e,t),i=oi(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),nc(i,t)}function fq(e,t){const r=Er(e),n=+nc(r,t)-+pq(r,t);return Math.round(n/Ik)+1}function Ve(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const An={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ve(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ve(r+1,2)},d(e,t){return Ve(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ve(e.getHours()%12||12,t.length)},H(e,t){return Ve(e.getHours(),t.length)},m(e,t){return Ve(e.getMinutes(),t.length)},s(e,t){return Ve(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ve(a,t.length)}},Ci={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kb={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return An.y(e,t)},Y:function(e,t,r,n){const a=Mk(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ve(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ve(i,t.length)},R:function(e,t){const r=Lk(e);return Ve(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ve(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ve(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ve(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return An.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ve(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=fq(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ve(a,t.length)},I:function(e,t,r){const n=mq(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ve(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):An.d(e,t)},D:function(e,t,r){const n=hq(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ve(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ve(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ve(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ve(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ci.noon:n===0?a=Ci.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ci.evening:n>=12?a=Ci.afternoon:n>=4?a=Ci.morning:a=Ci.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return An.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):An.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):An.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):An.s(e,t)},S:function(e,t){return An.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Yb(n);case"XXXX":case"XX":return Ta(n);case"XXXXX":case"XXX":default:return Ta(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Yb(n);case"xxxx":case"xx":return Ta(n);case"xxxxx":case"xxx":default:return Ta(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gb(n,":");case"OOOO":default:return"GMT"+Ta(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gb(n,":");case"zzzz":default:return"GMT"+Ta(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ve(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ve(n,t.length)}};function Gb(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ve(i,2)}function Yb(e,t){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):Ta(e,t)}function Ta(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ve(Math.trunc(n/60),2),i=Ve(n%60,2);return r+a+t+i}const Jb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Fk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},gq=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Jb(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Jb(n,t)).replace("{{time}}",Fk(a,t))},xq={p:Fk,P:gq},yq=/^D+$/,vq=/^Y+$/,bq=["D","DD","YY","YYYY"];function jq(e){return yq.test(e)}function wq(e){return vq.test(e)}function _q(e,t,r){const n=Nq(e,t,r);if(console.warn(n),bq.includes(e))throw new RangeError(n)}function Nq(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cq=/^'([^]*?)'?$/,Eq=/''/g,Pq=/[a-zA-Z]/;function Tq(e,t,r){var u,p,m,h;const n=Eh(),a=n.locale??uq,i=n.firstWeekContainsDate??((p=(u=n.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??1,o=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,c=Er(e);if(!A$(c))throw new RangeError("Invalid time value");let l=t.match(kq).map(y=>{const x=y[0];if(x==="p"||x==="P"){const b=xq[x];return b(y,a.formatLong)}return y}).join("").match(Sq).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:Aq(y)};if(Kb[x])return{isToken:!0,value:y};if(x.match(Pq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(l=a.localize.preprocessor(c,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(wq(x)||jq(x))&&_q(x,t,String(e));const b=Kb[x[0]];return b(c,x,a.localize,d)}).join("")}function Aq(e){const t=e.match(Cq);return t?t[1].replace(Eq,"'"):e}function Rq({open:e,onOpenChange:t,donation:r,onUpdate:n}){const{toast:a}=Ne(),[i,o]=f.useState(!1),[c,l]=f.useState(!1),[d,u]=f.useState("pending"),[p,m]=f.useState(""),[h,y]=f.useState(""),[x,b]=f.useState(""),[g,v]=f.useState(""),[j,w]=f.useState("1"),[N,k]=f.useState(""),[_,C]=f.useState(""),[A,E]=f.useState([]),[S,T]=f.useState(null);f.useEffect(()=>{var U;r&&(u(r.status),m(r.admin_description||r.description||""),y(r.item_name||""),b(r.category||"medicine"),v(r.condition||"new"),w(((U=r.quantity)==null?void 0:U.toString())||"1"),k(r.location||""),C(r.rejection_reason||""),E(r.images||[]),T(r.main_image||(r.images&&r.images.length>0?r.images[0]:null)))},[r]);const R=async U=>{if(!U.target.files||U.target.files.length===0)return;l(!0);const F=Array.from(U.target.files),O=[];try{for(const H of F){const ne=H.name.split(".").pop(),pe=`${`${crypto.randomUUID()}.${ne}`}`,{error:me}=await L.storage.from("donation-images").upload(pe,H);if(me)throw me;const{data:Oe}=L.storage.from("donation-images").getPublicUrl(pe);O.push(Oe.publicUrl)}const $=[...A,...O];E($),!S&&$.length>0&&T($[0]),a({title:"Images uploaded",description:`${F.length} images added.`})}catch($){console.error($),a({title:"Upload Failed",description:$.message,variant:"destructive"})}finally{l(!1)}},I=U=>{const F=A.filter(O=>O!==U);E(F),S===U&&T(F.length>0?F[0]:null)},z=async()=>{if(r){o(!0);try{const{error:U}=await L.from("material_donations").update({status:d,admin_description:p,rejection_reason:_,item_name:h,category:x,condition:g,quantity:parseInt(j)||1,location:N,images:A,main_image:S}).eq("id",r.id);if(U)throw U;a({title:"Updated",description:"Donation updated successfully."}),["approved","rejected","completed","pending"].includes(d)&&(console.log("Triggering email for status:",d),L.functions.invoke("send-email",{body:{type:"material_donation_update",record:{...r,status:d,admin_description:p,item_name:h,rejection_reason:_},admin_note:_}}).then(({data:F,error:O})=>{O?console.error("Email API Error:",O):console.log("Email sent:",F)})),n(),t(!1)}catch(U){a({title:"Error",description:U.message,variant:"destructive"})}finally{o(!1)}}};return r?s.jsx(at,{open:e,onOpenChange:t,children:s.jsxs(st,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(vt,{children:s.jsx(bt,{children:"Mise  jour Don Matriel"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-sm text-green-700 bg-green-50 p-2 rounded block border border-green-200 flex justify-between items-center",children:[s.jsx("span",{children:"Gestion Contenu Public"}),s.jsx(Q,{variant:"secondary",className:"text-[10px] bg-white text-green-700",children:"Editable"})]}),s.jsxs("div",{className:"space-y-3 p-1",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Titre de l'Article"}),s.jsx(M,{value:h,onChange:U=>y(U.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Catgorie"}),s.jsxs(Ee,{value:x,onValueChange:b,children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"medicine",children:"Mdicament"}),s.jsx(K,{value:"equipment",children:"quipement"}),s.jsx(K,{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"tat"}),s.jsxs(Ee,{value:g,onValueChange:v,children:[s.jsx(ke,{children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"new",children:"Neuf"}),s.jsx(K,{value:"used_good",children:"Bon tat"}),s.jsx(K,{value:"used_fair",children:"Moyen"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Quantit"}),s.jsx(M,{type:"number",value:j,onChange:U=>w(U.target.value)})]}),s.jsxs("div",{children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Localisation"}),s.jsx(M,{value:N,onChange:U=>k(U.target.value)})]})]}),s.jsxs("div",{children:[s.jsxs(P,{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{children:"Gestion des Photos"}),s.jsx(Q,{variant:"outline",className:"text-[10px]",children:"Star = Principale"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[A.map((U,F)=>s.jsxs("div",{className:`relative aspect-square border-2 rounded-md overflow-hidden group cursor-pointer ${S===U?"border-green-500 ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>T(U),children:[s.jsx("img",{src:U,alt:"Item",className:"object-cover w-full h-full"}),S===U&&s.jsx("div",{className:"absolute top-1 left-1 bg-green-500 text-white rounded-full p-0.5",children:s.jsx(go,{className:"h-3 w-3"})}),s.jsx("button",{onClick:O=>{O.stopPropagation(),I(U)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ct,{className:"h-3 w-3"})})]},F)),s.jsxs("label",{className:"flex flex-col items-center justify-center aspect-square border-2 border-dashed rounded-md cursor-pointer hover:bg-gray-50 transition-colors",children:[c?s.jsx(we,{className:"h-5 w-5 animate-spin"}):s.jsx(ti,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-[10px] text-muted-foreground mt-1",children:"Ajouter"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:R,disabled:c})]})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Cliquez sur une photo pour la dfinir comme principale (affiche sur la carte)."})]})]})]}),s.jsxs("div",{className:"space-y-6 border-l pl-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-sm text-red-700 bg-red-50 p-2 rounded block border border-red-200",children:"Information Donneur (PRIV)"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-[100px_1fr] items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Nom:"}),s.jsx("span",{className:"font-medium",children:r.donor_name})]}),s.jsxs("div",{className:"grid grid-cols-[100px_1fr] items-center",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(Sr,{className:"h-3 w-3"})," Tl:"]}),s.jsx("span",{className:"font-medium select-all",children:r.phone})]}),r.whatsapp&&s.jsxs("div",{className:"grid grid-cols-[100px_1fr] items-center",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(pn,{className:"h-3 w-3 text-green-600"})," WhatsApp:"]}),s.jsx("span",{className:"font-medium select-all",children:r.whatsapp})]}),r.telegram&&s.jsxs("div",{className:"grid grid-cols-[100px_1fr] items-center",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(ua,{className:"h-3 w-3 text-blue-500"})," Telegram:"]}),s.jsx("span",{className:"font-medium select-all",children:r.telegram})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx(P,{className:"text-xs text-muted-foreground",children:"Description Originale"}),s.jsxs("div",{className:"mt-1 p-2 bg-gray-50 rounded border text-sm italic text-gray-700 min-h-[60px] text-xs",children:['"',r.description,'"']})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t-2 border-dashed",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(P,{className:"text-green-700 font-bold",children:"Statut"}),s.jsxs(Ee,{value:d,onValueChange:u,children:[s.jsx(ke,{className:"w-full",children:s.jsx(Pe,{})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"pending",children:"En attente (Pending)"}),s.jsx(K,{value:"approved",children:"Approuv (Visible Public)"}),s.jsx(K,{value:"rejected",children:"Rejet"}),s.jsx(K,{value:"completed",children:"Termin / Donn"})]})]})]}),s.jsxs("div",{className:`space-y-2 p-3 rounded-md border animate-in fade-in zoom-in-95 duration-200 ${d==="rejected"?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx(P,{className:`${d==="rejected"?"text-red-700":"text-gray-700"} font-medium`,children:d==="rejected"?"Motif du rejet (Note Admin)":"Note Admin (Interne)"}),s.jsx(He,{placeholder:d==="rejected"?"Expliquez pourquoi ce don est rejet...":"Notes internes pour les administrateurs...",value:_,onChange:U=>C(U.target.value),className:`min-h-[80px] focus-visible:ring-offset-0 ${d==="rejected"?"border-red-200 focus-visible:ring-red-500":"border-gray-300 focus-visible:ring-gray-400"}`}),d==="rejected"&&s.jsx("p",{className:"text-[10px] text-red-600",children:"* Ce message sera inclus dans l'email envoy au donateur."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(P,{className:"flex justify-between",children:[s.jsx("span",{children:"Description Publique"}),s.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Visible sur le site"})]}),s.jsx(He,{placeholder:"Description publique...",value:p,onChange:U=>m(U.target.value),className:"h-32 font-normal"})]})]})]})]}),s.jsxs(vs,{children:[s.jsx(D,{variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(D,{onClick:z,disabled:i,className:"bg-green-600 hover:bg-green-700",children:[i?s.jsx(we,{className:"h-4 w-4 animate-spin mr-2"}):null,"Enregistrer Modification"]})]})]})}):null}function Oq(){const[e,t]=f.useState([]),[r,n]=f.useState(!0),[a,i]=f.useState(""),[o,c]=f.useState("all"),[l,d]=f.useState(null),[u,p]=f.useState(!1),m=async()=>{n(!0);try{let b=L.from("material_donations").select("*").order("created_at",{ascending:!1});o!=="all"&&(b=b.eq("status",o));const{data:g,error:v}=await b;if(v)throw v;t(g||[])}catch(b){console.error("Error fetching donations:",b)}finally{n(!1)}};f.useEffect(()=>{m()},[o]);const h=e.filter(b=>b.item_name.toLowerCase().includes(a.toLowerCase())||b.donor_name.toLowerCase().includes(a.toLowerCase())||b.location.toLowerCase().includes(a.toLowerCase())),y=b=>{d(b),p(!0)},x=({status:b})=>{switch(b){case"pending":return s.jsx(Q,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"En attente"});case"approved":return s.jsx(Q,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Approuv"});case"rejected":return s.jsx(Q,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Rejet"});case"completed":return s.jsx(Q,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Termin"});default:return s.jsx(Q,{variant:"outline",children:b})}};return s.jsxs(Dk,{children:[s.jsxs("div",{className:"min-h-screen w-full bg-slate-50",children:[s.jsx(ZS,{}),s.jsx("main",{className:"transition-all duration-200 ease-in-out md:pl-64",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Dons Matriels"}),s.jsx("p",{className:"text-slate-500",children:"Grez les propositions de dons d'articles."})]}),s.jsxs(D,{onClick:m,variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(we,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Actualiser"]})]}),s.jsxs(B,{children:[s.jsx(ce,{className:"pb-3",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"relative w-full md:w-72",children:[s.jsx(Xt,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(M,{type:"search",placeholder:"Rechercher (Article, Donneur, Lieu)...",className:"pl-8",value:a,onChange:b=>i(b.target.value)})]}),s.jsxs(Ee,{value:o,onValueChange:c,children:[s.jsx(ke,{className:"w-[180px]",children:s.jsx(Pe,{placeholder:"Filtrer par statut"})}),s.jsxs(Ce,{children:[s.jsx(K,{value:"all",children:"Tous les statuts"}),s.jsx(K,{value:"pending",children:"En attente"}),s.jsx(K,{value:"approved",children:"Approuvs"}),s.jsx(K,{value:"rejected",children:"Rejets"}),s.jsx(K,{value:"completed",children:"Termins"})]})]})]})}),s.jsx(V,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(bs,{children:[s.jsx(js,{children:s.jsxs(Me,{children:[s.jsx(re,{children:"Article"}),s.jsx(re,{children:"Donneur"}),s.jsx(re,{children:"Lieu"}),s.jsx(re,{children:"Catgorie"}),s.jsx(re,{children:"Date"}),s.jsx(re,{children:"Statut"}),s.jsx(re,{className:"text-right",children:"Actions"})]})}),s.jsx(ws,{children:r?s.jsx(Me,{children:s.jsx(te,{colSpan:7,className:"h-24 text-center",children:"Chargement..."})}):h.length===0?s.jsx(Me,{children:s.jsx(te,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"Aucun don trouv."})}):h.map(b=>s.jsxs(Me,{children:[s.jsx(te,{className:"font-medium",children:b.item_name}),s.jsx(te,{children:b.donor_name}),s.jsx(te,{children:b.location}),s.jsx(te,{children:b.category==="medicine"?"Mdicament":b.category==="equipment"?"quipement":"Autre"}),s.jsx(te,{className:"text-xs text-muted-foreground",children:Tq(new Date(b.created_at),"dd/MM/yyyy")}),s.jsx(te,{children:s.jsx(x,{status:b.status})}),s.jsx(te,{className:"text-right",children:s.jsxs(D,{size:"sm",variant:"ghost",onClick:()=>y(b),children:[s.jsx(zr,{className:"h-4 w-4 mr-2"}),"Grer"]})})]},b.id))})]})})})]})]})})]}),s.jsx(Rq,{open:u,onOpenChange:p,donation:l,onUpdate:m})]})}function Dq(){return s.jsx(It,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics & Logs"}),s.jsx("p",{className:"text-muted-foreground",children:"Platform performance and activity logs."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Visits"}),s.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"1,245"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Active Sessions"}),s.jsx(Yw,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"42"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current active users"})]})]}),s.jsxs(B,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Conversion Rate"}),s.jsx(an,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"3.2%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+0.4% from last week"})]})]})]}),s.jsxs(B,{children:[s.jsxs(ce,{children:[s.jsx(xe,{children:"Activity Logs"}),s.jsx(nt,{children:"Recent admin actions and system events."})]}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:[s.jsx(Jw,{className:"h-10 w-10 mb-2 opacity-20"}),s.jsx("p",{children:"Detailed analytics integration coming soon."})]})})})]})]})})}const Nt=({children:e,allowedRoles:t})=>{const{role:r,isActive:n,loading:a}=Sx(),i=Et();return f.useEffect(()=>{if(!a){if(!r){i("/admin");return}if(!n){i("/admin");return}t&&!t.includes(r)&&i("/admin/dashboard")}},[r,n,a,i,t]),a?s.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})}):!r||!n||t&&!t.includes(r)?null:s.jsx(s.Fragment,{children:e})},Iq=new s3,Lq=()=>s.jsx(n3,{client:Iq,children:s.jsx(K_,{children:s.jsxs(PI,{children:[s.jsx(h_,{}),s.jsx(m_,{}),s.jsxs(k6,{children:[s.jsx(F8,{}),s.jsx($8,{}),s.jsxs(y6,{children:[s.jsx(ve,{path:"/",element:s.jsx(hM,{})}),s.jsx(ve,{path:"/order",element:s.jsx(mM,{})}),s.jsx(ve,{path:"/success/:orderId",element:s.jsx(pM,{})}),s.jsx(ve,{path:"/contact",element:s.jsx(fM,{})}),s.jsx(ve,{path:"/privacy",element:s.jsx(q8,{})}),s.jsx(ve,{path:"/terms",element:s.jsx(U8,{})}),s.jsx(ve,{path:"/faq",element:s.jsx(z8,{})}),s.jsx(ve,{path:"/about",element:s.jsx(TM,{})}),s.jsx(ve,{path:"/track",element:s.jsx(xM,{})}),s.jsx(ve,{path:"/referral",element:s.jsx(kM,{})}),s.jsx(ve,{path:"/verify",element:s.jsx(Tn,{to:"/track",replace:!0})}),s.jsx(ve,{path:"/admin",element:s.jsx(jM,{})}),s.jsx(ve,{path:"/admin/dashboard",element:s.jsx(Nt,{children:s.jsx(B8,{})})}),s.jsx(ve,{path:"/admin/alkhayr",element:s.jsx(Nt,{children:s.jsx(rF,{})})}),s.jsx(ve,{path:"/admin/blood",element:s.jsx(Nt,{children:s.jsx(f8,{})})}),s.jsx(ve,{path:"/admin/transport",element:s.jsx(Nt,{children:s.jsx(W8,{})})}),s.jsx(ve,{path:"/admin/material-donations",element:s.jsx(Nt,{children:s.jsx(Oq,{})})}),s.jsx(ve,{path:"/admin/orders",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(V8,{})})}),s.jsx(ve,{path:"/admin/orders/:orderId",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(_M,{})})}),s.jsx(ve,{path:"/admin/store",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(M8,{})})}),s.jsx(ve,{path:"/admin/exchange",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(x8,{})})}),s.jsx(ve,{path:"/admin/exchange-rates",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(y8,{})})}),s.jsx(ve,{path:"/admin/import-requests",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(b8,{})})}),s.jsx(ve,{path:"/admin/import-requests/:id",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(j8,{})})}),s.jsx(ve,{path:"/admin/product-suggestions",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(Y8,{})})}),s.jsx(ve,{path:"/admin/agent-registrations",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(S8,{})})}),s.jsx(ve,{path:"/admin/agent-registrations/:id",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(k8,{})})}),s.jsx(ve,{path:"/admin/referrals",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(PM,{})})}),s.jsx(ve,{path:"/admin/content",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(H8,{})})}),s.jsx(ve,{path:"/admin/settings",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(wM,{})})}),s.jsx(ve,{path:"/admin/users",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(K8,{})})}),s.jsx(ve,{path:"/admin/analytics",element:s.jsx(Nt,{allowedRoles:["super_admin"],children:s.jsx(Dq,{})})}),s.jsx(ve,{path:"/alkhayr",element:s.jsx(Tn,{to:"/alkhayr/main?type=local",replace:!0})}),s.jsx(ve,{path:"/alkhayr/main",element:s.jsx(fF,{})}),s.jsx(ve,{path:"/alkhayr/legacy",element:s.jsx(t8,{})}),s.jsx(ve,{path:"/alkhayr/local",element:s.jsx(Tn,{to:"/alkhayr/main?type=local",replace:!0})}),s.jsx(ve,{path:"/alkhayr/foreign",element:s.jsx(Tn,{to:"/alkhayr/main?type=foreign",replace:!0})}),s.jsx(ve,{path:"/alkhayr/diaspora",element:s.jsx(Tn,{to:"/alkhayr/main?type=diaspora",replace:!0})}),s.jsx(ve,{path:"/alkhayr/my-requests",element:s.jsx(Tn,{to:"/alkhayr/main?type=my-requests",replace:!0})}),s.jsx(ve,{path:"/alkhayr/requests",element:s.jsx(Tn,{to:"/alkhayr/main?type=requests",replace:!0})}),s.jsx(ve,{path:"/blood-donation",element:s.jsx(m8,{})}),s.jsx(ve,{path:"/alkhayr/blood/*",element:s.jsx(Tn,{to:"/blood-donation",replace:!0})}),s.jsx(ve,{path:"/alkhayr/zero-commission",element:s.jsx(RM,{})}),s.jsx(ve,{path:"/alkhayr/faq",element:s.jsx(QM,{})}),s.jsx(ve,{path:"/store",element:s.jsx(Bb,{})}),s.jsx(ve,{path:"/store/:categorySlug",element:s.jsx(Bb,{})}),s.jsx(ve,{path:"/store/product/:slug",element:s.jsx(O8,{})}),s.jsx(ve,{path:"/exchange",element:s.jsx(g8,{})}),s.jsx(ve,{path:"/import-request",element:s.jsx(_8,{})}),s.jsx(ve,{path:"/register-agent",element:s.jsx(N8,{})}),s.jsx(ve,{path:"/style-guide",element:s.jsx(P8,{})}),s.jsx(ve,{path:"/health",element:s.jsx(v8,{})}),s.jsx(ve,{path:"*",element:s.jsx(AM,{})})]})]})]})})}),$k=e=>{const t=document.documentElement;t.lang=e,t.dir=e==="ar"?"rtl":"ltr"};$k(dt.language);dt.on("languageChanged",$k);vw(document.getElementById("root")).render(s.jsx(Lq,{}));
